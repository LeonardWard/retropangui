# RetroPangui í”„ë¡œì íŠ¸ ê°œë°œ ì´ë ¥ ì•„ì¹´ì´ë¸Œ

> **âš ï¸ í†µí•© ì•„ì¹´ì´ë¸Œ ë¬¸ì„œ**
> ì´ ë¬¸ì„œëŠ” í”„ë¡œì íŠ¸ ì‹œì‘(2025-08)ë¶€í„° 2025-11-08ê¹Œì§€ì˜ ì „ì²´ ê°œë°œ ì´ë ¥ì„ ë³´ê´€í•œ í†µí•© ì•„ì¹´ì´ë¸Œì…ë‹ˆë‹¤.
> **ë” ì´ìƒ ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**
> ìµœì‹  í•¸ë“œì˜¤ë²„ ì •ë³´ëŠ” [HANDOVER.md](HANDOVER.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

---

**ëª©ì°¨**
- [Part 1: ì´ˆê¸° ê°œë°œ ë° ì•„í‚¤í…ì²˜ ê²°ì • (2025-08 ~ 2025-10-25)](#part-1-ì´ˆê¸°-ê°œë°œ-ë°-ì•„í‚¤í…ì²˜-ê²°ì •-2025-08--2025-10-25)
- [Part 2: í”„ë¡œì íŠ¸ ì•ˆì •í™” ë° ë¬¸ì„œí™” (2025-10-26)](#part-2-í”„ë¡œì íŠ¸-ì•ˆì •í™”-ë°-ë¬¸ì„œí™”-2025-10-26)
- [Part 3: ìµœì‹  ê°œë°œ ì´ë ¥ (2025-10-26 ~ 2025-11-08)](#part-3-ìµœì‹ -ê°œë°œ-ì´ë ¥-2025-10-26--2025-11-08)

---


# Part 1: ì´ˆê¸° ê°œë°œ ë° ì•„í‚¤í…ì²˜ ê²°ì • (2025-08 ~ 2025-10-25)

> ì¶œì²˜: `handover_retropangui.md` (ì‘ì„±ì¼: 2025-10-25)

---

# RetroPangui Hnadover Doc

## ê°œìš”
- í”„ë¡œì íŠ¸ ì´ë¦„ : Retro Pang-ui
- ê°œë°œ ì‹œì‘ì¼ : 2025-8-22
- ë‹´ë‹¹ì : LeonardWard
- í”„ë¡œì íŠ¸ ë£¨íŠ¸ : /home/pangui/scripts/retropangui/
- í”„ë¡œì íŠ¸ ê°œìš” : RetroArch, Emulationstation, Recalbox, Batocera, ES-DE, Retropie ë“±ì„ ì°¸ê³ í•˜ì—¬ ë…ìì ì¸ ë ˆíŠ¸ë¡œê²Œì„ í”„ë¡ íŠ¸ì•¤ë“œë¥¼ ê°œë°œí•œë‹¤.

## ìµœì¢… ëª©í‘œ: ë…ìì ì¸ ë ˆíŠ¸ë¡œê²Œì„ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ

RetroPanguiì˜ ìµœì¢… ëª©í‘œëŠ” ê¸°ì¡´ì˜ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë¥¼ ì°¸ê³ í•˜ì—¬, **ë…ìì ì¸ ë ˆíŠ¸ë¡œê²Œì„ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ê°œë°œ**í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

### í•µì‹¬ ê°œë°œ ì „ëµ: RetroPie EmulationStation(ES) ê¸°ë°˜ì˜ ì»¤ìŠ¤í…€ ë²„ì „ êµ¬ì¶•

ì´ ë…ìì ì¸ í”„ë¡ íŠ¸ì—”ë“œë¥¼ êµ¬ì¶•í•˜ê¸° ìœ„í•œ í˜„ì¬ì˜ í•µì‹¬ ì „ëµì€ **RetroPieì˜ EmulationStationì„ ê¸°ë°˜ìœ¼ë¡œ ì»¤ìŠ¤í…€ ë²„ì „ì„ ê°œë°œ**í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” ì•ˆì •ì„±ì´ ê²€ì¦ëœ ì•„í‚¤í…ì²˜ ìœ„ì—ì„œ ìš°ë¦¬ë§Œì˜ ë…ìì ì¸ ê¸°ëŠ¥ë“¤ì„ í†µí•©í•˜ê³  ë°œì „ì‹œì¼œ ë‚˜ê°€ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

---

### **ì•„í‚¤í…ì²˜ ê²°ì •: Recalbox ESì—ì„œ RetroPie ESë¡œ íšŒê·€í•˜ëŠ” ì´ìœ **

#### 1. Recalbox ES ì „í™˜ ì‹œë„ì™€ ë¬¸ì œì 
ì´ˆê¸°ì—ëŠ” RetroPie ESì˜ êµ¬ì¡°ì  í•œê³„ë¥¼ ê·¹ë³µí•˜ê³ ì Recalbox ESë¡œì˜ ì „í™˜ì„ ì‹œë„í–ˆìŠµë‹ˆë‹¤. Recalbox ESëŠ” ì¤‘ì•™ ì§‘ì¤‘ì‹ ì„¤ì •, ì¶”ìƒí™”ëœ ì…ë ¥ ì²˜ë¦¬, ë°ì´í„° ê¸°ë°˜ UI ë“± ì´ë¡ ì ìœ¼ë¡œëŠ” ë” ìœ ì—°í•œ ì•„í‚¤í…ì²˜ë¥¼ ì œê³µí•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì˜€ìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ì‹¤ì œ ê°œë°œ ê³¼ì •ì—ì„œ Recalbox ESëŠ” ì˜ˆìƒì¹˜ ëª»í•œ ë¬¸ì œì ê³¼ ë†’ì€ ë³µì¡ì„±ì„ ë“œëŸ¬ëƒˆìŠµë‹ˆë‹¤. íŠ¹íˆ, RetroPanguiì˜ ë…ìì ì¸ ê¸°ëŠ¥ë“¤ì„ í†µí•©í•˜ê³  ì•ˆì •ì ìœ¼ë¡œ ìš´ì˜í•˜ëŠ” ë° ìˆì–´ Recalbox ESì˜ íŠ¹ì • êµ¬ì¡°ê°€ ì˜¤íˆë ¤ ê°œë°œ íš¨ìœ¨ì„±ì„ ì €í•´í•˜ê³  ì•ˆì •ì„±ì„ í™•ë³´í•˜ê¸° ì–´ë µë‹¤ëŠ” ê²°ë¡ ì— ë„ë‹¬í–ˆìŠµë‹ˆë‹¤.

#### 2. RetroPie ESë¡œì˜ íšŒê·€ ê²°ì •
Recalbox ESì˜ ì¥ì ì—ë„ ë¶ˆêµ¬í•˜ê³ , í˜„ì¬ í”„ë¡œì íŠ¸ì˜ ëª©í‘œì™€ ê°œë°œ ì†ë„ë¥¼ ê³ ë ¤í–ˆì„ ë•Œ, ì•ˆì •ì„±ì´ ê²€ì¦ë˜ê³  ì»¤ìŠ¤í„°ë§ˆì´ì§• ê²½í—˜ì´ ì¶•ì ëœ RetroPie ESê°€ ë” ì í•©í•˜ë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤. RetroPie ESëŠ” ë¹„ë¡ ì¼ë¶€ ê¸°ëŠ¥ êµ¬í˜„ ì‹œ íŒ¨ì¹˜ ì‘ì—…ì´ í•„ìš”í•  ìˆ˜ ìˆì§€ë§Œ, ê·¸ êµ¬ì¡°ê°€ ë” ëª…í™•í•˜ê³  ì œì–´í•˜ê¸° ìš©ì´í•˜ì—¬ RetroPanguiì˜ ë…ìì ì¸ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì— ë” ì•ˆì •ì ì¸ ê¸°ë°˜ì„ ì œê³µí•  ê²ƒì…ë‹ˆë‹¤.

ë”°ë¼ì„œ, í”„ë¡œì íŠ¸ì˜ ê¸°ë°˜ì„ **RetroPie EmulationStationìœ¼ë¡œ íšŒê·€**í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” Recalbox ESì˜ ì ì¬ì  ì¥ì ë³´ë‹¤ëŠ” í˜„ì¬ í”„ë¡œì íŠ¸ì˜ ì•ˆì •ì„±ê³¼ ê°œë°œ íš¨ìœ¨ì„±ì„ ìš°ì„ ì‹œí•˜ëŠ” ì „ëµì  ì„ íƒì…ë‹ˆë‹¤.

---

## ê°œë°œ ì›Œí¬í”Œë¡œìš° ë° ê·œì¹™
- **ì½ê¸° ì „ìš© ì˜ì—­:** `retropie_setup` ë””ë ‰í„°ë¦¬ í•˜ìœ„ì˜ íŒŒì¼ì€ RetroPie ì›ë³¸ìœ¼ë¡œ ê°„ì£¼í•˜ë©°, ì ˆëŒ€ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.
- **íŒŒì¼ ê¸¸ì´ ì œí•œ:** ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì˜ ì½”ë“œê°€ 200ì¤„ì„ ë„˜ì–´ê°€ê¸° ì‹œì‘í•˜ë©´, ìœ ì§€ë³´ìˆ˜ì„±ì„ ìœ„í•´ ê¸°ëŠ¥ ë‹¨ìœ„ë¡œ íŒŒì¼ì„ ë¶„ë¦¬í•  ê²ƒì„ ê³ ë ¤í•œë‹¤.
- **ë””ë²„ê¹… ìš°ì„ :** ë¬¸ì œê°€ ë°œìƒí•˜ë©´, ì„£ë¶ˆë¦¬ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê¸° ì „ì— `log_msg`ë‚˜ `ls -l` ê°™ì€ ë””ë²„ê¹… ì½”ë“œë¥¼ ì¶”ê°€í•˜ì—¬ í˜„ìƒê³¼ ë³€ìˆ˜ ê°’ì„ ë¨¼ì € ì •í™•íˆ íŒŒì•…í•œë‹¤.
- **ë””ë²„ê¹… ì½”ë“œ ìœ ì§€:** ì¶”ê°€ëœ ë””ë²„ê¹… ì½”ë“œëŠ” ì‚­ì œí•˜ì§€ ì•ŠëŠ”ë‹¤. ìµœì¢…ì ìœ¼ë¡œëŠ” `log_msg`ì˜ ì¶œë ¥ì„ ì „ì—­ì ìœ¼ë¡œ ì¼œê³  ëŒ ìˆ˜ ìˆëŠ”(on/off) ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì—¬ ì œì–´í•œë‹¤.(ì•„ì§ ë¯¸êµ¬í˜„)
- **ì£¼ì„ ìˆ˜ì •/ì‚­ì œ ê¸ˆì§€:** ì£¼ì„ì€ ìˆ˜ì •/ì‚­ì œí•˜ì§€ ì•ŠëŠ”ê²Œ ì›ì¹™ì´ë©° ìˆ˜ì •/ì‚­ì œê°€ í•„ìš”í•  ë•ŒëŠ” ì‚¬ìš©ìì˜ ë™ì˜ë¥¼ ì–»ëŠ”ë‹¤.

## í˜„ì¬ ì•„í‚¤í…ì²˜
/home/pangui/scripts/retropangui/
â”œâ”€â”€ .git/                     # Git ë²„ì „ ê´€ë¦¬ ë””ë ‰í† ë¦¬
â”œâ”€â”€ .gitignore                # Git ì œì™¸ íŒŒì¼ ëª©ë¡
â”œâ”€â”€ deburg_init_script.sh     # ë””ë²„ê·¸ ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ handover_retropangui.md   # ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œ
â”œâ”€â”€ log/                      # ë¡œê·¸ ë””ë ‰í† ë¦¬
â”œâ”€â”€ resources/                # ë¦¬ì†ŒìŠ¤ íŒŒì¼(ì´ë¯¸ì§€, ì•„ì´ì½˜ ë“±) ë””ë ‰í† ë¦¬
â”œâ”€â”€ retropangui_setup.sh      # ë©”ì¸ ì§„ì…(ì„¤ì¹˜/ì‹¤í–‰) ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ scriptmodules/            # ì£¼ìš” ê¸°ëŠ¥ë³„ ìŠ¤í¬ë¦½íŠ¸ ë° ì„¤ì • ë””ë ‰í† ë¦¬
    â”œâ”€â”€ config.sh                        # retropangui í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
    â”œâ”€â”€ ext_retropie_core.sh             # ì™¸ë¶€ RetroPie ì½”ì–´ í•¨ìˆ˜
    â”œâ”€â”€ ext_retropie_env.sh              # ì™¸ë¶€ RetroPie í™˜ê²½ ë³€ìˆ˜ ì„¤ì • í•¨ìˆ˜
    â”œâ”€â”€ ext_retropie_func.sh             # ì™¸ë¶€ RetroPie ê¸°ëŠ¥ í•¨ìˆ˜
    â”œâ”€â”€ ext_retropie_ini.sh              # ì™¸ë¶€ RetroPie INI ì²˜ë¦¬ í•¨ìˆ˜
    â”œâ”€â”€ ext_retropie_inst.sh             # ì™¸ë¶€ RetroPie ì„¤ì¹˜ í•¨ìˆ˜
    â”œâ”€â”€ ext_retropie_op.sh               # ì™¸ë¶€ RetroPie ìš´ì˜ í•¨ìˆ˜
    â”œâ”€â”€ ext_retropie_util.sh             # ì™¸ë¶€ RetroPie ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
    â”œâ”€â”€ func.sh                          # retropangui ê³µí†µ ê¸°ëŠ¥ í•¨ìˆ˜
    â”œâ”€â”€ helpers.sh                       # retropangui ì„¤ì¹˜ê´€ë ¨ ë³´ì¡° í•¨ìˆ˜(log ê¸°ëŠ¥ í•¨ìˆ˜ ë“±)
    â”œâ”€â”€ inifuncs.sh                      # retropangui INI íŒŒì¼ íŒŒì‹± í•¨ìˆ˜
    â”œâ”€â”€ install_base_1_in_5_deps.sh      # retropangui 1ë‹¨ê³„: ì˜ì¡´ì„± ì„¤ì¹˜
    â”œâ”€â”€ install_base_2_in_5_ra.sh        # retropangui 2ë‹¨ê³„: RetroArch ì„¤ì¹˜
    â”œâ”€â”€ install_base_3_in_5_es.sh        # retropangui 3ë‹¨ê³„: EmulationStation ì„¤ì¹˜
    â”œâ”€â”€ install_base_4_in_5_cores.sh     # retropangui 4ë‹¨ê³„: ì½”ì–´ ë¹Œë“œ/ì„¤ì¹˜
    â”œâ”€â”€ install_base_5_in_5_setup_env.sh # retropangui 5ë‹¨ê³„: í™˜ê²½ ì„¸íŒ…
    â”œâ”€â”€ packages.sh                      # íŒ¨í‚¤ì§€ ì •ì˜
    â”œâ”€â”€ recalbox/                        # Recalbox git copy í´ë”
    â”œâ”€â”€ retroarch.init.cfg               # RetroArch ì´ˆê¸° ì„¤ì • íŒŒì¼
    â”œâ”€â”€ retropie_setup/                  # RetroPie Setup git copy í´ë”
    â”œâ”€â”€ system_install.sh                # ì‹œìŠ¤í…œ ì„¤ì¹˜ ë©”ì¸ ìŠ¤í¬ë¦½íŠ¸(source "$MODULES_DIR/install_base_*_in_5_*.sh")
    â”œâ”€â”€ systemlist.csv                   # retropangui ì§€ì› ì‹œìŠ¤í…œ ëª©ë¡ ë°ì´í„°
    â””â”€â”€ ui.sh                            # retropangui UI(ë©”ë‰´/ì¸í„°í˜ì´ìŠ¤) í•¨ìˆ˜

## ì£¼ìš” êµ¬í˜„ ë‚´ìš© ë¶„ì„

### EmulationStation A/B ë²„íŠ¼ ì—­í•  ê³ ì • ë° ì…ë ¥ ì²˜ë¦¬ ë¦¬íŒ©í† ë§
#### 1. ëª©í‘œ
- EmulationStationì˜ A/B ë²„íŠ¼ ì—­í• ì„ 'B=í™•ì¸(Accept)', 'A=ì·¨ì†Œ(Back)'ë¡œ ê³ ì •í•˜ê³ , ì´ ë¡œì§ì„ ì¤‘ì•™ ì§‘ì¤‘í™”í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì…ë‹ˆë‹¤.

#### 2. ê¸°ì¡´ êµ¬í˜„ì˜ ë¬¸ì œì : ë¶„ì‚°ëœ ì…ë ¥ ì²˜ë¦¬
- ê¸°ì¡´ RetroPie ESì—ì„œëŠ” 'í™•ì¸'ê³¼ 'ì·¨ì†Œ' ë²„íŠ¼ì˜ ì—­í• ì´ ê° UI ì»´í¬ë„ŒíŠ¸(íŒŒì¼)ë§ˆë‹¤ ê°œë³„ì ìœ¼ë¡œ `isMappedTo("a", ...)` ë˜ëŠ” `isMappedTo("b", ...)` í˜•íƒœë¡œ í•˜ë“œì½”ë”©ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤.
- ì´ë¡œ ì¸í•´ A/B ë²„íŠ¼ì˜ ì—­í• ì„ ë³€ê²½í•˜ë ¤ë©´ `es_swap_ab.patch`ì™€ ê°™ì´ 20ê°œ ì´ìƒì˜ íŒŒì¼ì„ ì¼ì¼ì´ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ë¹„íš¨ìœ¨ì ì¸ êµ¬ì¡°ì˜€ìŠµë‹ˆë‹¤. ì´ëŠ” ìœ ì§€ë³´ìˆ˜ë¥¼ ì–´ë µê²Œ í•˜ê³  ìƒˆë¡œìš´ ë²„ê·¸ë¥¼ ìœ ë°œí•  ê°€ëŠ¥ì„±ì´ ë†’ì•˜ìŠµë‹ˆë‹¤.

#### 3. ê°œì„ ëœ êµ¬í˜„: ì˜ë¯¸ ê¸°ë°˜ ì…ë ¥ ì²˜ë¦¬ ì¤‘ì•™ ì§‘ì¤‘í™”
- **í•µì‹¬:** ë¬¼ë¦¬ì ì¸ ë²„íŠ¼(A, B) ëŒ€ì‹  'í™•ì¸(accept)'ê³¼ 'ì·¨ì†Œ(back)'ì™€ ê°™ì€ **ì˜ë¯¸ ê¸°ë°˜ì˜ ì…ë ¥**ì„ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½í•©ë‹ˆë‹¤.
- **í•´ê²° ë°©ì‹:**
    - **`InputManager.cpp` ìˆ˜ì •:** `InputManager::init()` í•¨ìˆ˜ì—ì„œ ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ ë° í‚¤ë³´ë“œì— ëŒ€í•´ ë¬¼ë¦¬ì ì¸ 'B' ë²„íŠ¼ì„ ì˜ë¯¸ë¡ ì ì¸ 'accept'ì—, ë¬¼ë¦¬ì ì¸ 'A' ë²„íŠ¼ì„ ì˜ë¯¸ë¡ ì ì¸ 'back'ì— ë§¤í•‘í•˜ë„ë¡ ë¡œì§ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. ì´ì œ ë²„íŠ¼ì˜ ì‹¤ì œ ì—­í• ì€ `InputManager.cpp` í•œ ê³³ì—ì„œë§Œ ê²°ì •ë©ë‹ˆë‹¤.
    - **UI ì½”ë“œ ë¦¬íŒ©í† ë§:** `es-app` ë° `es-core` ë””ë ‰í„°ë¦¬ ë‚´ì˜ ëª¨ë“  ê´€ë ¨ íŒŒì¼ì—ì„œ `isMappedTo("a", ...)` í˜¸ì¶œì„ `isMappedTo("back", ...)`ìœ¼ë¡œ, `isMappedTo("b", ...)` í˜¸ì¶œì„ `isMappedTo("accept", ...)`ìœ¼ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.
    - **ë„ì›€ë§ í”„ë¡¬í”„íŠ¸ ì—…ë°ì´íŠ¸:** UIì— í‘œì‹œë˜ëŠ” ë„ì›€ë§ í”„ë¡¬í”„íŠ¸ë„ ë³€ê²½ëœ A/B ë²„íŠ¼ ì—­í• ì— ë§ì¶° 'í™•ì¸' ë™ì‘ì—ëŠ” 'B' ë²„íŠ¼ì´, 'ì·¨ì†Œ' ë™ì‘ì—ëŠ” 'A' ë²„íŠ¼ì´ í‘œì‹œë˜ë„ë¡ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.
- ì´ ê°œì„ ì„ í†µí•´ A/B ë²„íŠ¼ ì—­í•  ë³€ê²½ ë¡œì§ì´ `InputManager.cpp` í•œ ê³³ìœ¼ë¡œ ì¤‘ì•™ ì§‘ì¤‘í™”ë˜ì–´, í–¥í›„ ìœ ì§€ë³´ìˆ˜ ë° ë³€ê²½ì´ í›¨ì”¬ ìš©ì´í•´ì¡ŒìŠµë‹ˆë‹¤.

#### 4. í˜„ì¬ ìƒíƒœ ë° ë¬¸ì œì 

- **A/B ë²„íŠ¼ ì—­í•  ê³ ì • ë° ì…ë ¥ ì²˜ë¦¬ ë¦¬íŒ©í† ë§ (ì§„í–‰ ì¤‘):**
    - **ëª©í‘œ:** EmulationStationì˜ A/B ë²„íŠ¼ ì—­í• ì„ 'B=í™•ì¸(Accept)', 'A=ì·¨ì†Œ(Back)'ë¡œ ê³ ì •í•˜ê³ , ì´ ë¡œì§ì„ ì¤‘ì•™ ì§‘ì¤‘í™”í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì´ëŠ” ê²ƒì…ë‹ˆë‹¤.
    - **ê¸°ì¡´ êµ¬í˜„ì˜ ë¬¸ì œì :** ê¸°ì¡´ RetroPie ESì—ì„œëŠ” 'í™•ì¸'ê³¼ 'ì·¨ì†Œ' ë²„íŠ¼ì˜ ì—­í• ì´ ê° UI ì»´í¬ë„ŒíŠ¸(íŒŒì¼)ë§ˆë‹¤ ê°œë³„ì ìœ¼ë¡œ `isMappedTo("a", ...)` ë˜ëŠ” `isMappedTo("b", ...)` í˜•íƒœë¡œ í•˜ë“œì½”ë”©ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ A/B ë²„íŠ¼ì˜ ì—­í• ì„ ë³€ê²½í•˜ë ¤ë©´ `es_swap_ab.patch`ì™€ ê°™ì´ 20ê°œ ì´ìƒì˜ íŒŒì¼ì„ ì¼ì¼ì´ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ë¹„íš¨ìœ¨ì ì¸ êµ¬ì¡°ì˜€ìŠµë‹ˆë‹¤.
    - **ê°œì„ ëœ êµ¬í˜„ (ì‹œë„):** ë¬¼ë¦¬ì ì¸ ë²„íŠ¼(A, B) ëŒ€ì‹  'í™•ì¸(accept)'ê³¼ 'ì·¨ì†Œ(back)'ì™€ ê°™ì€ **ì˜ë¯¸ ê¸°ë°˜ì˜ ì…ë ¥**ì„ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í–ˆìŠµë‹ˆë‹¤.
        - **`InputManager.cpp` ìˆ˜ì •:** `InputManager::init()` í•¨ìˆ˜ì—ì„œ ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ ë° í‚¤ë³´ë“œì— ëŒ€í•´ ë¬¼ë¦¬ì ì¸ 'B' ë²„íŠ¼ì„ ì˜ë¯¸ë¡ ì ì¸ 'accept'ì—, ë¬¼ë¦¬ì ì¸ 'A' ë²„íŠ¼ì„ ì˜ë¯¸ë¡ ì ì¸ 'back'ì— ë§¤í•‘í•˜ë„ë¡ ë¡œì§ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.
            - **ë³€ê²½ ë‚´ìš©:**
                ```
                // old_string
                    mCECInputConfig = new InputConfig(DEVICE_CEC, "CEC", CEC_GUID_STRING);
                    loadInputConfig(mCECInputConfig);
                }
                // new_string
                    mCECInputConfig = new InputConfig(DEVICE_CEC, "CEC", CEC_GUID_STRING);
                    loadInputConfig(mCECInputConfig);

                    // RetroPangui: Add semantic inputs for "accept" and "back"
                    LOG(LogInfo) << "Remapping A/B buttons to semantic inputs 'accept' and 'back'.";

                    // For each joystick...
                    for(auto it = mInputConfigs.begin(); it != mInputConfigs.end(); it++)
                    {
                        InputConfig* config = it->second;
                        Input a_input, b_input;
                        if(config->getInputByName("a", &a_input))
                            config->mapInput("back", a_input);
                        if(config->getInputByName("b", &b_input))
                            config->mapInput("accept", b_input);
                    }

                    // Also do it for the keyboard
                    Input kbd_a_input, kbd_b_input;
                    if(mKeyboardInputConfig->getInputByName("a", &kbd_a_input))
                        mKeyboardInputConfig->mapInput("back", kbd_a_input);
                    if(mKeyboardInputConfig->getInputByName("b", &kbd_b_input))
                        mKeyboardInputConfig->mapInput("accept", kbd_b_input);
                }
                ```
        - **UI ì½”ë“œ ë¦¬íŒ©í† ë§ (ì´ 25ê°œ íŒŒì¼, 44íšŒ `replace` ì‘ì—…):** `es-app` ë° `es-core` ë””ë ‰í„°ë¦¬ ë‚´ì˜ ëª¨ë“  ê´€ë ¨ íŒŒì¼ì—ì„œ `isMappedTo("a", ...)` í˜¸ì¶œì„ `isMappedTo("back", ...)`ìœ¼ë¡œ, `isMappedTo("b", ...)` í˜¸ì¶œì„ `isMappedTo("accept", ...)`ìœ¼ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.
            - **ë³€ê²½ íŒŒì¼ ë° ë‚´ìš©:**
                - `es-core/src/components/ComponentList.h`: `isMappedTo("a", input)` -> `isMappedTo("accept", input)`
                - `es-core/src/components/OptionListComponent.h`: `isMappedTo("b", input)` -> `isMappedTo("back", input)`, `isMappedTo("a", input)` -> `isMappedTo("accept", input)`
                - `es-core/src/components/DateTimeEditComponent.cpp`: `isMappedTo("a", input)` -> `isMappedTo("accept", input)`, `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-core/src/components/ButtonComponent.cpp`: `isMappedTo("a", input)` -> `isMappedTo("accept", input)`
                - `es-core/src/components/SwitchComponent.cpp`: `isMappedTo("a", input)` -> `isMappedTo("accept", input)`
                - `es-core/src/components/TextEditComponent.cpp`: `isMappedTo("a", input)` -> `isMappedTo("accept", input)`, `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-core/src/guis/GuiTextEditPopup.cpp`: `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-core/src/guis/GuiMsgBox.cpp`: `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-core/src/guis/GuiInputConfig.cpp`: `isMappedTo("a", input)` -> `isMappedTo("accept", input)`
                - `es-app/src/components/ScraperSearchComponent.cpp`: `isMappedTo("a", input)` -> `isMappedTo("accept", input)`
                - `es-app/src/components/AsyncReqComponent.cpp`: `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-app/src/components/RatingComponent.cpp`: `isMappedTo("a", input)` -> `isMappedTo("accept", input)`
                - `es-app/src/views/SystemView.cpp`: `isMappedTo("a", input)` -> `isMappedTo("accept", input)`
                - `es-app/src/views/gamelist/ISimpleGameListView.cpp`: `isMappedTo("a", input)` -> `isMappedTo("accept", input)`, `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-app/src/SystemScreenSaver.cpp`: `isMappedTo("a", input)` -> `isMappedTo("accept", input)`
                - `es-app/src/guis/GuiGamelistOptions.cpp`: `isMappedTo("a", input)` -> `isMappedTo("accept", input)`, `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-app/src/guis/GuiSettings.cpp`: `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-app/src/guis/GuiGameScraper.cpp`: `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-app/src/guis/GuiScreensaverOptions.cpp`: `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-app/src/guis/GuiScraperStart.cpp`: `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-app/src/guis/GuiGamelistFilter.cpp`: `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-app/src/guis/GuiCollectionSystemsOptions.cpp`: `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-app/src/guis/GuiMetaDataEd.cpp`: `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-app/src/guis/GuiMenu.cpp`: `isMappedTo("b", input)` -> `isMappedTo("back", input)`
                - `es-app/src/guis/GuiRandomCollectionOptions.cpp`: `isMappedTo("b", input)` -> `isMappedTo("back", input)`
        - **ë„ì›€ë§ í”„ë¡¬í”„íŠ¸ ì—…ë°ì´íŠ¸ (ì´ 12ê°œ íŒŒì¼, 18íšŒ `replace` ì‘ì—…):** UIì— í‘œì‹œë˜ëŠ” ë„ì›€ë§ í”„ë¡¬í”„íŠ¸ë„ ë³€ê²½ëœ A/B ë²„íŠ¼ ì—­í• ì— ë§ì¶° 'í™•ì¸' ë™ì‘ì—ëŠ” 'B' ë²„íŠ¼ì´, 'ì·¨ì†Œ' ë™ì‘ì—ëŠ” 'A' ë²„íŠ¼ì´ í‘œì‹œë˜ë„ë¡ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.
            - **ë³€ê²½ íŒŒì¼ ë° ë‚´ìš©:**
                - `es-core/src/components/ButtonComponent.cpp`: `HelpPrompt("a", ...)` -> `HelpPrompt("b", ...)`
                - `es-core/src/components/SwitchComponent.cpp`: `HelpPrompt("a", ...)` -> `HelpPrompt("b", ...)`
                - `es-core/src/components/TextEditComponent.cpp`: `HelpPrompt("b", "stop editing")` -> `HelpPrompt("a", "stop editing")`, `HelpPrompt("a", "edit")` -> `HelpPrompt("b", "edit")`
                - `es-core/src/guis/GuiTextEditPopup.cpp`: `HelpPrompt("b", "back")` -> `HelpPrompt("a", "back")`
                - `es-core/src/components/ImageComponent.cpp`: `HelpPrompt("a", "select")` -> `HelpPrompt("b", "select")`
                - `es-core/src/components/VideoComponent.cpp`: `HelpPrompt("a", "select")` -> `HelpPrompt("b", "select")`
                - `es-app/src/components/ScraperSearchComponent.cpp`: `HelpPrompt("a", "accept result")` -> `HelpPrompt("b", "accept result")`
                - `es-app/src/components/AsyncReqComponent.cpp`: `HelpPrompt("b", "cancel")` -> `HelpPrompt("a", "cancel")`
                - `es-app/src/components/RatingComponent.cpp`: `HelpPrompt("a", "add star")` -> `HelpPrompt("b", "add star")`
                - `es-app/src/views/SystemView.cpp`: `HelpPrompt("a", "select")` -> `HelpPrompt("b", "select")`
                - `es-app/src/views/UIModeController.cpp`: `case 'a': out += "A";` -> `case 'a': out += "B";`, `case 'b': out += "B";` -> `case 'b': out += "A";`
                - `es-app/src/views/gamelist/BasicGameListView.cpp`: `HelpPrompt("a", "launch")` -> `HelpPrompt("b", "launch")`, `HelpPrompt("b", "back")` -> `HelpPrompt("a", "back")`
                - `es-app/src/views/gamelist/GridGameListView.cpp`: `HelpPrompt("a", "launch")` -> `HelpPrompt("b", "launch")`, `HelpPrompt("b", "back")` -> `HelpPrompt("a", "back")`
                - `es-app/src/guis/GuiGamelistOptions.cpp`: `HelpPrompt("b", "close")` -> `HelpPrompt("a", "close")`
                - `es-app/src/guis/GuiSettings.cpp`: `HelpPrompt("b", "back")` -> `HelpPrompt("a", "back")`
                - `es-app/src/guis/GuiScreensaverOptions.cpp`: `HelpPrompt("b", "back")` -> `HelpPrompt("a", "back")`
                - `es-app/src/guis/GuiScraperStart.cpp`: `HelpPrompt("b", "back")` -> `HelpPrompt("a", "back")`
                - `es-app/src/guis/GuiGamelistFilter.cpp`: `HelpPrompt("b", "back")` -> `HelpPrompt("a", "back")`
                - `es-app/src/guis/GuiCollectionSystemsOptions.cpp`: `HelpPrompt("b", "back")` -> `HelpPrompt("a", "back")`
                - `es-app/src/guis/GuiMetaDataEd.cpp`: `HelpPrompt("b", "back")` -> `HelpPrompt("a", "back")`
                - `es-app/src/guis/GuiMenu.cpp`: `HelpPrompt("a", "select")` -> `HelpPrompt("b", "select")`
                - `es-app/src/guis/GuiRandomCollectionOptions.cpp`: `HelpPrompt("b", "back")` -> `HelpPrompt("a", "back")`
        - **`develop_custom_es.sh` ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì •:**
            - **ë°”ê¾¼ ê²ƒ:** `apt-get update` ë° `apt-get install` ëª…ë ¹ì–´ì— `sudo`ë¥¼ ì¶”ê°€í•˜ì—¬ ê¶Œí•œ ë¬¸ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤.
                ```
                // old_string (apt-get update)
                        apt-get update || { log_msg ERROR "apt-get update ì‹¤íŒ¨"; return 1; }
                // new_string (apt-get update)
                        sudo apt-get update || { log_msg ERROR "apt-get update ì‹¤íŒ¨"; return 1; }

                // old_string (apt-get install)
                        apt-get install -y "${missing_packages[@]}" || { log_msg ERROR "íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹¤íŒ¨"; return 1; }
                // new_string (apt-get install)
                        sudo apt-get install -y "${missing_packages[@]}" || { log_msg ERROR "íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹¤íŒ¨"; return 1; }
                ```
            - **ë°”ê¾¼ ê²ƒ:** `run_dev_emulationstation` í•¨ìˆ˜ì—ì„œ EmulationStation ë°”ì´ë„ˆë¦¬ ê²½ë¡œë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.
                ```
                // old_string
                    local binary="$DEV_ES_BUILD_DIR/build/emulationstation"
                // new_string
                    local binary="$DEV_ES_BUILD_DIR/emulationstation"
                ```
    - **ë°”ê¾¼ ë’¤ì˜ ìƒí™©:**
        - `InputManager.cpp` ìˆ˜ì • í›„ EmulationStation ì¬ë¹Œë“œ ì‹œ ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
        - ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” `error: qualified-id in declaration before â€˜(â€™ token` ë° `error: expected â€˜}â€™ at end of input` ì´ì—ˆìŠµë‹ˆë‹¤. ì´ëŠ” `InputManager::init()` í•¨ìˆ˜ ë‚´ ë‹«ëŠ” ì¤‘ê´„í˜¸(`}`)ê°€ ì¤‘ë³µë˜ì–´ ë°œìƒí•œ êµ¬ë¬¸ ì˜¤ë¥˜ë¡œ íŒŒì•…ë˜ì—ˆìŠµë‹ˆë‹¤.
        - ì´ ì»´íŒŒì¼ ì˜¤ë¥˜ë¡œ ì¸í•´ EmulationStationì˜ ë¹Œë“œê°€ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.
        - `develop_custom_es.sh` ìŠ¤í¬ë¦½íŠ¸ì˜ `run_dev_emulationstation` í•¨ìˆ˜ì—ì„œ EmulationStation ë°”ì´ë„ˆë¦¬ ê²½ë¡œë¥¼ `"$DEV_ES_BUILD_DIR/build/emulationstation"`ì—ì„œ `"$DEV_ES_BUILD_DIR/emulationstation"`ìœ¼ë¡œ ìˆ˜ì •í•˜ì—¬ ë¹Œë“œëœ ë°”ì´ë„ˆë¦¬ë¥¼ ì°¾ì§€ ëª»í•˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤.
    - **ì‚¬ìš©ìê°€ ëŠë¼ëŠ” ê°„ê·¹:**
        - ë¦¬íŒ©í† ë§ëœ EmulationStation ë¹Œë“œ í›„ ì‹¤í–‰ ì‹œ, 'A'ì™€ 'B' ë²„íŠ¼ì„ í¬í•¨í•œ **ëª¨ë“  ë²„íŠ¼ì´ ì‘ë™í•˜ì§€ ì•ŠëŠ” ë¬¸ì œ**ê°€ ë³´ê³ ë˜ì—ˆìŠµë‹ˆë‹¤.
        - ì´ëŠ” EmulationStationì˜ í•µì‹¬ ê¸°ëŠ¥ì¸ ì…ë ¥ ì²˜ë¦¬ê°€ ì™„ì „íˆ ë§ˆë¹„ë˜ì–´, ì‚¬ìš©ìê°€ ì‹œìŠ¤í…œì„ ì „í˜€ ì¡°ì‘í•  ìˆ˜ ì—†ëŠ” ì‹¬ê°í•œ ìƒí™©ì…ë‹ˆë‹¤.

- **ë¬¸ì œ ì§„ë‹¨ ë° ë¯¸í•´ê²° ì›ì¸:**
    - ì»´íŒŒì¼ ì˜¤ë¥˜ëŠ” `InputManager.cpp`ì˜ `init()` í•¨ìˆ˜ì— ë¶ˆí•„ìš”í•œ ë‹«ëŠ” ì¤‘ê´„í˜¸ê°€ ì¶”ê°€ë˜ì–´ ë°œìƒí•œ ê²ƒìœ¼ë¡œ, `replace` ë„êµ¬ì˜ `old_string` ë¶ˆì¼ì¹˜ë¡œ ì¸í•´ ìë™ ë³µêµ¬ ë° ì¬ì ìš©ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. í˜„ì¬ `InputManager.cpp`ëŠ” ì»´íŒŒì¼ ì˜¤ë¥˜ ìƒíƒœë¡œ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤.
    - ë²„íŠ¼ ë¯¸ì‘ë™ ë¬¸ì œì˜ ì •í™•í•œ ì›ì¸ì€ ì•„ì§ íŒŒì•…ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë¬¸ì œ ì§„ë‹¨ì„ ìœ„í•´ `InputManager.cpp`ì— ë””ë²„ê·¸ ë¡œê·¸ë¥¼ ì¶”ê°€í•˜ì—¬ ì…ë ¥ ë§¤í•‘ ê³¼ì •ì„ ì¶”ì í•˜ë ¤ í–ˆìœ¼ë‚˜, ì‚¬ìš©ì ìš”ì²­ìœ¼ë¡œ ì¸í•´ ë””ë²„ê·¸ ë¡œê·¸ ì¶”ê°€ ì‘ì—…ì´ ì¤‘ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.
    - `es_input.cfg` íŒŒì¼ì˜ ë‚´ìš©ì„ í™•ì¸í•œ ê²°ê³¼, ì»¨íŠ¸ë¡¤ëŸ¬ì˜ 'a', 'b' ë²„íŠ¼ ë§¤í•‘ ì •ë³´ëŠ” ì •ìƒì ìœ¼ë¡œ ì¡´ì¬í•¨ì´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.
    - í˜„ì¬ë¡œì„œëŠ” `InputManager`ì˜ ì¬ë§¤í•‘ ë¡œì§ ìì²´ì˜ ê²°í•¨, `InputConfig`ì˜ ìƒˆë¡œìš´ ì˜ë¯¸ ê¸°ë°˜ ì…ë ¥ ì²˜ë¦¬ ë°©ì‹, ë˜ëŠ” `InputConfig::isMappedTo` í•¨ìˆ˜ì˜ ë‚´ë¶€ ë™ì‘ ë°©ì‹ ë“± ì—¬ëŸ¬ ê°€ëŠ¥ì„±ì´ ì¡´ì¬í•©ë‹ˆë‹¤.
    - **í–¥í›„ ê³¼ì œ:** `InputManager.cpp`ì˜ ì»´íŒŒì¼ ì˜¤ë¥˜ë¥¼ ë¨¼ì € í•´ê²°í•˜ê³ , ì´í›„ `InputManager`ì˜ ë””ë²„ê·¸ ë¡œê·¸ë¥¼ í™œì„±í™”í•˜ì—¬ ì…ë ¥ ì´ë²¤íŠ¸ì˜ íë¦„ê³¼ ë§¤í•‘ ìƒíƒœë¥¼ ë©´ë°€íˆ ë¶„ì„í•˜ëŠ” ê²ƒì´ ì‹œê¸‰í•©ë‹ˆë‹¤.
---

### **ì‹œìŠ¤í…œ ì„¤ì • íŒŒì¼(`es_systems.cfg`) ìƒì„± ë°©ì‹**

#### 1. ìµœì¢… ëª©í‘œ
- ì¤‘ì•™ ë°ì´í„°ë² ì´ìŠ¤(`systemlist.csv`)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, í˜„ì¬ ì•„í‚¤í…ì²˜(RetroPie ES)ì— ë§ëŠ” `es_systems.cfg` íŒŒì¼ì„ ë™ì ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤.

#### 2. ìµœì¢… êµ¬í˜„: RetroPie ë°©ì‹ (`runcommand` ëŸ°ì²˜)
- **í•µì‹¬:** RetroPieëŠ” `runcommand.sh`ë¼ëŠ” ì¤‘ì•™ ëŸ°ì²˜ë¥¼ í†µí•´ ê²Œì„ì„ ì‹¤í–‰í•˜ì—¬, ì‚¬ìš©ìê°€ ì‹œìŠ¤í…œë³„ ê¸°ë³¸ ì—ë®¬ë ˆì´í„°ë¥¼ ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ìœ ì—°ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.
- **êµ¬í˜„ ë‚´ìš©:**
    - **`generate_es_systems_cfg_from_csv()` í•¨ìˆ˜:**
        - **ì—­í• :** RetroPie ë°©ì‹ì— ë§ëŠ” `es_systems.cfg`ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
        - **ë™ì‘:** `<command>` íƒœê·¸ì— ì‹¤ì œ ì—ë®¬ë ˆì´í„°ê°€ ì•„ë‹Œ, `runcommand.sh`ë¥¼ í˜¸ì¶œí•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.
    - **`create_runcommand_script()` í•¨ìˆ˜:**
        - **ì—­í• :** ê²Œì„ ì‹¤í–‰ ì‹œ `emulators.cfg`ë¥¼ ì°¸ì¡°í•˜ì—¬ ìµœì¢… ì—ë®¬ë ˆì´í„°ë¥¼ ê²°ì •í•˜ëŠ” `runcommand.sh` ìŠ¤í¬ë¦½íŠ¸ ìì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
- ì´ í•¨ìˆ˜ë“¤ì€ í˜„ì¬ RetroPie ê¸°ë°˜ì˜ ë©”ì¸ í”Œë¡œìš°ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.

#### 3. ë ˆê±°ì‹œ êµ¬í˜„ (ì°¸ê³ ìš©): Recalbox ë°©ì‹ (ì§ì ‘ ì‹¤í–‰)
- **í•µì‹¬:** Recalbox ESëŠ” `runcommand.sh`ì™€ ê°™ì€ ì¤‘ê°„ ëŸ°ì²˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. `es_systems.cfg`ì˜ `<command>` íƒœê·¸ì— ì—ë®¬ë ˆì´í„°(RetroArch)ë¥¼ ì§ì ‘ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì–´ê°€ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
- **êµ¬í˜„ ë‚´ìš©:**
    - **`generate_es_systems_cfg_from_csv_recalbox()` í•¨ìˆ˜ (ì‹ ê·œ):**
        - **ìœ„ì¹˜:** `func.sh`
        - **ì—­í• :** Recalbox ë°©ì‹ì— ë§ëŠ” `es_systems.cfg`ë¥¼ ìƒì„±í•˜ëŠ” ìƒˆë¡œìš´ ì „ìš© í•¨ìˆ˜ì…ë‹ˆë‹¤.
        - **ë™ì‘:** `systemlist.csv`ì—ì„œ ì‹œìŠ¤í…œë³„ ìµœì  ì½”ì–´ ì •ë³´ë¥¼ ì°¾ì€ í›„, `<command>` íƒœê·¸ë¥¼ ë‹¤ìŒê³¼ ê°™ì€ **ì§ì ‘ ì‹¤í–‰** í˜•ì‹ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤.
          ```
          <command>/opt/retropangui/bin/retroarch -L /opt/retropangui/libretro/cores/snes9x_libretro.so %ROM%</command>
          ```
    - **`install_base_3_in_5_es.sh` ìˆ˜ì •:** ES ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ê°€ ì´ ìƒˆë¡œìš´ `_recalbox` ë²„ì „ì˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë„ë¡ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.
- ì´ ë°©ì‹ì€ í˜„ì¬ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

---

### EmulationStation ShowFolders ê¸°ëŠ¥ êµ¬í˜„

#### 1. ëª©í‘œ
- ê²Œì„ í´ë” í‘œì‹œ ë°©ì‹ì„ ì‚¬ìš©ìê°€ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ í•˜ì—¬, ë©€í‹°ë””ìŠ¤í¬ ê²Œì„ì´ë‚˜ ë‹¨ì¼ ê²Œì„ í´ë”ì˜ í‘œì‹œë¥¼ ì œì–´í•©ë‹ˆë‹¤.
- RetroPie ê³µì‹ EmulationStationì—ì„œ ì§€ì›í•˜ë˜ `ShowFolders` ê¸°ëŠ¥ì´ ëˆ„ë½ë˜ì–´ ìˆì–´ ì´ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.

#### 2. ê¸°ì¡´ ë¬¸ì œì 
- RetroPie ESì—ì„œ `ShowFolders` ì˜µì…˜ì´ `es_settings.cfg`ì— ì €ì¥ì€ ë˜ì§€ë§Œ, ì‹¤ì œ ì†ŒìŠ¤ ì½”ë“œì—ì„œ ì´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë¡œì§ì´ ì—†ì–´ ë™ì‘í•˜ì§€ ì•ŠìŒ
- PSX ë“± ë©€í‹°ë””ìŠ¤í¬ ê²Œì„ì˜ ê²½ìš° í´ë” êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, í´ë” í‘œì‹œ ë°©ì‹ì„ ì œì–´í•  ìˆ˜ ì—†ì–´ ë¶ˆí¸í•¨
- ì‚¬ìš©ìê°€ ë‹¨ì¼ ê²Œì„ë§Œ ìˆëŠ” í´ë”ë¥¼ ê±´ë„ˆë›°ê³  ë°”ë¡œ ê²Œì„ì„ ë³´ê³  ì‹¶ì–´ë„ ë°©ë²•ì´ ì—†ìŒ

#### 3. êµ¬í˜„ ë‚´ìš©

**3.1 Settings.cpp: ShowFolders ì„¤ì • ì¶”ê°€**
```cpp
// es-core/src/Settings.cpp
mStringMap["ShowFolders"] = "always";  // ê¸°ë³¸ê°’: ëª¨ë“  í´ë” í‘œì‹œ
```

**3.2 GuiMenu.cpp: UI Settingsì— ë©”ë‰´ ì˜µì…˜ ì¶”ê°€**
- ìœ„ì¹˜: `[Main Menu] > [UI SETTINGS] > [SHOW FOLDERS]`
- ì˜µì…˜:
  - `always` - ëª¨ë“  í´ë” í‘œì‹œ (ê¸°ë³¸ê°’)
  - `never` - í´ë”ë¥¼ ìˆ¨ê¸°ê³  ë‚´ë¶€ ê²Œì„ë“¤ë§Œ ì§ì ‘ í‘œì‹œ
  - `having multiple games` - ë‹¨ì¼ ê²Œì„ í´ë”ë§Œ ê±´ë„ˆë›°ê³ , ì—¬ëŸ¬ ê²Œì„ì´ ìˆëŠ” í´ë”ëŠ” í‘œì‹œ
- ì„¤ì • ë³€ê²½ ì‹œ `ViewController::get()->reloadAll()` í˜¸ì¶œí•˜ì—¬ ì¦‰ì‹œ ë°˜ì˜

**3.3 FileData.cpp: í´ë” í•„í„°ë§ ë¡œì§ êµ¬í˜„**
- `getChildrenListToDisplay()` ë©”ì„œë“œì—ì„œ ShowFolders ì„¤ì •ì— ë”°ë¼ í´ë”ë¥¼ í•„í„°ë§
- ë™ì‘ ë°©ì‹:
  - `"always"`: ëª¨ë“  í´ë”ë¥¼ ì •ìƒì ìœ¼ë¡œ í‘œì‹œ
  - `"never"`: í´ë”ë¥¼ ê±´ë„ˆë›°ê³  í´ë” ë‚´ë¶€ì˜ ê²Œì„ë“¤ì„ ì§ì ‘ ìƒìœ„ ë ˆë²¨ì— í‘œì‹œ
  - `"having multiple games"`: í´ë”ì˜ ê²Œì„ ê°œìˆ˜ë¥¼ í™•ì¸í•˜ì—¬:
    - 1ê°œë§Œ ìˆìœ¼ë©´: í´ë”ë¥¼ ê±´ë„ˆë›°ê³  ê²Œì„ë§Œ í‘œì‹œ
    - 2ê°œ ì´ìƒ: í´ë”ë¥¼ ì •ìƒì ìœ¼ë¡œ í‘œì‹œ

**í•µì‹¬ ì½”ë“œ:**
```cpp
const std::vector<FileData*>& FileData::getChildrenListToDisplay() {
    std::string showFoldersSetting = Settings::getInstance()->getString("ShowFolders");
    bool needsFolderFiltering = (showFoldersSetting == "never" ||
                                  showFoldersSetting == "having multiple games");

    if (idx->isFiltered() || needsFolderFiltering) {
        mFilteredChildren.clear();
        for(auto child : mChildren) {
            if (needsFolderFiltering && child->getType() == FOLDER) {
                size_t childCount = child->getChildrenByFilename().size();

                if (showFoldersSetting == "never") {
                    // í´ë”ì˜ ëª¨ë“  ìì‹ì„ ì§ì ‘ ì¶”ê°€
                    for(auto grandchild : child->getChildren()) {
                        mFilteredChildren.push_back(grandchild);
                    }
                    continue;
                }
                else if (showFoldersSetting == "having multiple games" && childCount == 1) {
                    // ë‹¨ì¼ ê²Œì„ë§Œ ì¶”ê°€
                    mFilteredChildren.push_back(child->getChildren()[0]);
                    continue;
                }
            }
            mFilteredChildren.push_back(child);
        }
        return mFilteredChildren;
    }
    return mChildren;
}
```

#### 4. ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ê°œì„ 
**ë¬¸ì œ:** ì´ˆê¸° ë¹Œë“œ ì‹œ íŒ¨ì¹˜ê°€ ì œëŒ€ë¡œ ë°˜ì˜ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ ë°œìƒ
- ì›ì¸: `make clean`ë§Œìœ¼ë¡œëŠ” CMake ìºì‹œê°€ ë‚¨ì•„ìˆì–´ ë³€ê²½ì‚¬í•­ì´ ì œëŒ€ë¡œ ë°˜ì˜ë˜ì§€ ì•ŠìŒ

**í•´ê²°:** `install_base_3_in_5_es.sh` ìˆ˜ì •
```bash
# ë³€ê²½ ì „
mkdir -p "$ES_BUILD_DIR/build"
cd "$ES_BUILD_DIR/build"
cmake ..
make clean
make -j$(nproc)

# ë³€ê²½ í›„
rm -rf "$ES_BUILD_DIR/build"  # ì™„ì „íˆ ì‚­ì œ
mkdir -p "$ES_BUILD_DIR/build"
cd "$ES_BUILD_DIR/build"
cmake ..
make -j$(nproc)  # make clean ì œê±°
```

ì´ì œ ë¹Œë“œ ë””ë ‰í† ë¦¬ë¥¼ ì™„ì „íˆ ì¬ìƒì„±í•˜ë¯€ë¡œ íŒ¨ì¹˜ê°€ í•­ìƒ í™•ì‹¤íˆ ë°˜ì˜ë¨

#### 5. ì ìš©ëœ íŒŒì¼
- **íŒ¨ì¹˜ íŒŒì¼:** `resources/patches/es_showfolders.patch`
- **ì ìš© ìœ„ì¹˜:** `scriptmodules/install_base_3_in_5_es.sh`
```bash
patch -p1 -d "$ES_BUILD_DIR" < "$RESOURCES_DIR/patches/es_showfolders.patch"
```

#### 6. ë™ì‘ í™•ì¸
- âœ… ì„¸ ê°€ì§€ ì˜µì…˜ ëª¨ë‘ ì •ìƒ ì‘ë™
- âœ… ì„¤ì • ë³€ê²½ í›„ ì¦‰ì‹œ ë°˜ì˜ (ES ì¬ì‹œì‘ ë¶ˆí•„ìš”)
- âœ… ê²Œì„ ì‹¤í–‰ ì •ìƒ
- âœ… ê¸°ì¡´ í•„í„° ê¸°ëŠ¥ê³¼ í˜¸í™˜

#### 7. ì‚¬ìš© ì‚¬ë¡€
- **PSX ë©€í‹°ë””ìŠ¤í¬ ê²Œì„:** `"having multiple games"` ì„¤ì • ì‹œ `Final Fantasy VII (K)` í´ë”(3ê°œ ë””ìŠ¤í¬)ëŠ” í‘œì‹œë˜ì§€ë§Œ, `.m3u` íŒŒì¼ë§Œ ìˆëŠ” í´ë”ëŠ” ìë™ìœ¼ë¡œ ìˆ¨ê²¨ì§
- **ë‹¨ì¼ ROM í´ë” ì •ë¦¬:** `"never"` ì„¤ì • ì‹œ ëª¨ë“  í´ë”ê°€ ìˆ¨ê²¨ì§€ê³  ê²Œì„ë§Œ ê¹”ë”í•˜ê²Œ í‘œì‹œë¨
- **ì „í†µì ì¸ ë°©ì‹:** `"always"` ì„¤ì • ì‹œ ê¸°ì¡´ê³¼ ë™ì¼í•˜ê²Œ ëª¨ë“  í´ë” í‘œì‹œ

---

## í•´ê²° ì™„ë£Œ ê³¼ì œ íˆìŠ¤í† ë¦¬

### `install_base_4_in_5_cores.sh` ìŠ¤í¬ë¦½íŠ¸ ì½”ì–´ ì˜¤ë¥˜ ë°œìƒ í•´ê²° ê³¼ì •
- **ì›ì¸:** ì»¤ìŠ¤í…€ `iniConfig` í•¨ìˆ˜ì˜ ë¶ˆì•ˆì •ì„± ë° ì½”ì–´ë³„ `install` í•¨ìˆ˜ í˜¸ì¶œ ëˆ„ë½ìœ¼ë¡œ `md_ret_files` ë°°ì—´ì´ ë¹„ì–´ìˆì—ˆìŒ.
- **í•´ê²°:** RetroPie ì›ë³¸ì˜ `ini*` í•¨ìˆ˜ë¡œ êµì²´í•˜ê³ , `install` í•¨ìˆ˜ í˜¸ì¶œ ë¡œì§ì„ ì¶”ê°€í•˜ì—¬ í•´ê²°.

### sed ì˜¤ë¥˜ ë° ê²½ë¡œ ë¬¸ì œ
- **ì›ì¸:** ì»¤ìŠ¤í…€ `iniProcess` í•¨ìˆ˜ ë‚´ `sed` ëª…ë ¹ì–´ ë²„ê·¸ ë° `addEmulator` ë“± ì»¤ìŠ¤í…€ í—¬í¼ í•¨ìˆ˜ì˜ ë¶ˆì•ˆì •ì„±.
- **í•´ê²°:** ë¬¸ì œê°€ ë˜ëŠ” `ext_retropie_ini.sh`ì™€ `ext_retropie_op.sh`ë¥¼ RetroPie ì›ë³¸ì˜ ì•ˆì •ì ì¸ ì½”ë“œë¡œ êµì²´í•˜ì—¬ í•´ê²°.

### Recalbox ì„¤ì • êµ¬ì¡° ë¶„ì„ (ES ë©”ë‰´ ë° ì‹œìŠ¤í…œ ì •ì˜)
- **ê²°ë¡ :** RecalboxëŠ” `system.ini` -> Python ìŠ¤í¬ë¦½íŠ¸ -> `systemlist.xml` -> C++ ë‚´ë¶€ ê°ì²´ë¡œ ì´ì–´ì§€ëŠ” ë³µì¡í•˜ê³  ì²´ê³„ì ì¸ íŒŒì´í”„ë¼ì¸ì„ í†µí•´ ì‹œìŠ¤í…œì„ ì •ì˜í•¨ì„ íŒŒì•…. ì´ ë¶„ì„ì„ í†µí•´ `retropangui`ì— ë§ëŠ” ì‹œìŠ¤í…œ ì •ì˜ êµ¬í˜„ì˜ ê¸°ë°˜ì„ ë§ˆë ¨í•´ì•¼í•¨.

---

## ì‘ì—… ì´ë ¥

### 2025-10-23~25: EmulationStation ë…¼ë¦¬ ë²„íŠ¼ ë§¤í•‘ ì™„ì „ êµ¬í˜„ (ì™„ë£Œ)

#### ë°°ê²½
- ê¸°ì¡´ `es_swap_ab.patch`ëŠ” ë‹¨ìˆœíˆ ì½”ë“œì—ì„œ "a"ì™€ "b"ë¥¼ swapí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„
- ë¬¸ì œì :
  - ì¡°ì´íŒ¨ë“œ ë¬¼ë¦¬ ë§¤í•‘(`es_input.cfg`)ê³¼ ì¶©ëŒ â†’ ì´ì¤‘ swap ë°œìƒ
  - 20ê°œ ì´ìƒ íŒŒì¼ì„ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ë¹„íš¨ìœ¨ì  êµ¬ì¡°
  - Start/Select ë“± ë‹¤ë¥¸ ë²„íŠ¼ì˜ ì—­í• ì´ ë¶ˆëª…í™•
  - ì‚¬ìš©ìê°€ ë²„íŠ¼ ë ˆì´ì•„ì›ƒì„ ì„ íƒí•  ìˆ˜ ì—†ìŒ

#### í•´ê²° ë°©ì•ˆ: ë…¼ë¦¬ ë²„íŠ¼ ë§¤í•‘
- **í•µì‹¬ ê°œë…:** ë¬¼ë¦¬ ë²„íŠ¼(a, b)ê³¼ ë…¼ë¦¬ ë™ì‘(accept, back)ì„ ë¶„ë¦¬
- **êµ¬í˜„ ìœ„ì¹˜:**
  - `InputConfig.h/cpp`: ë…¼ë¦¬ ë§¤í•‘ ê´€ë¦¬ í•¨ìˆ˜ ì¶”ê°€
  - `Settings.cpp`: ButtonLayout ê¸°ë³¸ê°’ ì¶”ê°€ (nintendo)
  - `GuiMenu.cpp`: UI SETTINGSì— ë²„íŠ¼ ë ˆì´ì•„ì›ƒ ì„ íƒ ë©”ë‰´ ì¶”ê°€
  - **24ê°œ UI ì»´í¬ë„ŒíŠ¸ íŒŒì¼**: ëª¨ë“  ë²„íŠ¼ ì…ë ¥ ì²˜ë¦¬ ë¡œì§ ë³€ê²½

#### êµ¬í˜„ ë‚´ìš©

**1. InputConfig ì¸í”„ë¼ êµ¬ì¶• (InputConfig.h/cpp)**
```cpp
// es-core/src/InputConfig.h
bool isMappedToAction(const std::string& action, Input input);
static void setButtonLayout(const std::string& layout);
static std::string getButtonLayout();
static std::string getActionButton(const std::string& action);
static void initActionMapping();

// Private members
static std::map<std::string, std::string> sActionMapping;
static std::string sButtonLayout;
```

**2. ë…¼ë¦¬ ë§¤í•‘ ì´ˆê¸°í™” ë¡œì§ (InputConfig.cpp)**
```cpp
void InputConfig::initActionMapping()
{
    std::string layout = Settings::getInstance()->getString("ButtonLayout");
    if (layout.empty())
        layout = "nintendo";

    if (layout == "nintendo")
    {
        sActionMapping["accept"] = "b";  // Bë²„íŠ¼ = í™•ì¸
        sActionMapping["back"] = "a";    // Aë²„íŠ¼ = ì·¨ì†Œ
    }
    else if (layout == "sony" || layout == "xbox")
    {
        sActionMapping["accept"] = "a";  // Aë²„íŠ¼ = í™•ì¸
        sActionMapping["back"] = "b";    // Bë²„íŠ¼ = ì·¨ì†Œ
    }

    sButtonLayout = layout;
    LOG(LogInfo) << "Button Layout: " << layout;
}

bool InputConfig::isMappedToAction(const std::string& action, Input input)
{
    if (sActionMapping.empty() || sButtonLayout.empty())
        initActionMapping();

    auto it = sActionMapping.find(action);
    if (it != sActionMapping.end())
        return isMappedTo(it->second, input);

    return isMappedTo(action, input);
}
```

**3. Settings ì¶”ê°€ (Settings.cpp)**
```cpp
// RetroPangui: Button Layout (nintendo, sony, xbox)
mStringMap["ButtonLayout"] = "nintendo";
```

**4. UI ë©”ë‰´ ì¶”ê°€ (GuiMenu.cpp)**
- ìœ„ì¹˜: `[ë©”ì¸ ë©”ë‰´] > [UI SETTINGS] > [BUTTON LAYOUT]`
- ì˜µì…˜:
  - `nintendo` - Nintendo ìŠ¤íƒ€ì¼ (B=í™•ì¸, A=ì·¨ì†Œ)
  - `sony` - Sony/Xbox ìŠ¤íƒ€ì¼ (A=í™•ì¸, B=ì·¨ì†Œ)
  - `xbox` - Sony/Xbox ìŠ¤íƒ€ì¼ (A=í™•ì¸, B=ì·¨ì†Œ)

**5. ì „ì²´ UI ì»´í¬ë„ŒíŠ¸ ë¦¬íŒ©í† ë§ (24ê°œ íŒŒì¼)**

ëª¨ë“  `isMappedTo("a", input)` â†’ `isMappedToAction("accept", input)` ë³€ê²½
ëª¨ë“  `isMappedTo("b", input)` â†’ `isMappedToAction("back", input)` ë³€ê²½

**ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡:**

*es-core/src/components:*
- TextEditComponent.cpp (accept/back)
- SwitchComponent.cpp (accept)
- OptionListComponent.h (accept/back)
- DateTimeEditComponent.cpp (accept/back)
- ComponentList.h (accept)
- ButtonComponent.cpp (accept)

*es-core/src/guis:*
- GuiTextEditPopup.cpp (back)
- GuiMsgBox.cpp (back)

*es-app/src/views/gamelist:*
- ISimpleGameListView.cpp (accept/back)

*es-app/src/views:*
- SystemView.cpp (accept)

*es-app/src/guis:*
- GuiGamelistOptions.cpp (accept/back)
- GuiMenu.cpp (back)
- GuiSettings.cpp (back)
- GuiScreensaverOptions.cpp (back)
- GuiScraperStart.cpp (back)
- GuiRandomCollectionOptions.cpp (back)
- GuiMetaDataEd.cpp (back)
- GuiGamelistFilter.cpp (back)
- GuiGameScraper.cpp (back)
- GuiCollectionSystemsOptions.cpp (back)

*es-app/src/components:*
- ScraperSearchComponent.cpp (accept)
- RatingComponent.cpp (accept)
- AsyncReqComponent.cpp (back)

*es-app/src:*
- SystemScreenSaver.cpp (accept)

#### ì ìš© ë°©ì‹
- **RetroPangui EmulationStation í¬í¬ì— ì§ì ‘ ë°˜ì˜**
- GitHub ì €ì¥ì†Œ: https://github.com/LeonardWard/retropangui-emulationstation
- ë¸Œëœì¹˜: main
- ë” ì´ìƒ íŒ¨ì¹˜ íŒŒì¼ ë°©ì‹ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (Gitìœ¼ë¡œ ì§ì ‘ ê´€ë¦¬)

#### ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ë³€ê²½
```bash
# scriptmodules/install_base_3_in_5_es.sh
# ê¸°ì¡´ íŒ¨ì¹˜ ì ìš© ì œê±°
# patch -p1 -d "$ES_BUILD_DIR" < "$RESOURCES_DIR/patches/es_logical_button_mapping.patch"

# ES ì €ì¥ì†Œì—ì„œ main ë¸Œëœì¹˜ ì§ì ‘ ì‚¬ìš©
cd "$ES_BUILD_DIR" && git checkout main && git pull
```

#### í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- âœ… Nintendo ìŠ¤íƒ€ì¼ (B=í™•ì¸, A=ì·¨ì†Œ) ì •ìƒ ì‘ë™
- âœ… Sony/Xbox ìŠ¤íƒ€ì¼ (A=í™•ì¸, B=ì·¨ì†Œ) ì •ìƒ ì‘ë™
- âœ… ì„¤ì • ë³€ê²½ í›„ ì¦‰ì‹œ ì ìš©
- âœ… ëª¨ë“  UI ì»´í¬ë„ŒíŠ¸ì—ì„œ ë²„íŠ¼ ì…ë ¥ ì •ìƒ
- âœ… ê²Œì„ ì‹¤í–‰/ì¢…ë£Œ ì •ìƒ
- âœ… ë©”ë‰´ ë„¤ë¹„ê²Œì´ì…˜ ì •ìƒ

#### ê²€ì¦ (2025-10-25)
- ì‚¬ìš©ì í”¼ë“œë°±: "ã…‡ã…‹ ë²„íŠ¼ ë©€ì©¡í•˜ê²Œ ì‘ë™ í•˜ê³ .."
- ì»¤ë°‹ ë° GitHub í‘¸ì‹œ ì™„ë£Œ

#### íŠ¹ì´ì‚¬í•­
- **Start ë²„íŠ¼:** í•­ìƒ ë©”ë‰´ ì—´ê¸° (ë³€ê²½ ì—†ìŒ)
- **Select ë²„íŠ¼:** ì»¨í…ìŠ¤íŠ¸ë³„ ê¸°ëŠ¥ (ë³€ê²½ ì—†ìŒ)
- **X, Y ë²„íŠ¼:** í–¥í›„ í•„ìš”ì‹œ ë…¼ë¦¬ ë§¤í•‘ ì¶”ê°€ ê°€ëŠ¥
- **HelpPrompt ë¯¸ë³€ê²½:** í™”ë©´ í•˜ë‹¨ ë„ì›€ë§ì€ ë¬¼ë¦¬ ë²„íŠ¼ í‘œì‹œ ìœ ì§€ (í–¥í›„ ê°œì„  ê°€ëŠ¥)

---

### 2025-10-24: EmulationStation ë©€í‹°ì½”ì–´ ì§€ì› êµ¬í˜„ (Recalbox ìŠ¤íƒ€ì¼)

#### ë°°ê²½
- ê¸°ì¡´ RetroPie ë°©ì‹: `runcommand.sh` ì¤‘ê°„ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•œ ê°„ì ‘ ì‹¤í–‰
- ë¬¸ì œì :
  - ëŸ°ì²˜ ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë²„í—¤ë“œ
  - ë³µì¡í•œ ì‹¤í–‰ í”Œë¡œìš° (ES â†’ runcommand.sh â†’ RetroArch)
  - ì‹œìŠ¤í…œë³„ ì—¬ëŸ¬ ì½”ì–´ ì§€ì›ì´ `emulators.cfg`ì— ì˜ì¡´
  - ì½”ì–´ë³„ RetroArch ì„¤ì • ì˜¤ë²„ë¼ì´ë“œ ì§€ì› í•„ìš”

#### ëª©í‘œ: Recalbox ìŠ¤íƒ€ì¼ ë©€í‹°ì½”ì–´ ì•„í‚¤í…ì²˜
- **í•µì‹¬:** ESì—ì„œ ì§ì ‘ RetroArchë¥¼ ì‹¤í–‰ (runcommand.sh ì œê±°)
- **ë©€í‹°ì½”ì–´:** í•˜ë‚˜ì˜ ì‹œìŠ¤í…œì— ì—¬ëŸ¬ ì½”ì–´ ì •ì˜, ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ìë™ ì„ íƒ
- **ì„¤ì • ê´€ë¦¬:** ì‹œìŠ¤í…œë³„/ì½”ì–´ë³„ RetroArch ì„¤ì • íŒŒì¼ ì˜¤ë²„ë¼ì´ë“œ
- **ë™ì  ê²½ë¡œ:** í•˜ë“œì½”ë”© ì œê±°, Settings API ê¸°ë°˜ ê²½ë¡œ ê´€ë¦¬

#### ì£¼ìš” ë³€ê²½ì‚¬í•­

**1. es_systems.cfg â†’ es_systems.xml ì „í™˜**
- XML í˜•ì‹ ì±„íƒ ì´ìœ :
  - ë°ì´í„°/ë¡œì§ ë¶„ë¦¬ (Recalbox ë°©ì‹)
  - ë³µì¡í•œ ê³„ì¸µ êµ¬ì¡° í‘œí˜„ ìš©ì´ (ë©€í‹°ì½”ì–´ ì§€ì›)
  - VSCode ë“± IDEì˜ ìë™ì™„ì„±/ë¬¸ë²•ê²€ì‚¬ ì§€ì›
- íŒŒì¼ëª… ë³€ê²½: `es_systems.cfg` â†’ `es_systems.xml`
- ëª¨ë“  ê´€ë ¨ ì½”ë“œì—ì„œ íŒŒì¼ ê²½ë¡œ ìˆ˜ì • ì™„ë£Œ

**2. SystemData.h: CoreInfo êµ¬ì¡°ì²´ ì¶”ê°€**
```cpp
// es-app/src/SystemData.h
// RetroPangui: Multi-core support
struct CoreInfo
{
    std::string name;              // ì½”ì–´ ì´ë¦„ (ì˜ˆ: "pcsx_rearmed")
    int priority;                  // ìš°ì„ ìˆœìœ„ (ë‚®ì„ìˆ˜ë¡ ë†’ì€ ìš°ì„ ìˆœìœ„)
    std::vector<std::string> extensions;  // ì½”ì–´ë³„ ì§€ì› í™•ì¥ì
};

struct SystemEnvironmentData
{
    std::string mStartPath;
    std::vector<std::string> mSearchExtensions;
    std::string mLaunchCommand;
    std::vector<PlatformIds::PlatformId> mPlatformIds;
    // RetroPangui: Store multiple cores for this system
    std::vector<CoreInfo> mCores;
};
```

**3. SystemData.cpp: ë©€í‹°ì½”ì–´ íŒŒì‹± ë¡œì§**
```cpp
// es-app/src/SystemData.cpp - loadSystem() í•¨ìˆ˜
// RetroPangui: Parse cores if available
std::vector<CoreInfo> cores;
pugi::xml_node coresNode = system.child("cores");
if (coresNode)
{
    for (pugi::xml_node coreNode = coresNode.child("core"); coreNode; coreNode = coreNode.next_sibling("core"))
    {
        CoreInfo coreInfo;
        coreInfo.name = coreNode.attribute("name").as_string();
        coreInfo.priority = coreNode.attribute("priority").as_int(999);

        // Parse core-specific extensions
        std::string coreExtensions = coreNode.attribute("extensions").as_string();
        if (!coreExtensions.empty())
        {
            std::vector<std::string> coreExtList = readList(coreExtensions.c_str());
            for (auto& ext : coreExtList)
            {
                if (!ext.empty())
                    coreInfo.extensions.push_back(ext);
            }
        }

        if (!coreInfo.name.empty())
        {
            cores.push_back(coreInfo);
            LOG(LogInfo) << "  Core: " << coreInfo.name << " (priority: " << coreInfo.priority << ")";
        }
    }

    // Sort cores by priority (lower number = higher priority)
    std::sort(cores.begin(), cores.end(), [](const CoreInfo& a, const CoreInfo& b) {
        return a.priority < b.priority;
    });
}

// Modified validation to allow empty command when cores exist
if (name.empty() || path.empty() || extensions.empty() || (cmd.empty() && cores.empty()))
{
    LOG(LogError) << "System \"" << name << "\" is missing name, path, extension, or command/cores!";
    return nullptr;
}
```

**4. FileData.cpp: ë™ì  RetroArch ëª…ë ¹ ìƒì„±**
```cpp
// es-app/src/FileData.cpp - launchGame() í•¨ìˆ˜
#include "Settings.h"  // ì¶”ê°€

// RetroPangui: If cores are defined and command is empty, build command from settings
if (!mEnvData->mCores.empty() && command.empty())
{
    const CoreInfo& defaultCore = mEnvData->mCores[0]; // Already sorted by priority
    std::string systemName = mSystem->getName();

    std::string retroarchPath = Settings::getInstance()->getString("RetroArchPath");
    std::string coresPath = Settings::getInstance()->getString("LibretroCoresPath");
    std::string configPath = Settings::getInstance()->getString("CoreConfigPath");

    command = retroarchPath + " -L " + coresPath + "/" + defaultCore.name + "_libretro.so " +
              "--config " + configPath + "/" + systemName + "/retroarch.cfg %ROM%";

    LOG(LogInfo) << "Using core: " << defaultCore.name << " (priority: " << defaultCore.priority << ")";
}
```

**5. Settings.cpp: ê²½ë¡œ ì„¤ì • ë³€ìˆ˜ ì¶”ê°€**
```cpp
// es-core/src/Settings.cpp - setDefaults() í•¨ìˆ˜
// RetroPangui: Paths for multi-core support
mStringMap["RetroArchPath"] = "/opt/retropangui/bin/retroarch";
mStringMap["LibretroCoresPath"] = "/opt/retropangui/libretro/cores";
mStringMap["CoreConfigPath"] = "/home/pangui/share/system/configs/cores";
```

**6. es_systems_generator.sh: XML ìƒì„± í•¨ìˆ˜**
```bash
# scriptmodules/es_systems_generator.sh
generate_es_systems_xml_multi_core() {
    local src_csv="$1"
    local dest_xml="$2"

    echo '<?xml version="1.0"?>' | sudo tee "$dest_xml" > /dev/null
    echo "<systemList>" | sudo tee -a "$dest_xml" > /dev/null

    # systemlist.csv íŒŒì‹±í•˜ì—¬ ì‹œìŠ¤í…œë³„ ì½”ì–´ ì •ë³´ ìƒì„±
    # ì¶œë ¥ í˜•ì‹:
    # <system>
    #     <name>psx</name>
    #     <fullname>PlayStation</fullname>
    #     <path>~/RetroPie/roms/psx</path>
    #     <extension>.bin .cue .img .mdf .pbp .toc .cbn .m3u .ccd .chd .zip .7z</extension>
    #     <command></command>  <!-- ë¹„ì–´ìˆìŒ - ë©€í‹°ì½”ì–´ ì‚¬ìš© -->
    #     <cores>
    #         <core name="pcsx_rearmed" priority="2" extensions=".bin .cue .img"/>
    #         <core name="beetle_psx" priority="3" extensions=".cue .chd"/>
    #     </cores>
    #     <platform>psx</platform>
    #     <theme>psx</theme>
    # </system>
}
```

**7. install_base_3_in_5_es.sh: íŒ¨ì¹˜ ì ìš©**
```bash
# íŒ¨ì¹˜ ì ìš©
patch -p1 -d "$ES_BUILD_DIR" < "$RESOURCES_DIR/patches/es_multi_core_support.patch"

# es_systems.xml ìƒì„± (runcommand.sh ë°©ì‹ ëŒ€ì‹ )
source "$MODULES_DIR/es_systems_generator.sh"
generate_es_systems_xml_multi_core "$MODULES_DIR/systemlist.csv" "$ES_SYSTEMS_PATH"
```

#### es_systems.xml ì˜ˆì œ êµ¬ì¡°
```xml
<?xml version="1.0"?>
<systemList>
  <system>
    <name>psx</name>
    <fullname>PlayStation</fullname>
    <path>~/RetroPie/roms/psx</path>
    <extension>.bin .cue .img .mdf .pbp .toc .cbn .m3u .ccd .chd .zip .7z</extension>
    <command></command>
    <cores>
      <core name="pcsx_rearmed" priority="2" extensions=".bin .cue .img"/>
      <core name="beetle_psx" priority="3" extensions=".cue .chd"/>
    </cores>
    <platform>psx</platform>
    <theme>psx</theme>
  </system>
</systemList>
```

#### ì‹¤í–‰ í”Œë¡œìš°
1. **ES ì‹œì‘:** `es_systems.xml` ë¡œë“œ â†’ CoreInfo íŒŒì‹± â†’ priority ê¸°ì¤€ ì •ë ¬
2. **ê²Œì„ ì„ íƒ:** FileDataê°€ ê²Œì„ í™•ì¥ìì™€ ì½”ì–´ extensions ë¹„êµ
3. **ëª…ë ¹ ìƒì„±:** Settingsì—ì„œ ê²½ë¡œ ì½ê¸° â†’ RetroArch ëª…ë ¹ ë™ì  ì¡°ë¦½
4. **ì‹¤í–‰:** ì§ì ‘ RetroArch í˜¸ì¶œ (ì¤‘ê°„ ìŠ¤í¬ë¦½íŠ¸ ì—†ìŒ)

#### ì‹¤ì œ ì‹¤í–‰ ë¡œê·¸ (PSX í…ŒìŠ¤íŠ¸)
```
[LogInfo] Using core: pcsx_rearmed (priority: 2)
[LogInfo] /opt/retropangui/bin/retroarch -L /opt/retropangui/libretro/cores/pcsx_rearmed_libretro.so --config /home/pangui/share/system/configs/cores/psx/retroarch.cfg "/home/pangui/RetroPie/roms/psx/Klonoa - Door to Phantomile (Korea).chd"
[LogInfo] Game ended: 2025-10-24 (ì•½ 12ë¶„ê°„ í”Œë ˆì´ í›„ ì •ìƒ ì¢…ë£Œ)
```

#### ì ìš©ëœ íŒŒì¼
- **íŒ¨ì¹˜ íŒŒì¼:** `resources/patches/es_multi_core_support.patch` (174ì¤„)
- **ìˆ˜ì •ëœ ES ì†ŒìŠ¤:**
  - `es-app/src/SystemData.h` - CoreInfo êµ¬ì¡°ì²´ ì¶”ê°€
  - `es-app/src/SystemData.cpp` - ë©€í‹°ì½”ì–´ íŒŒì‹± ë° ê²€ì¦ ë¡œì§
  - `es-app/src/FileData.cpp` - ë™ì  ëª…ë ¹ ìƒì„±
  - `es-core/src/Settings.cpp` - ê²½ë¡œ ì„¤ì • ì¶”ê°€
- **ì‹ ê·œ ìŠ¤í¬ë¦½íŠ¸:**
  - `scriptmodules/es_systems_generator.sh` - XML ìƒì„± í•¨ìˆ˜
- **ìˆ˜ì •ëœ ìŠ¤í¬ë¦½íŠ¸:**
  - `scriptmodules/install_base_3_in_5_es.sh` - íŒ¨ì¹˜ ì ìš© ë¡œì§

#### ê²€ì¦ ì™„ë£Œ
- âœ… ES ì •ìƒ ë¹Œë“œ ë° ì‹¤í–‰
- âœ… es_systems.xml íŒŒì‹± ì„±ê³µ
- âœ… ë©€í‹°ì½”ì–´ ì •ë³´ ë¡œë“œ (ë¡œê·¸ í™•ì¸)
- âœ… PSX ê²Œì„ ì§ì ‘ ì‹¤í–‰ (runcommand.sh ìš°íšŒ)
- âœ… RetroArch ì„¤ì • ì˜¤ë²„ë¼ì´ë“œ ì ìš©
- âœ… ê²Œì„ í”Œë ˆì´ ë° ì¢…ë£Œ ì •ìƒ

#### í–¥í›„ ì‘ì—… (ë¯¸ì™„ë£Œ)
1. **ë©”ë‰´ êµ¬ì¡° ì¬êµ¬ì„±:**
   - MAIN MENU â†’ GAME SETTINGS / UI SETTINGS / SYSTEM SETTINGS
   - GAME SETTINGS > CORE SETTINGS > ì‹œìŠ¤í…œë³„ ì½”ì–´ ì„ íƒ UI
   - ê¸°ì¡´ ë©”ë‰´ í•­ëª©ë“¤ ì¬ë°°ì¹˜ (SCRAPER, SOUND, INPUT ë“±)

2. **ì½”ì–´ ì„ íƒ UI êµ¬í˜„:**
   - ì‚¬ìš©ìê°€ ì‹œìŠ¤í…œë³„ ì„ í˜¸ ì½”ì–´ ì„ íƒ ê°€ëŠ¥í•˜ë„ë¡
   - ì„ íƒí•œ ì½”ì–´ë¥¼ Settingsì— ì €ì¥ (`PreferredCore_psx` ë“±)
   - FileData.cppì—ì„œ ì‚¬ìš©ì ì„ íƒ ì½”ì–´ ìš°ì„  í™•ì¸ í›„ priority ì ìš©

3. **í™•ì¥ìë³„ ì½”ì–´ ë§¤ì¹­:**
   - CoreInfoì˜ extensions í™œìš©í•˜ì—¬ íŒŒì¼ í™•ì¥ìë³„ ìµœì  ì½”ì–´ ìë™ ì„ íƒ
   - ì˜ˆ: `.chd` íŒŒì¼ì€ `beetle_psx` ìš°ì„ , `.bin` íŒŒì¼ì€ `pcsx_rearmed` ìš°ì„ 

4. **ìµœì¢… íŒ¨ì¹˜ ì—…ë°ì´íŠ¸:**
   - ë©”ë‰´ ë³€ê²½ì‚¬í•­ í¬í•¨
   - git diffë¡œ ìµœì‹  íŒ¨ì¹˜ ì¬ìƒì„±

#### ê¸°ìˆ ì  ì˜ì˜
- **ì•„í‚¤í…ì²˜ í†µí•©:** Recalboxì˜ ì§ì ‘ ì‹¤í–‰ ë°©ì‹ + RetroPieì˜ ì•ˆì •ì„±
- **ìœ ì§€ë³´ìˆ˜ì„±:** Settings ê¸°ë°˜ ê²½ë¡œ ê´€ë¦¬ë¡œ í•˜ë“œì½”ë”© ì œê±°
- **í™•ì¥ì„±:** ìƒˆ ì‹œìŠ¤í…œ/ì½”ì–´ ì¶”ê°€ ì‹œ XMLë§Œ ìˆ˜ì •í•˜ë©´ ë¨
- **ì„±ëŠ¥:** ì¤‘ê°„ ìŠ¤í¬ë¦½íŠ¸ ì œê±°ë¡œ ì‹¤í–‰ ì§€ì—° ìµœì†Œí™”
- **ì¼ê´€ì„±:** ì½”ì–´ë³„ RetroArch ì„¤ì •ì„ ì‹œìŠ¤í…œë³„ ë””ë ‰í† ë¦¬ë¡œ ëª…í™•íˆ ë¶„ë¦¬

---

## í˜„ì¬ ì§„í–‰ì¤‘
- EmulationStation ë©€í‹°ì½”ì–´ ì§€ì› êµ¬í˜„ (2025-10-24) - í•µì‹¬ ê¸°ëŠ¥ ì™„ë£Œ
  - ë‹¤ìŒ ë‹¨ê³„: ë©”ë‰´ ì¬êµ¬ì„± ë° ì½”ì–´ ì„ íƒ UI ì¶”ê°€
- RetroPie ES ê¸°ë°˜ì˜ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ë° ì„¤ì • ìƒì„± ë¡œì§ ì•ˆì •í™” ì‘ì—… ì§„í–‰ ì¤‘
- ìŠ¤í¬ë¦°ìƒ· ì‹œìŠ¤í…œ ì¶”ê°€
- RA ì„¤ì • ì‹œìŠ¤í…œ ì¶”ê°€
- ë‚˜ë¨¸ì§€ BASE ì½”ì–´ ì •ìƒ ë¹Œë“œ

# ì™„ë£Œëœ ì‘ì—…

## 1. GitHub í¬í¬ ìƒì„± (2025-10-24)
- ì €ì¥ì†Œ: https://github.com/LeonardWard/retropangui-emulationstation
- ë¸Œëœì¹˜: main
- RetroPie EmulationStationì„ ê¸°ë°˜ìœ¼ë¡œ ë…ìì ì¸ í¬í¬ ìƒì„±

## 2. EmulationStation ì£¼ìš” ê¸°ëŠ¥ êµ¬í˜„

### 2.1 ë©€í‹°ì½”ì–´ ì§€ì› (2025-10-24) âœ…
- âœ… runcommand.sh ì œê±°, RetroArch ì§ì ‘ ì‹¤í–‰
- âœ… es_systems.xml í˜•ì‹ (ê¸°ì¡´ .cfg ëŒ€ì²´)
- âœ… Settings ê¸°ë°˜ ë™ì  ê²½ë¡œ ê´€ë¦¬
- âœ… ì‹œìŠ¤í…œë³„ ì—¬ëŸ¬ ì½”ì–´ ì •ì˜ ë° ìš°ì„ ìˆœìœ„ ì§€ì›
- âœ… CoreInfo êµ¬ì¡°ì²´ ë° íŒŒì‹± ë¡œì§ êµ¬í˜„
- âœ… PSX ê²Œì„ ì‹¤í–‰ ê²€ì¦ ì™„ë£Œ

### 2.2 ShowFolders ê¸°ëŠ¥ (2025-10-24) âœ…
- âœ… í´ë” í‘œì‹œ ë°©ì‹ 3ê°€ì§€ ì˜µì…˜ êµ¬í˜„
  - `always`: ëª¨ë“  í´ë” í‘œì‹œ
  - `never`: í´ë” ìˆ¨ê¸°ê³  ê²Œì„ë§Œ í‘œì‹œ
  - `having multiple games`: ë‹¨ì¼ ê²Œì„ í´ë”ë§Œ ê±´ë„ˆë›°ê¸°
- âœ… FileData.cpp í•„í„°ë§ ë¡œì§ êµ¬í˜„
- âœ… GuiMenu.cpp UI ë©”ë‰´ ì¶”ê°€
- âœ… ì„¤ì • ë³€ê²½ ì‹œ ì¦‰ì‹œ ë°˜ì˜ (ES ì¬ì‹œì‘ ë¶ˆí•„ìš”)

### 2.3 ë…¼ë¦¬ ë²„íŠ¼ ë§¤í•‘ (2025-10-23~25) âœ…
- âœ… InputConfig ì¸í”„ë¼ êµ¬ì¶• (isMappedToAction)
- âœ… ButtonLayout ì„¤ì • ì¶”ê°€ (nintendo/sony/xbox)
- âœ… GuiMenu UI ë©”ë‰´ ì¶”ê°€
- âœ… **24ê°œ UI ì»´í¬ë„ŒíŠ¸ íŒŒì¼ ì „ì²´ ë¦¬íŒ©í† ë§ ì™„ë£Œ**
- âœ… ëª¨ë“  ë²„íŠ¼ ì…ë ¥ ì²˜ë¦¬ë¥¼ ë…¼ë¦¬ ë§¤í•‘ìœ¼ë¡œ ì „í™˜
- âœ… Nintendo/Sony/Xbox ìŠ¤íƒ€ì¼ ëª¨ë‘ ì •ìƒ ì‘ë™ ê²€ì¦

### 2.4 ë‹¤êµ­ì–´ ì§€ì› (2025-10-24) âœ…
- âœ… ì–¸ì–´ ì„ íƒ ê¸°ëŠ¥ (ì˜ì–´/í•œêµ­ì–´)
- âœ… LocaleES ì‹œìŠ¤í…œ êµ¬í˜„
- âœ… í•œê¸€ í°íŠ¸ Fallback ì§€ì›
- âœ… GuiMenu ì£¼ìš” ë©”ë‰´ í•œê¸€ ë²ˆì—­ (80+ í•­ëª©)
- âœ… CMakeLists.txtì— locale ì»´íŒŒì¼ ì¶”ê°€
- âœ… ì–¸ì–´ ë³€ê²½ ì‹œ ES ì¬ì‹œì‘ ë©”ì‹œì§€ í‘œì‹œ

## 3. ë¹Œë“œ ì‹œìŠ¤í…œ í†µí•© âœ…
- âœ… config.sh: ES_GIT_URLì„ í¬í¬ ì €ì¥ì†Œë¡œ ë³€ê²½
- âœ… install_base_3_in_5_es.sh: íŒ¨ì¹˜ íŒŒì¼ ì œê±°, Git ì§ì ‘ ê´€ë¦¬ë¡œ ì „í™˜
- âœ… locale íŒŒì¼ ìë™ ì„¤ì¹˜ ì¶”ê°€
- âœ… ë¹Œë“œ ë””ë ‰í† ë¦¬ ì™„ì „ ì¬ìƒì„±ìœ¼ë¡œ ìºì‹œ ë¬¸ì œ í•´ê²°
- âœ… ë¹Œë“œ ì„±ê³µ
- âœ… ì‹¤í–‰ ì •ìƒ
- âœ… ê²Œì„ ì‹¤í–‰ ì •ìƒ

## 4. ê°œë°œ ì›Œí¬í”Œë¡œìš° ê°œì„  âœ…
- âœ… íŒ¨ì¹˜ íŒŒì¼ ë°©ì‹ì—ì„œ Git ì§ì ‘ ê´€ë¦¬ë¡œ ì „í™˜
- âœ… Gitìœ¼ë¡œ ë²„ì „ ê´€ë¦¬
- âœ… ì§ì ‘ ES ì†ŒìŠ¤ ìˆ˜ì • ê°€ëŠ¥
- âœ… upstream ì—…ë°ì´íŠ¸ merge ê°€ëŠ¥
- âœ… ê°œë°œ íš¨ìœ¨ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

## 5. ê²€ì¦ ì™„ë£Œ (2025-10-25)
- âœ… ShowFolders 3ê°€ì§€ ì˜µì…˜ ëª¨ë‘ ì •ìƒ ì‘ë™
- âœ… ë…¼ë¦¬ ë²„íŠ¼ ë§¤í•‘ Nintendo/Sony/Xbox ìŠ¤íƒ€ì¼ ì •ìƒ ì‘ë™
- âœ… ì–¸ì–´ ì „í™˜ ì •ìƒ (ì˜ì–´ â†” í•œêµ­ì–´)
- âœ… ë©€í‹°ì½”ì–´ ì‹œìŠ¤í…œ (PSX) ê²Œì„ ì‹¤í–‰ ì •ìƒ
- âœ… ëª¨ë“  UI ë„¤ë¹„ê²Œì´ì…˜ ì •ìƒ
- âœ… ì‚¬ìš©ì í”¼ë“œë°±: "ã…‡ã…‹ ë²„íŠ¼ ë©€ì©¡í•˜ê²Œ ì‘ë™ í•˜ê³ .."

---

## ğŸ“ í–¥í›„ ê°œì„  ì‚¬í•­ (ì„ íƒì‚¬í•­)

### 1. ì–¸ì–´ ë²ˆì—­ í™•ì¥
- ë” ë§ì€ UI í…ìŠ¤íŠ¸ì— _() ë§¤í¬ë¡œ ì ìš©
- ì¼ë³¸ì–´, ì¤‘êµ­ì–´ ë“± ì¶”ê°€ ì–¸ì–´ ì§€ì›

### 2. ë©”ë‰´ ì¬êµ¬ì„±
- GAME SETTINGS / UI SETTINGS / SYSTEM SETTINGS êµ¬ì¡°ë¡œ ì¬í¸
- ì½”ì–´ ì„ íƒ UI ì¶”ê°€ (ì‹œìŠ¤í…œë³„ ì„ í˜¸ ì½”ì–´ ì„¤ì •)

### 3. HelpPrompt ë™ì  í‘œì‹œ
- í™”ë©´ í•˜ë‹¨ ë„ì›€ë§ì„ ë²„íŠ¼ ë ˆì´ì•„ì›ƒì— ë§ì¶° ë™ì ìœ¼ë¡œ í‘œì‹œ
- í˜„ì¬ëŠ” ë¬¼ë¦¬ ë²„íŠ¼ í‘œì‹œ ìœ ì§€

### 4. íŒ¨ì¹˜ íŒŒì¼ ì •ë¦¬
- resources/patches/es_*.patch íŒŒì¼ë“¤ì„ legacy/ í´ë”ë¡œ ì´ë™
- ë” ì´ìƒ íŒ¨ì¹˜ ë°©ì‹ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì •ë¦¬ í•„ìš”

### 5. ë¬¸ì„œí™”
- README.md ì‘ì„±
- ì„¤ì¹˜ ê°€ì´ë“œ
- ê°œë°œì ê°€ì´ë“œ

---

# Part 2: í”„ë¡œì íŠ¸ ì•ˆì •í™” ë° ë¬¸ì„œí™” (2025-10-26)

> ì¶œì²˜: `README.md.bak` (ì‘ì„±ì¼: 2025-10-26)

---

# RetroPangui

**ë…ìì ì¸ ë ˆíŠ¸ë¡œê²Œì„ í”„ë¡ íŠ¸ì—”ë“œ í”Œë«í¼**

[![Version](https://img.shields.io/badge/version-0.9.2-blue.svg)](https://github.com/LeonardWard/retropangui)
[![Platform](https://img.shields.io/badge/platform-Linux-lightgrey.svg)](https://www.linux.org/)
[![License](https://img.shields.io/badge/license-GPL--3.0-green.svg)](LICENSE)

---

## ëª©ì°¨

- [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
- [ì•„í‚¤í…ì²˜](#ì•„í‚¤í…ì²˜)
- [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
- [ì‹œìŠ¤í…œ ëª¨ë“ˆ](#ì‹œìŠ¤í…œ-ëª¨ë“ˆ)
- [EmulationStation ì»¤ìŠ¤í„°ë§ˆì´ì§•](#emulationstation-ì»¤ìŠ¤í„°ë§ˆì´ì§•)
- [ë©€í‹°ì½”ì–´ ì‹œìŠ¤í…œ](#ë©€í‹°ì½”ì–´-ì‹œìŠ¤í…œ)
- [5ë‹¨ê³„ ìë™ ì„¤ì¹˜](#5ë‹¨ê³„-ìë™-ì„¤ì¹˜)
- [íŒ¨í‚¤ì§€ ê´€ë¦¬ ì‹œìŠ¤í…œ](#íŒ¨í‚¤ì§€-ê´€ë¦¬-ì‹œìŠ¤í…œ)
- [ì§€ì› ì‹œìŠ¤í…œ](#ì§€ì›-ì‹œìŠ¤í…œ)
- [ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­](#ì‹œìŠ¤í…œ-ìš”êµ¬ì‚¬í•­)
- [ì„¤ì¹˜ ê°€ì´ë“œ](#ì„¤ì¹˜-ê°€ì´ë“œ)
- [ì‚¬ìš© ê°€ì´ë“œ](#ì‚¬ìš©-ê°€ì´ë“œ)
- [ë””ë ‰í† ë¦¬ êµ¬ì¡°](#ë””ë ‰í† ë¦¬-êµ¬ì¡°)
- [ê°œë°œ í˜„í™©](#ê°œë°œ-í˜„í™©)
- [ë¡œë“œë§µ](#ë¡œë“œë§µ)
- [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)
- [ê¸°ì—¬í•˜ê¸°](#ê¸°ì—¬í•˜ê¸°)
- [ë¼ì´ì„ ìŠ¤](#ë¼ì´ì„ ìŠ¤)
- [í¬ë ˆë”§](#í¬ë ˆë”§)

---

## í”„ë¡œì íŠ¸ ê°œìš”

### ì†Œê°œ

RetroPanguiëŠ” Linux í™˜ê²½ì—ì„œ ë™ì‘í•˜ëŠ” í†µí•© ë ˆíŠ¸ë¡œê²Œì„ í”„ë¡ íŠ¸ì—”ë“œ í”Œë«í¼ì…ë‹ˆë‹¤.
### í•µì‹¬ ëª©í‘œ

1. **ë…ìì ì¸ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ**
   - RetroPie EmulationStationì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë˜, ë…ìì ì¸ ê¸°ëŠ¥ í†µí•©
   - Git ê¸°ë°˜ í¬í¬ ê´€ë¦¬ë¡œ upstream ì—…ë°ì´íŠ¸ ë³‘í•© ê°€ëŠ¥
   - íŒ¨ì¹˜ íŒŒì¼ ë°©ì‹ ì œê±°, ì§ì ‘ ì†ŒìŠ¤ ì½”ë“œ ê´€ë¦¬

2. **ë©€í‹°ì½”ì–´ ì•„í‚¤í…ì²˜ êµ¬í˜„**
   - Recalbox ë°©ì‹ì˜ ì‹œìŠ¤í…œë‹¹ ë‹¤ì¤‘ ì½”ì–´ ì§€ì›
   - ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ìë™ ì½”ì–´ ì„ íƒ
   - í™•ì¥ìë³„ ì½”ì–´ ë§¤ì¹­
   - ì‚¬ìš©ì ì„ í˜¸ ì½”ì–´ ì„¤ì • (í–¥í›„ êµ¬í˜„)

3. **ì§ì ‘ ì‹¤í–‰ ë°©ì‹ ì±„íƒ**
   - runcommand.sh ì¤‘ê°„ ìŠ¤í¬ë¦½íŠ¸ ì œê±°
   - RetroArch ì§ì ‘ í˜¸ì¶œë¡œ ì‹¤í–‰ ì§€ì—° ìµœì†Œí™”
   - Settings API ê¸°ë°˜ ë™ì  ê²½ë¡œ ê´€ë¦¬

4. **ì™„ì „ ìë™í™” ì‹œìŠ¤í…œ**
   - ì˜ì¡´ì„±ë¶€í„° í™˜ê²½ êµ¬ì„±ê¹Œì§€ 5ë‹¨ê³„ ìë™ ì„¤ì¹˜
   - íŒ¨í‚¤ì§€ë³„ ê°œë³„ ì„¤ì¹˜ ì§€ì›
   - í”Œë«í¼ ìë™ ê°ì§€ ë° ìµœì í™”

5. **ì‚¬ìš©ì ì¹œí™”ì  ì¸í„°í˜ì´ìŠ¤**
   - ë…¼ë¦¬ ë²„íŠ¼ ë§¤í•‘ìœ¼ë¡œ ë‹¤ì–‘í•œ ì»¨íŠ¸ë¡¤ëŸ¬ ë ˆì´ì•„ì›ƒ ì§€ì›
   - ë‹¤êµ­ì–´ ì§€ì› (í˜„ì¬ ì˜ì–´/í•œêµ­ì–´)
   - ì§ê´€ì ì¸ WhipTail ê¸°ë°˜ TUI

### ê°œë°œ ì •ë³´

| í•­ëª© | ë‚´ìš© |
|------|------|
| í”„ë¡œì íŠ¸ ì´ë¦„ | RetroPangui (Retro Pang-ui) |
| ê°œë°œ ì‹œì‘ì¼ | 2025ë…„ 8ì›” 22ì¼ |
| í˜„ì¬ ë²„ì „ | v0.9.2 |
| ê°œë°œ ë‹¨ê³„ | v1.0 ëŸ°ì¹­ ì¤€ë¹„ |
| ë‹´ë‹¹ì | LeonardWard |
| í”„ë¡œì íŠ¸ ë£¨íŠ¸ | /home/pangui/scripts/retropangui/ |
| GitHub ì €ì¥ì†Œ | https://github.com/LeonardWard/retropangui |
| ES í¬í¬ ì €ì¥ì†Œ | https://github.com/LeonardWard/retropangui-emulationstation |
| ë¼ì´ì„ ìŠ¤ | GPL-3.0 |

---

## ì•„í‚¤í…ì²˜

### ì „ì²´ ì•„í‚¤í…ì²˜

RetroPanguiëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê³„ì¸µ êµ¬ì¡°ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ EmulationStationâ”‚         â”‚  WhipTail TUI   â”‚        â”‚
â”‚  â”‚   (í”„ë¡ íŠ¸ì—”ë“œ)   â”‚         â”‚ (ì„¤ì¹˜/ê´€ë¦¬)     â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           â”‚      ì„¤ì • ë° ê´€ë¦¬ ê³„ì¸µ    â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ es_systems.xml  â”‚         â”‚ retropangui     â”‚        â”‚
â”‚  â”‚ es_settings.cfg â”‚         â”‚ _setup.sh       â”‚        â”‚
â”‚  â”‚ es_input.cfg    â”‚         â”‚ (ë©”ì¸ ìŠ¤í¬ë¦½íŠ¸)  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           â”‚      ì½”ì–´ ê´€ë¦¬ ê³„ì¸µ       â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ CoreInfo        â”‚         â”‚ systemlist.csv  â”‚        â”‚
â”‚  â”‚ (ë©€í‹°ì½”ì–´ ì •ë³´)  â”‚         â”‚ (ì¤‘ì•™ DB)       â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           â”‚      ì‹¤í–‰ ê³„ì¸µ            â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚   RetroArch     â”‚         â”‚  Libretro Cores â”‚        â”‚
â”‚  â”‚  (ì—ë®¬ë ˆì´í„°)    â”‚         â”‚  (ì½”ì–´ ë°”ì´ë„ˆë¦¬) â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì‹¤í–‰ í”Œë¡œìš°

#### EmulationStation ê²Œì„ ì‹¤í–‰ í”Œë¡œìš°

```
1. EmulationStation ì‹œì‘
   â†“
2. es_systems.xml ë¡œë“œ
   - <system> íƒœê·¸ íŒŒì‹±
   - <cores> íƒœê·¸ íŒŒì‹± â†’ CoreInfo êµ¬ì¡°ì²´ ìƒì„±
   - priority ê¸°ì¤€ìœ¼ë¡œ ì½”ì–´ ì •ë ¬
   â†“
3. ì‚¬ìš©ìê°€ ê²Œì„ ì„ íƒ
   â†“
4. FileData::launchGame() í˜¸ì¶œ
   â†“
5. ê²Œì„ í™•ì¥ì í™•ì¸
   â†“
6. CoreInfoì˜ extensionsì™€ ë§¤ì¹­
   - ë§¤ì¹­ë˜ëŠ” ì½”ì–´ ì¤‘ priorityê°€ ê°€ì¥ ë‚®ì€(ìš°ì„ ìˆœìœ„ ë†’ì€) ì½”ì–´ ì„ íƒ
   â†“
7. Settings APIì—ì„œ ê²½ë¡œ ì½ê¸°
   - RetroArchPath: /opt/retropangui/bin/retroarch
   - LibretroCoresPath: /opt/retropangui/libretro/cores
   - CoreConfigPath: ~/share/system/configs/cores
   â†“
8. RetroArch ëª…ë ¹ì–´ ë™ì  ìƒì„±
   command = retroarchPath + " -L " + coresPath + "/" +
             coreName + "_libretro.so --config " +
             configPath + "/" + systemName + "/retroarch.cfg %ROM%"

   ì˜ˆì‹œ:
   /opt/retropangui/bin/retroarch \
     -L /opt/retropangui/libretro/cores/pcsx_rearmed_libretro.so \
     --config ~/share/system/configs/cores/psx/retroarch.cfg \
     "/home/pangui/share/roms/psx/game.cue"
   â†“
9. fork() ë° exec()ë¡œ RetroArch ì§ì ‘ ì‹¤í–‰
   â†“
10. ê²Œì„ í”Œë ˆì´
   â†“
11. RetroArch ì¢…ë£Œ í›„ EmulationStationìœ¼ë¡œ ë³µê·€
```

#### 5ë‹¨ê³„ ìë™ ì„¤ì¹˜ í”Œë¡œìš°

```
retropangui_setup.sh ì‹¤í–‰
   â†“
config.sh ì†Œì‹± â†’ ì „ì—­ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
   â†“
main_ui() ì‹¤í–‰ â†’ WhipTail ë©”ë‰´ í‘œì‹œ
   â†“
"1. Base System ì„¤ì¹˜" ì„ íƒ
   â†“
system_install.sh ì†Œì‹±
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1ë‹¨ê³„: install_base_1_in_5_deps.sh     â”‚
â”‚  - apt-get update && upgrade            â”‚
â”‚  - BUILD_DEPS ë°°ì—´ ìˆœíšŒ                 â”‚
â”‚  - ê° íŒ¨í‚¤ì§€ ì„¤ì¹˜ í™•ì¸ ë° ì„¤ì¹˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2ë‹¨ê³„: install_base_2_in_5_ra.sh       â”‚
â”‚  - RetroArch git clone                  â”‚
â”‚  - ./configure --prefix=/opt/retropanguiâ”‚
â”‚  - make -j$(nproc) && make install      â”‚
â”‚  - assets/shaders/overlays ì„¤ì¹˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3ë‹¨ê³„: install_base_3_in_5_es.sh       â”‚
â”‚  - ES í¬í¬ git clone                    â”‚
â”‚  - CMake ë¹Œë“œ                           â”‚
â”‚  - generate_es_systems_xml() í˜¸ì¶œ      â”‚
â”‚  - locale íŒŒì¼ ë³µì‚¬                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4ë‹¨ê³„: install_base_4_in_5_cores.sh    â”‚
â”‚  - systemlist.csv íŒŒì‹±                  â”‚
â”‚  - ê° ì½”ì–´ë³„ install_module í˜¸ì¶œ        â”‚
â”‚    - depends â†’ sources â†’ build â†’        â”‚
â”‚      install â†’ configure                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5ë‹¨ê³„: install_base_5_in_5_setup_env.shâ”‚
â”‚  - ~/share í•˜ìœ„ ë””ë ‰í† ë¦¬ ìƒì„±           â”‚
â”‚  - ê¶Œí•œ ë° ì†Œìœ ê¶Œ ì„¤ì •                  â”‚
â”‚  - ì‹œìŠ¤í…œë³„ config ë””ë ‰í† ë¦¬ ìƒì„±        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“
ì„¤ì¹˜ ì™„ë£Œ
```

### ì„¤ê³„ ì „ëµ

#### RetroPie EmulationStation ê¸°ë°˜ ì„ íƒ ì´ìœ 

RetroPanguiëŠ” RetroPie EmulationStationì„ ê¸°ë°˜ìœ¼ë¡œ ì»¤ìŠ¤í…€ ë²„ì „ì„ êµ¬ì¶•í•©ë‹ˆë‹¤. ì´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì´ìœ ì—ì„œì…ë‹ˆë‹¤:

1. **ì•ˆì •ì„± ê²€ì¦**: RetroPie ESëŠ” ìˆ˜ë…„ê°„ì˜ ê°œë°œê³¼ ì»¤ë®¤ë‹ˆí‹° í…ŒìŠ¤íŠ¸ë¥¼ ê±°ì¹œ ì•ˆì •ì ì¸ ì½”ë“œë² ì´ìŠ¤
2. **ëª…í™•í•œ êµ¬ì¡°**: ë¹„êµì  ë‹¨ìˆœí•˜ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ ì•„í‚¤í…ì²˜
3. **ì»¤ìŠ¤í„°ë§ˆì´ì§• ìš©ì´**: íŒ¨ì¹˜ ì ìš© ë° ê¸°ëŠ¥ ì¶”ê°€ê°€ ìƒëŒ€ì ìœ¼ë¡œ ì‰¬ì›€
4. **ë¹Œë“œ ì‹œìŠ¤í…œ í™œìš©**: RetroPie-Setupì˜ ê°•ë ¥í•œ ë¹Œë“œ ì‹œìŠ¤í…œ ì¬ì‚¬ìš© ê°€ëŠ¥

#### Recalbox ìš”ì†Œ í†µí•©

Recalboxì˜ ë‹¤ìŒ ìš”ì†Œë“¤ì„ ì„ íƒì ìœ¼ë¡œ í†µí•©í–ˆìŠµë‹ˆë‹¤:

1. **ë©€í‹°ì½”ì–´ ì‹œìŠ¤í…œ**: ì‹œìŠ¤í…œë‹¹ ë‹¤ì¤‘ ì½”ì–´ ì •ì˜ ë° ìš°ì„ ìˆœìœ„ ê´€ë¦¬
2. **ì§ì ‘ ì‹¤í–‰ ë°©ì‹**: runcommand.sh ì œê±°, RetroArch ì§ì ‘ í˜¸ì¶œ
3. **XML ê¸°ë°˜ ì‹œìŠ¤í…œ ì •ì˜**: es_systems.xml í˜•ì‹ ì±„íƒ

#### ë…ìì ì¸ ê°œì„ ì‚¬í•­

RetroPanguië§Œì˜ ë…ìì ì¸ ê°œì„ ì‚¬í•­:

1. **ë…¼ë¦¬ ë²„íŠ¼ ë§¤í•‘ ì‹œìŠ¤í…œ**: ë¬¼ë¦¬ ë²„íŠ¼ê³¼ ë…¼ë¦¬ ë™ì‘ ë¶„ë¦¬
2. **Settings API ê¸°ë°˜ ê²½ë¡œ ê´€ë¦¬**: í•˜ë“œì½”ë”© ì œê±°
3. **íŒ¨í‚¤ì§€ ê´€ë¦¬ ì‹œìŠ¤í…œ**: ê°œë³„ ì½”ì–´/ì—ë®¬ë ˆì´í„° ì„ íƒ ì„¤ì¹˜
4. **ì¤‘ì•™ ë°ì´í„°ë² ì´ìŠ¤**: systemlist.csv ê¸°ë°˜ í†µí•© ê´€ë¦¬

---

## ì£¼ìš” ê¸°ëŠ¥

### 1. ë©€í‹°ì½”ì–´ ì‹œìŠ¤í…œ

#### ê°œìš”

í•˜ë‚˜ì˜ ê²Œì„ ì‹œìŠ¤í…œì— ì—¬ëŸ¬ ì—ë®¬ë ˆì´í„° ì½”ì–´ë¥¼ ì •ì˜í•˜ê³ , ìš°ì„ ìˆœìœ„ì™€ í™•ì¥ìì— ë”°ë¼ ìë™ìœ¼ë¡œ ìµœì ì˜ ì½”ì–´ë¥¼ ì„ íƒí•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

#### í•µì‹¬ êµ¬ì„±ìš”ì†Œ

**1) es_systems.xml í˜•ì‹**

ê¸°ì¡´ RetroPieì˜ `.cfg` í˜•ì‹ ëŒ€ì‹  XML í˜•ì‹ì„ ì±„íƒí–ˆìŠµë‹ˆë‹¤.

**XML í˜•ì‹ ì±„íƒ ì´ìœ :**
- ê³„ì¸µ êµ¬ì¡° í‘œí˜„ ìš©ì´ (ì‹œìŠ¤í…œ > ì½”ì–´ ê´€ê³„)
- ë©€í‹°ì½”ì–´ ì •ë³´ë¥¼ ëª…í™•í•˜ê²Œ ì •ì˜ ê°€ëŠ¥
- VSCode ë“± IDEì˜ ìë™ì™„ì„±/ë¬¸ë²•ê²€ì‚¬ ì§€ì›
- í™•ì¥ì„± (ìƒˆë¡œìš´ ì†ì„± ì¶”ê°€ ìš©ì´)

**ì˜ˆì‹œ (PSX):**
```xml
<?xml version="1.0"?>
<systemList>
  <system>
    <name>psx</name>
    <fullname>PlayStation</fullname>
    <path>~/RetroPie/roms/psx</path>
    <extension>.bin .cue .img .mdf .pbp .toc .cbn .m3u .ccd .chd .zip .7z</extension>
    <command></command>  <!-- ë¹„ì–´ìˆìŒ: ë©€í‹°ì½”ì–´ ì‚¬ìš© -->
    <cores>
      <core name="pcsx_rearmed" priority="2" extensions=".bin .cue .img"/>
      <core name="beetle_psx" priority="3" extensions=".cue .chd"/>
      <core name="swanstation" priority="4" extensions=".ccd .chd .cue .m3u .pbp .toc"/>
    </cores>
    <platform>psx</platform>
    <theme>psx</theme>
  </system>
</systemList>
```

**2) CoreInfo êµ¬ì¡°ì²´**

`es-app/src/SystemData.h`ì— ì •ì˜ëœ êµ¬ì¡°ì²´:

```cpp
struct CoreInfo
{
    std::string name;                      // ì½”ì–´ ì´ë¦„ (ì˜ˆ: "pcsx_rearmed")
    int priority;                          // ìš°ì„ ìˆœìœ„ (ë‚®ì„ìˆ˜ë¡ ë†’ì€ ìš°ì„ ìˆœìœ„)
    std::vector<std::string> extensions;   // ì½”ì–´ë³„ ì§€ì› í™•ì¥ì
};

struct SystemEnvironmentData
{
    std::string mStartPath;
    std::vector<std::string> mSearchExtensions;
    std::string mLaunchCommand;
    std::vector<PlatformIds::PlatformId> mPlatformIds;
    std::vector<CoreInfo> mCores;  // ë©€í‹°ì½”ì–´ ì •ë³´
};
```

**3) íŒŒì‹± ë¡œì§ (SystemData.cpp)**

```cpp
// loadSystem() í•¨ìˆ˜ ë‚´ë¶€
std::vector<CoreInfo> cores;
pugi::xml_node coresNode = system.child("cores");

if (coresNode)
{
    for (pugi::xml_node coreNode = coresNode.child("core");
         coreNode;
         coreNode = coreNode.next_sibling("core"))
    {
        CoreInfo coreInfo;
        coreInfo.name = coreNode.attribute("name").as_string();
        coreInfo.priority = coreNode.attribute("priority").as_int(999);

        std::string coreExtensions = coreNode.attribute("extensions").as_string();
        if (!coreExtensions.empty())
        {
            std::vector<std::string> coreExtList = readList(coreExtensions.c_str());
            for (auto& ext : coreExtList)
            {
                if (!ext.empty())
                    coreInfo.extensions.push_back(ext);
            }
        }

        if (!coreInfo.name.empty())
        {
            cores.push_back(coreInfo);
            LOG(LogInfo) << "  Core: " << coreInfo.name
                         << " (priority: " << coreInfo.priority << ")";
        }
    }

    // priority ê¸°ì¤€ ì •ë ¬ (ë‚®ì„ìˆ˜ë¡ ë¨¼ì €)
    std::sort(cores.begin(), cores.end(),
              [](const CoreInfo& a, const CoreInfo& b) {
                  return a.priority < b.priority;
              });
}
```

**4) ë™ì  ëª…ë ¹ ìƒì„± (FileData.cpp)**

```cpp
// launchGame() í•¨ìˆ˜ ë‚´ë¶€
if (!mEnvData->mCores.empty() && command.empty())
{
    const CoreInfo& defaultCore = mEnvData->mCores[0];  // priority ì •ë ¬ë¨
    std::string systemName = mSystem->getName();

    std::string retroarchPath = Settings::getInstance()->getString("RetroArchPath");
    std::string coresPath = Settings::getInstance()->getString("LibretroCoresPath");
    std::string configPath = Settings::getInstance()->getString("CoreConfigPath");

    command = retroarchPath + " -L " + coresPath + "/" + defaultCore.name +
              "_libretro.so --config " + configPath + "/" + systemName +
              "/retroarch.cfg %ROM%";

    LOG(LogInfo) << "Using core: " << defaultCore.name
                 << " (priority: " << defaultCore.priority << ")";
}
```

**5) Settings ê¸°ë°˜ ê²½ë¡œ ê´€ë¦¬ (Settings.cpp)**

```cpp
// setDefaults() í•¨ìˆ˜ ë‚´ë¶€
// RetroPangui: Paths for multi-core support
mStringMap["RetroArchPath"] = "/opt/retropangui/bin/retroarch";
mStringMap["LibretroCoresPath"] = "/opt/retropangui/libretro/cores";
mStringMap["CoreConfigPath"] = "/home/pangui/share/system/configs/cores";
```

#### ì½”ì–´ ì„ íƒ ì•Œê³ ë¦¬ì¦˜

**í˜„ì¬ êµ¬í˜„ (v0.9.2):**

1. es_systems.xml ë¡œë“œ ì‹œ CoreInfo ë°°ì—´ ìƒì„±
2. priority ê¸°ì¤€ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
3. ê²Œì„ ì‹¤í–‰ ì‹œ ë°°ì—´ì˜ ì²« ë²ˆì§¸ ì½”ì–´(priority ê°€ì¥ ë‚®ìŒ) ìë™ ì„ íƒ

**í–¥í›„ ê°œì„  (v1.0+):**

1. ê²Œì„ í™•ì¥ìì™€ CoreInfo.extensions ë§¤ì¹­
2. ì‚¬ìš©ì ì„ í˜¸ ì½”ì–´ ì„¤ì • í™•ì¸ (Settings::PreferredCore_<system>)
3. ìœ„ ì¡°ê±´ë“¤ì„ ì¢…í•©í•˜ì—¬ ìµœì  ì½”ì–´ ì„ íƒ

#### ê¸°ìˆ ì  ì¥ì 

1. **ì„±ëŠ¥ ìµœì í™”**
   - runcommand.sh ì¤‘ê°„ ìŠ¤í¬ë¦½íŠ¸ ì œê±°
   - fork/exec ì˜¤ë²„í—¤ë“œ ìµœì†Œí™”
   - ì§ì ‘ ì‹¤í–‰ìœ¼ë¡œ ì•½ 0.5~1ì´ˆ ì‹¤í–‰ ì‹œê°„ ë‹¨ì¶•

2. **ìœ ì—°ì„±**
   - ì‹œìŠ¤í…œë³„ ì—¬ëŸ¬ ì½”ì–´ ì§€ì›
   - ì½”ì–´ë³„ ì§€ì› í™•ì¥ì ì •ì˜
   - ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ìë™ ì„ íƒ

3. **í™•ì¥ì„±**
   - ìƒˆ ì½”ì–´ ì¶”ê°€ ì‹œ XMLë§Œ ìˆ˜ì •
   - ì½”ë“œ ë³€ê²½ ë¶ˆí•„ìš”
   - ë™ì  ê²½ë¡œ ê´€ë¦¬ë¡œ ì´ì‹ì„± í–¥ìƒ

4. **ê´€ë¦¬ ìš©ì´ì„±**
   - ì‹œìŠ¤í…œë³„/ì½”ì–´ë³„ RetroArch ì„¤ì • ë¶„ë¦¬
   - ì¤‘ì•™ ì§‘ì¤‘ì‹ ì„¤ì • ê´€ë¦¬
   - ëª…í™•í•œ ì„¤ì • íŒŒì¼ ê³„ì¸µ êµ¬ì¡°

### 2. ë…¼ë¦¬ ë²„íŠ¼ ë§¤í•‘ ì‹œìŠ¤í…œ

#### ê°œìš”

ë¬¼ë¦¬ì  ë²„íŠ¼(A, B)ê³¼ ë…¼ë¦¬ì  ë™ì‘(í™•ì¸, ì·¨ì†Œ)ì„ ì™„ì „íˆ ë¶„ë¦¬í•˜ì—¬, ë‹¤ì–‘í•œ ì»¨íŠ¸ë¡¤ëŸ¬ ë ˆì´ì•„ì›ƒì„ ì§€ì›í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

#### ë°°ê²½ ë° ë¬¸ì œì 

**ê¸°ì¡´ RetroPie ESì˜ ë¬¸ì œ:**
- 'í™•ì¸'ê³¼ 'ì·¨ì†Œ' ë²„íŠ¼ì˜ ì—­í• ì´ ê° UI ì»´í¬ë„ŒíŠ¸ë§ˆë‹¤ ê°œë³„ì ìœ¼ë¡œ í•˜ë“œì½”ë”©ë¨
- A/B ë²„íŠ¼ ì—­í•  ë³€ê²½ì„ ìœ„í•´ 20ê°œ ì´ìƒì˜ íŒŒì¼ì„ ì¼ì¼ì´ ìˆ˜ì •í•´ì•¼ í•¨
- `es_swap_ab.patch` ë°©ì‹: ìœ ì§€ë³´ìˆ˜ ì–´ë µê³  ë²„ê·¸ ìœ ë°œ ê°€ëŠ¥ì„± ë†’ìŒ
- ì¡°ì´íŒ¨ë“œ ë¬¼ë¦¬ ë§¤í•‘(`es_input.cfg`)ê³¼ ì¶©ëŒí•˜ì—¬ ì´ì¤‘ swap ë°œìƒ

**RetroPanguiì˜ í•´ê²°ì±…:**
- ë¬¼ë¦¬ ë²„íŠ¼(a, b)ê³¼ ë…¼ë¦¬ ë™ì‘(accept, back)ì„ ì™„ì „íˆ ë¶„ë¦¬
- `InputConfig` í´ë˜ìŠ¤ì—ì„œ ì¤‘ì•™ ì§‘ì¤‘ì‹ ê´€ë¦¬
- ì‚¬ìš©ìê°€ ë©”ë‰´ì—ì„œ ë ˆì´ì•„ì›ƒ ì„ íƒ ê°€ëŠ¥
- ëª¨ë“  UI ì»´í¬ë„ŒíŠ¸ ë¦¬íŒ©í† ë§ìœ¼ë¡œ ì¼ê´€ì„± í™•ë³´

#### í•µì‹¬ êµ¬í˜„

**1) InputConfig í´ë˜ìŠ¤ í™•ì¥ (es-core/src/InputConfig.h)**

```cpp
class InputConfig
{
public:
    // ê¸°ì¡´ í•¨ìˆ˜ë“¤...

    // RetroPangui: ë…¼ë¦¬ ë²„íŠ¼ ë§¤í•‘ ê´€ë ¨ í•¨ìˆ˜
    bool isMappedToAction(const std::string& action, Input input);
    static void setButtonLayout(const std::string& layout);
    static std::string getButtonLayout();
    static std::string getActionButton(const std::string& action);
    static void initActionMapping();

private:
    // ì •ì  ë©¤ë²„: ëª¨ë“  InputConfig ì¸ìŠ¤í„´ìŠ¤ê°€ ê³µìœ 
    static std::map<std::string, std::string> sActionMapping;
    static std::string sButtonLayout;
};
```

**2) ë…¼ë¦¬ ë§¤í•‘ ì´ˆê¸°í™” (es-core/src/InputConfig.cpp)**

```cpp
std::map<std::string, std::string> InputConfig::sActionMapping;
std::string InputConfig::sButtonLayout;

void InputConfig::initActionMapping()
{
    std::string layout = Settings::getInstance()->getString("ButtonLayout");
    if (layout.empty())
        layout = "nintendo";  // ê¸°ë³¸ê°’

    if (layout == "nintendo")
    {
        sActionMapping["accept"] = "b";  // Bë²„íŠ¼ = í™•ì¸
        sActionMapping["back"] = "a";    // Aë²„íŠ¼ = ì·¨ì†Œ
    }
    else if (layout == "sony" || layout == "xbox")
    {
        sActionMapping["accept"] = "a";  // Aë²„íŠ¼ = í™•ì¸
        sActionMapping["back"] = "b";    // Bë²„íŠ¼ = ì·¨ì†Œ
    }

    sButtonLayout = layout;
    LOG(LogInfo) << "Button Layout initialized: " << layout;
}

bool InputConfig::isMappedToAction(const std::string& action, Input input)
{
    // ë§¤í•‘ì´ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìœ¼ë©´ ì´ˆê¸°í™”
    if (sActionMapping.empty() || sButtonLayout.empty())
        initActionMapping();

    // actionì— í•´ë‹¹í•˜ëŠ” ë¬¼ë¦¬ ë²„íŠ¼ ì°¾ê¸°
    auto it = sActionMapping.find(action);
    if (it != sActionMapping.end())
        return isMappedTo(it->second, input);

    // ë§¤í•‘ë˜ì§€ ì•Šì€ actionì€ ê¸°ì¡´ ë°©ì‹ ì‚¬ìš©
    return isMappedTo(action, input);
}
```

**3) Settings ì¶”ê°€ (es-core/src/Settings.cpp)**

```cpp
void Settings::setDefaults()
{
    // ê¸°ì¡´ ì„¤ì •ë“¤...

    // RetroPangui: Button Layout (nintendo, sony, xbox)
    mStringMap["ButtonLayout"] = "nintendo";
}
```

**4) UI ë©”ë‰´ ì¶”ê°€ (es-app/src/guis/GuiMenu.cpp)**

```cpp
// UI SETTINGS ë©”ë‰´ ë‚´ë¶€
auto button_layout = std::make_shared<OptionListComponent<std::string>>(
    mWindow, "BUTTON LAYOUT", false);

button_layout->add("NINTENDO (B=í™•ì¸, A=ì·¨ì†Œ)", "nintendo",
                   Settings::getInstance()->getString("ButtonLayout") == "nintendo");
button_layout->add("SONY (A=í™•ì¸, B=ì·¨ì†Œ)", "sony",
                   Settings::getInstance()->getString("ButtonLayout") == "sony");
button_layout->add("XBOX (A=í™•ì¸, B=ì·¨ì†Œ)", "xbox",
                   Settings::getInstance()->getString("ButtonLayout") == "xbox");

s->addWithLabel("BUTTON LAYOUT", button_layout);
s->addSaveFunc([button_layout] {
    Settings::getInstance()->setString("ButtonLayout", button_layout->getSelected());
    InputConfig::initActionMapping();  // ì¦‰ì‹œ ì¬ì´ˆê¸°í™”
});
```

**5) UI ì»´í¬ë„ŒíŠ¸ ë¦¬íŒ©í† ë§ (24ê°œ íŒŒì¼)**

**ë³€ê²½ ì „:**
```cpp
if (config->isMappedTo("a", input))  // ë¬¼ë¦¬ ë²„íŠ¼ ì§ì ‘ ì°¸ì¡°
{
    // í™•ì¸ ë™ì‘
}
```

**ë³€ê²½ í›„:**
```cpp
if (config->isMappedToAction("accept", input))  // ë…¼ë¦¬ ë™ì‘ ì°¸ì¡°
{
    // í™•ì¸ ë™ì‘
}
```

**ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡:**

*es-core/src/components:*
- ButtonComponent.cpp: accept
- SwitchComponent.cpp: accept
- OptionListComponent.h: accept, back
- DateTimeEditComponent.cpp: accept, back
- ComponentList.h: accept
- TextEditComponent.cpp: accept, back

*es-core/src/guis:*
- GuiTextEditPopup.cpp: back
- GuiMsgBox.cpp: back
- GuiInputConfig.cpp: accept

*es-app/src/views:*
- SystemView.cpp: accept

*es-app/src/views/gamelist:*
- ISimpleGameListView.cpp: accept, back

*es-app/src/guis:*
- GuiGamelistOptions.cpp: accept, back
- GuiMenu.cpp: back
- GuiSettings.cpp: back
- GuiScreensaverOptions.cpp: back
- GuiScraperStart.cpp: back
- GuiGameScraper.cpp: back
- GuiGamelistFilter.cpp: back
- GuiCollectionSystemsOptions.cpp: back
- GuiMetaDataEd.cpp: back
- GuiRandomCollectionOptions.cpp: back

*es-app/src/components:*
- ScraperSearchComponent.cpp: accept
- RatingComponent.cpp: accept
- AsyncReqComponent.cpp: back

*es-app/src:*
- SystemScreenSaver.cpp: accept

**ì´ 24ê°œ íŒŒì¼, ì•½ 60íšŒ ì´ìƒì˜ ë³€ê²½**

#### ì‚¬ìš©ì ê²½í—˜

**ë ˆì´ì•„ì›ƒ ì „í™˜:**
```
EmulationStation ì‹¤í–‰
  â†“
Start ë²„íŠ¼
  â†“
UI SETTINGS
  â†“
BUTTON LAYOUT
  â†“
Nintendo / Sony / Xbox ì„ íƒ
  â†“
ì¦‰ì‹œ ì ìš© (ES ì¬ì‹œì‘ ë¶ˆí•„ìš”)
```

**ê²€ì¦ ì™„ë£Œ (2025-10-25):**
- âœ… Nintendo ìŠ¤íƒ€ì¼ (B=í™•ì¸, A=ì·¨ì†Œ) ì •ìƒ ì‘ë™
- âœ… Sony/Xbox ìŠ¤íƒ€ì¼ (A=í™•ì¸, B=ì·¨ì†Œ) ì •ìƒ ì‘ë™
- âœ… ì„¤ì • ë³€ê²½ í›„ ì¦‰ì‹œ ë°˜ì˜
- âœ… ëª¨ë“  UI ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¼ê´€ëœ ë™ì‘
- âœ… ê²Œì„ ì‹¤í–‰/ì¢…ë£Œ ì •ìƒ
- âœ… ì‚¬ìš©ì í”¼ë“œë°±: "ã…‡ã…‹ ë²„íŠ¼ ë©€ì©¡í•˜ê²Œ ì‘ë™ í•˜ê³ .."

#### ê¸°ìˆ ì  ì˜ì˜

1. **ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ**
   - ì¤‘ì•™ ì§‘ì¤‘ì‹ ê´€ë¦¬: `InputConfig` í•œ ê³³ì—ì„œë§Œ ìˆ˜ì •
   - ê¸°ì¡´ 20ê°œ ì´ìƒ íŒŒì¼ ìˆ˜ì • â†’ 1ê°œ í´ë˜ìŠ¤ë¡œ í†µí•©

2. **í™•ì¥ì„±**
   - ìƒˆë¡œìš´ ë ˆì´ì•„ì›ƒ ì¶”ê°€ ìš©ì´
   - ê¸°ì¡´ UI ì»´í¬ë„ŒíŠ¸ ìˆ˜ì • ë¶ˆí•„ìš”

3. **ì¼ê´€ì„±**
   - ëª¨ë“  UIì—ì„œ ë™ì¼í•œ ë²„íŠ¼ ë™ì‘
   - ì´ì¤‘ swap ë¬¸ì œ í•´ê²°

4. **ì‚¬ìš©ì ì¹œí™”ì„±**
   - ë©”ë‰´ì—ì„œ ê°„í¸í•˜ê²Œ ì „í™˜
   - ì‹¤ì‹œê°„ ì ìš©

### 3. ShowFolders ê¸°ëŠ¥

#### ê°œìš”

ê²Œì„ í´ë” í‘œì‹œ ë°©ì‹ì„ ì‚¬ìš©ìê°€ ì œì–´í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ë©€í‹°ë””ìŠ¤í¬ ê²Œì„ì´ë‚˜ ë‹¨ì¼ ê²Œì„ í´ë”ì˜ í‘œì‹œë¥¼ ë™ì ìœ¼ë¡œ ì¡°ì ˆí•©ë‹ˆë‹¤.

#### ë°°ê²½

**ë¬¸ì œì :**
- RetroPie ESì—ì„œ `ShowFolders` ì˜µì…˜ì´ `es_settings.cfg`ì—ëŠ” ì €ì¥ë˜ì§€ë§Œ ì‹¤ì œ ì†ŒìŠ¤ ì½”ë“œì— ì²˜ë¦¬ ë¡œì§ì´ ì—†ìŒ
- PSX ë“± ë©€í‹°ë””ìŠ¤í¬ ê²Œì„ì„ í´ë” êµ¬ì¡°ë¡œ ê´€ë¦¬í•˜ëŠ”ë°, í´ë” í‘œì‹œ ë°©ì‹ì„ ì œì–´í•  ìˆ˜ ì—†ìŒ
- ë‹¨ì¼ ê²Œì„ë§Œ ìˆëŠ” ë˜í¼ í´ë”ë¥¼ ê±´ë„ˆë›°ê³  ë°”ë¡œ ê²Œì„ì„ ë³´ê³  ì‹¶ì–´ë„ ë°©ë²•ì´ ì—†ìŒ

#### í•µì‹¬ êµ¬í˜„

**1) Settings ì¶”ê°€ (es-core/src/Settings.cpp)**

```cpp
void Settings::setDefaults()
{
    // ê¸°ì¡´ ì„¤ì •ë“¤...

    // RetroPangui: ShowFolders
    mStringMap["ShowFolders"] = "always";  // ê¸°ë³¸ê°’: ëª¨ë“  í´ë” í‘œì‹œ
}
```

**2) UI ë©”ë‰´ ì¶”ê°€ (es-app/src/guis/GuiMenu.cpp)**

```cpp
// UI SETTINGS ë©”ë‰´ ë‚´ë¶€
auto show_folders = std::make_shared<OptionListComponent<std::string>>(
    mWindow, "SHOW FOLDERS", false);

show_folders->add("ALWAYS", "always",
                  Settings::getInstance()->getString("ShowFolders") == "always");
show_folders->add("NEVER", "never",
                  Settings::getInstance()->getString("ShowFolders") == "never");
show_folders->add("HAVING MULTIPLE GAMES", "having multiple games",
                  Settings::getInstance()->getString("ShowFolders") == "having multiple games");

s->addWithLabel("SHOW FOLDERS", show_folders);
s->addSaveFunc([show_folders, this] {
    Settings::getInstance()->setString("ShowFolders", show_folders->getSelected());
    ViewController::get()->reloadAll();  // ì¦‰ì‹œ ë°˜ì˜
});
```

**3) í´ë” í•„í„°ë§ ë¡œì§ (es-app/src/FileData.cpp)**

```cpp
const std::vector<FileData*>& FileData::getChildrenListToDisplay()
{
    FileFilterIndex* idx = CollectionSystemManager::get()->getSystemToView(mSystem)->getIndex();
    std::string showFoldersSetting = Settings::getInstance()->getString("ShowFolders");

    bool needsFolderFiltering = (showFoldersSetting == "never" ||
                                  showFoldersSetting == "having multiple games");

    if (idx->isFiltered() || needsFolderFiltering)
    {
        mFilteredChildren.clear();

        for(auto child : mChildren)
        {
            // ê¸°ì¡´ í•„í„° ì²´í¬
            if (idx->isFiltered() && !idx->showFile(child))
                continue;

            // ShowFolders ì²˜ë¦¬
            if (needsFolderFiltering && child->getType() == FOLDER)
            {
                size_t childCount = child->getChildrenByFilename().size();

                if (showFoldersSetting == "never")
                {
                    // í´ë”ì˜ ëª¨ë“  ìì‹ì„ ì§ì ‘ ì¶”ê°€
                    for(auto grandchild : child->getChildren())
                    {
                        if (!idx->isFiltered() || idx->showFile(grandchild))
                            mFilteredChildren.push_back(grandchild);
                    }
                    continue;  // í´ë” ìì²´ëŠ” ì¶”ê°€í•˜ì§€ ì•ŠìŒ
                }
                else if (showFoldersSetting == "having multiple games" && childCount == 1)
                {
                    // ë‹¨ì¼ ê²Œì„ë§Œ ì§ì ‘ ì¶”ê°€
                    FileData* singleGame = child->getChildren()[0];
                    if (!idx->isFiltered() || idx->showFile(singleGame))
                        mFilteredChildren.push_back(singleGame);
                    continue;  // í´ë” ìì²´ëŠ” ì¶”ê°€í•˜ì§€ ì•ŠìŒ
                }
            }

            // í•„í„°ë¥¼ í†µê³¼í•˜ê±°ë‚˜ í´ë” í•„í„°ë§ ëŒ€ìƒì´ ì•„ë‹Œ ê²½ìš° ì¶”ê°€
            mFilteredChildren.push_back(child);
        }

        return mFilteredChildren;
    }

    return mChildren;
}
```

#### ë™ì‘ ë°©ì‹

**1) always (ê¸°ë³¸ê°’):**
```
roms/psx/
â”œâ”€â”€ Final Fantasy VII/       # í´ë” í‘œì‹œ
â”‚   â”œâ”€â”€ disc1.bin
â”‚   â”œâ”€â”€ disc2.bin
â”‚   â””â”€â”€ disc3.bin
â””â”€â”€ Metal Gear Solid/        # í´ë” í‘œì‹œ
    â””â”€â”€ game.cue

ê²Œì„ ëª©ë¡:
- Final Fantasy VII (í´ë”)
- Metal Gear Solid (í´ë”)
```

**2) never:**
```
roms/psx/
â”œâ”€â”€ Final Fantasy VII/
â”‚   â”œâ”€â”€ disc1.bin            # ì§ì ‘ í‘œì‹œ
â”‚   â”œâ”€â”€ disc2.bin            # ì§ì ‘ í‘œì‹œ
â”‚   â””â”€â”€ disc3.bin            # ì§ì ‘ í‘œì‹œ
â””â”€â”€ Metal Gear Solid/
    â””â”€â”€ game.cue             # ì§ì ‘ í‘œì‹œ

ê²Œì„ ëª©ë¡:
- disc1.bin
- disc2.bin
- disc3.bin
- game.cue
```

**3) having multiple games:**
```
roms/psx/
â”œâ”€â”€ Final Fantasy VII/       # í´ë” í‘œì‹œ (3ê°œ ê²Œì„)
â”‚   â”œâ”€â”€ disc1.bin
â”‚   â”œâ”€â”€ disc2.bin
â”‚   â””â”€â”€ disc3.bin
â””â”€â”€ Metal Gear Solid/        # í´ë” ìˆ¨ê¹€, game.cueë§Œ í‘œì‹œ (1ê°œ ê²Œì„)
    â””â”€â”€ game.cue

ê²Œì„ ëª©ë¡:
- Final Fantasy VII (í´ë”)
- game.cue
```

#### ì‚¬ìš© ì‚¬ë¡€

**PSX ë©€í‹°ë””ìŠ¤í¬ ê²Œì„:**
- `Final Fantasy VII (3 Discs)` í´ë”ëŠ” í‘œì‹œ
- `.m3u` íŒŒì¼ë§Œ ìˆëŠ” ë‹¨ì¼ ê²Œì„ í´ë”ëŠ” ìˆ¨ê¹€
- ê¹”ë”í•œ ê²Œì„ ëª©ë¡ ìœ ì§€

**ë‹¨ì¼ ROM í´ë” ì •ë¦¬:**
- `never` ì„¤ì •ìœ¼ë¡œ ëª¨ë“  ë˜í¼ í´ë” ì œê±°
- ê²Œì„ë§Œ ì§ì ‘ í‘œì‹œ

#### ë¹Œë“œ ê°œì„ 

**ë¬¸ì œ:**
- ì´ˆê¸° ë¹Œë“œ ì‹œ íŒ¨ì¹˜ê°€ ì œëŒ€ë¡œ ë°˜ì˜ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ
- `make clean`ë§Œìœ¼ë¡œëŠ” CMake ìºì‹œê°€ ë‚¨ì•„ìˆì–´ ë³€ê²½ì‚¬í•­ ë¯¸ë°˜ì˜

**í•´ê²° (install_base_3_in_5_es.sh):**
```bash
# ë³€ê²½ ì „
mkdir -p "$ES_BUILD_DIR/build"
cd "$ES_BUILD_DIR/build"
cmake ..
make clean
make -j$(nproc)

# ë³€ê²½ í›„
rm -rf "$ES_BUILD_DIR/build"  # ì™„ì „íˆ ì‚­ì œ
mkdir -p "$ES_BUILD_DIR/build"
cd "$ES_BUILD_DIR/build"
cmake ..
make -j$(nproc)  # make clean ì œê±°
```

#### ê²€ì¦ ì™„ë£Œ

- âœ… ì„¸ ê°€ì§€ ì˜µì…˜ ëª¨ë‘ ì •ìƒ ì‘ë™
- âœ… ì„¤ì • ë³€ê²½ í›„ ì¦‰ì‹œ ë°˜ì˜ (ES ì¬ì‹œì‘ ë¶ˆí•„ìš”)
- âœ… ê²Œì„ ì‹¤í–‰ ì •ìƒ
- âœ… ê¸°ì¡´ í•„í„° ê¸°ëŠ¥ê³¼ í˜¸í™˜

### 4. ë‹¤êµ­ì–´ ì§€ì›

#### ê°œìš”

LocaleES ì‹œìŠ¤í…œì„ í†µí•´ EmulationStationì˜ ë‹¤êµ­ì–´ë¥¼ ì§€ì›í•©ë‹ˆë‹¤. í˜„ì¬ ì˜ì–´ì™€ í•œêµ­ì–´ë¥¼ ì§€ì›í•˜ë©°, ì¶”ê°€ ì–¸ì–´ í™•ì¥ì´ ê°€ëŠ¥í•œ êµ¬ì¡°ì…ë‹ˆë‹¤.

#### í•µì‹¬ êµ¬í˜„

**1) LocaleES ì‹œìŠ¤í…œ (es-core/src/LocaleES.h/cpp)**

gettext ê¸°ë°˜ì˜ ë²ˆì—­ ì‹œìŠ¤í…œ:

```cpp
// LocaleES.h
#ifndef _LOCALE_ES_H_
#define _LOCALE_ES_H_

#include <string>

#define _(String) LocaleES::getText(String)

class LocaleES
{
public:
    static void init(const std::string& language);
    static std::string getText(const char* msgid);
    static void changeLanguage(const std::string& language);

private:
    static std::string currentLanguage;
};

#endif
```

**2) í•œê¸€ í°íŠ¸ Fallback**

ì‹œìŠ¤í…œì— í•œê¸€ í°íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ì ìš©:

```bash
# install_base_3_in_5_es.sh ë‚´ë¶€
sudo apt-get install -y fonts-noto-cjk fonts-noto-cjk-extra
```

**3) ë©”ë‰´ í•œê¸€í™” (GuiMenu.cpp)**

80ê°œ ì´ìƒì˜ ë©”ë‰´ í•­ëª© ë²ˆì—­:

```cpp
// ì˜ˆì‹œ
addEntry(_("UI SETTINGS"), 0x777777FF, true, [this] { ... });
addEntry(_("SCRAPER"), 0x777777FF, true, [this] { ... });
addEntry(_("SOUND SETTINGS"), 0x777777FF, true, [this] { ... });
```

**4) CMakeLists.txt í†µí•©**

locale íŒŒì¼ ì»´íŒŒì¼ ë° ì„¤ì¹˜:

```cmake
# CMakeLists.txt
find_package(Gettext)
if(GETTEXT_FOUND)
    add_subdirectory(locale)
endif()
```

**5) UI ë©”ë‰´ (GuiMenu.cpp)**

```cpp
auto language = std::make_shared<OptionListComponent<std::string>>(
    mWindow, _("LANGUAGE"), false);

language->add("English", "en",
              Settings::getInstance()->getString("Language") == "en");
language->add("í•œêµ­ì–´", "ko",
              Settings::getInstance()->getString("Language") == "ko");

s->addWithLabel(_("LANGUAGE"), language);
s->addSaveFunc([language, this] {
    Settings::getInstance()->setString("Language", language->getSelected());
    LocaleES::changeLanguage(language->getSelected());
    // ES ì¬ì‹œì‘ ì•ˆë‚´ ë©”ì‹œì§€
    mWindow->pushGui(new GuiMsgBox(mWindow,
        _("Language changed. Please restart EmulationStation.")));
});
```

#### ì–¸ì–´ íŒŒì¼ êµ¬ì¡°

```
locale/
â”œâ”€â”€ en/
â”‚   â””â”€â”€ LC_MESSAGES/
â”‚       â”œâ”€â”€ emulationstation.po
â”‚       â””â”€â”€ emulationstation.mo
â””â”€â”€ ko/
    â””â”€â”€ LC_MESSAGES/
        â”œâ”€â”€ emulationstation.po
        â””â”€â”€ emulationstation.mo
```

#### ê²€ì¦ ì™„ë£Œ

- âœ… ì˜ì–´ â†” í•œêµ­ì–´ ì „í™˜ ì •ìƒ
- âœ… 80ê°œ ì´ìƒ ë©”ë‰´ í•­ëª© ë²ˆì—­
- âœ… í•œê¸€ í°íŠ¸ ì •ìƒ í‘œì‹œ
- âœ… ë©”ë‰´ì—ì„œ ì–¸ì–´ ì „í™˜ ê°€ëŠ¥

---

## ì‹œìŠ¤í…œ ëª¨ë“ˆ

RetroPanguiì˜ í•µì‹¬ ê¸°ëŠ¥ì€ `scriptmodules/` ë””ë ‰í† ë¦¬ì˜ ì—¬ëŸ¬ ëª¨ë“ˆë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

### config.sh - ì „ì—­ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

#### ì—­í• 

í”„ë¡œì íŠ¸ì˜ ëª¨ë“  í™˜ê²½ ë³€ìˆ˜, ê²½ë¡œ, ì„¤ì •ì„ ì •ì˜í•˜ëŠ” ìœ ì¼í•œ íŒŒì¼ì…ë‹ˆë‹¤. ëª¨ë“  ìŠ¤í¬ë¦½íŠ¸ëŠ” ì´ íŒŒì¼ì„ sourceí•˜ì—¬ í™˜ê²½ ì„¤ì •ì„ ë¡œë“œí•©ë‹ˆë‹¤.

#### ì£¼ìš” ë‚´ìš©

**1) ê¸°ë³¸ ê²½ë¡œ ì„¤ì •**

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ìë™ ê°ì§€
export ROOT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"
export MODULES_DIR="$ROOT_DIR/scriptmodules"
export RESOURCES_DIR="$ROOT_DIR/resources"
```

**2) ì‚¬ìš©ì ì •ë³´**

```bash
# sudoë¥¼ ì‚¬ìš©í•´ë„ ì‹¤ì œ ì‚¬ìš©ì ê³„ì • ì°¾ê¸°
export __user="$(get_effective_user)"
export USER_HOME="$(eval echo ~$__user)"
```

**3) ë²„ì „ ë° í•µì‹¬ ê²½ë¡œ**

```bash
export __version="0.9.2"
export INSTALL_ROOT_DIR="/opt/retropangui"
export TEMP_DIR_BASE="/tmp/retropangui"
export LOG_DIR="$ROOT_DIR/log"
export RETROARCH_BIN_PATH="$INSTALL_ROOT_DIR/bin/retroarch"
export LIBRETRO_CORE_PATH="$INSTALL_ROOT_DIR/libretrocores"
```

**4) ì‚¬ìš©ìë³„ ê²½ë¡œ**

```bash
export USER_SHARE_PATH="$USER_HOME/share"
export USER_ROMS_PATH="$USER_SHARE_PATH/roms"
export USER_BIOS_PATH="$USER_SHARE_PATH/bios"
export USER_SAVES_PATH="$USER_SHARE_PATH/saves"
export USER_SCREENS_PATH="$USER_SHARE_PATH/screenshots"
export USER_MUSIC_PATH="$USER_SHARE_PATH/music"
export USER_THEMES_PATH="$USER_SHARE_PATH/themes"
export USER_OVERLAYS_PATH="$USER_SHARE_PATH/overlays"
export USER_CHEATS_PATH="$USER_SHARE_PATH/cheats"

export USER_SYSTEM_PATH="$USER_SHARE_PATH/system"
export USER_CONFIG_PATH="$USER_SYSTEM_PATH/configs"
export USER_LOGS_PATH="$USER_SYSTEM_PATH/logs"
export CORE_CONFIG_PATH="$USER_CONFIG_PATH/cores"
export RA_CONFIG_PATH="$USER_CONFIG_PATH/retroarch"

export RA_CONFIG_DIR="$USER_HOME/.config/retroarch"
export ES_CONFIG_DIR="$USER_HOME/.emulationstation"
```

**5) Git ì €ì¥ì†Œ URL**

```bash
export RECALBOX_GIT_URL="https://gitlab.com/recalbox/recalbox.git"
export RETROPIE_SETUP_GIT_URL="https://github.com/RetroPie/RetroPie-Setup.git"
export RA_GIT_URL="https://github.com/libretro/RetroArch.git"
export ES_GIT_URL="https://github.com/LeonardWard/retropangui-emulationstation.git"
export SYSTEMLIST_CSV_PATH="$MODULES_DIR/systemlist.csv"
```

**6) ë¹Œë“œ ì˜ì¡´ì„± íŒ¨í‚¤ì§€**

```bash
export BUILD_DEPS=(
    build-essential cmake pkg-config samba
    # RetroArch/Libretro
    libssl-dev libx11-dev libgl1-mesa-dev libegl1-mesa-dev libsdl2-dev
    libasound2-dev libudev-dev libxkbcommon-dev libgbm-dev
    libavcodec-dev libavformat-dev libavutil-dev libswscale-dev
    # EmulationStation
    libboost-all-dev libfreeimage-dev libcurl4-openssl-dev
    libxml2-dev libfontconfig1-dev libsdl2-image-dev libsdl2-ttf-dev
    libexpat1-dev libvlc-dev rapidjson-dev libpugixml-dev
    # ê¸°íƒ€
    gamemode
)
```

**7) í”Œë«í¼ íƒì§€**

```bash
__platform_arch=$(uname -m)
export __platform="$__platform_arch"

case "$__platform_arch" in
    x86_64)
        __platform_flags+=("x86_64" "64bit" "x86")
        ;;
    aarch64)
        __platform_flags+=("aarch64" "64bit" "arm")
        ;;
    armv7l)
        __platform_flags+=("armv7l" "32bit" "arm" "armv7")
        ;;
esac

export __platform_flags
```

### func.sh - ê³µí†µ ê¸°ëŠ¥ í•¨ìˆ˜

#### ì—­í• 

í”„ë¡œì íŠ¸ ì „ë°˜ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê³µí†µ í•¨ìˆ˜ë“¤ì„ ì •ì˜í•©ë‹ˆë‹¤.

#### ì£¼ìš” í•¨ìˆ˜

**1) ì‚¬ìš©ì ì •ë³´ í•¨ìˆ˜**

```bash
# ì‹¤ì œ ì‚¬ìš©ì ê³„ì • ì°¾ê¸° (sudo ì‚¬ìš© ì‹œì—ë„)
get_effective_user() {
    if [[ -n "$SUDO_USER" ]]; then
        echo "$SUDO_USER"
    else
        echo "$USER"
    fi
}
```

**2) Git ê´€ë ¨ í•¨ìˆ˜**

```bash
# Git ì €ì¥ì†Œ í´ë¡  ë˜ëŠ” í’€
git_Pull_Or_Clone() {
    local url="$1"
    local dest="$2"
    shift 2
    local extra_args=("$@")

    if [[ -d "$dest/.git" ]]; then
        log_msg INFO "Git pull: $dest"
        git -C "$dest" pull
    else
        log_msg INFO "Git clone: $url â†’ $dest"
        git clone "${extra_args[@]}" "$url" "$dest"
    fi
}

# Git í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ ì´ë¦„ ì¶”ì¶œ
get_Git_Project_Dir_Name() {
    local url="$1"
    basename "$url" .git
}
```

**3) ëª…ë ¹ì–´ ì¡´ì¬ í™•ì¸**

```bash
command_exists() {
    command -v "$1" &> /dev/null
}
```

**4) ëª¨ë“ˆ ì„¤ì¹˜ í™•ì¸**

```bash
is_module_installed() {
    local module_id="$1"
    local module_type="$2"

    case "$module_type" in
        libretrocores)
            [[ -f "$LIBRETRO_CORE_PATH/${module_id}_libretro.so" ]]
            ;;
        emulators)
            [[ -d "$INSTALL_ROOT_DIR/emulators/$module_id" ]]
            ;;
        *)
            return 1
            ;;
    esac
}
```

**5) íŒ¨í‚¤ì§€ ìŠ¤ìº” í•¨ìˆ˜**

```bash
get_all_packages() {
    local desc_max_width="${1:-40}"
    local script_root="$MODULES_DIR/retropie_setup/scriptmodules"

    find "$script_root" -maxdepth 2 -type f -name "*.sh" | while read -r script_path; do
        local module_type=$(basename "$(dirname "$script_path")")

        # scriptmodules ìì²´ëŠ” ìŠ¤í‚µ
        [[ "$module_type" == "scriptmodules" ]] && continue

        # ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
        local rp_module_id=""
        local rp_module_desc=""
        local rp_module_section=""
        local rp_module_flags=""

        while IFS= read -r line; do
            line="${line%%#*}"  # ì£¼ì„ ì œê±°

            if [[ -z "$rp_module_id" && "$line" =~ rp_module_id[[:space:]]*= ]]; then
                rp_module_id=$(echo "$line" | sed -E 's/.*rp_module_id[[:space:]]*=[[:space:]]*//; s/^["'\'']*//; s/["'\'']*[[:space:]]*$//')
            elif [[ -z "$rp_module_desc" && "$line" =~ rp_module_desc[[:space:]]*= ]]; then
                rp_module_desc=$(echo "$line" | sed -E 's/.*rp_module_desc[[:space:]]*=[[:space:]]*//; s/^["'\'']*//; s/["'\'']*[[:space:]]*$//')
            elif [[ -z "$rp_module_section" && "$line" =~ rp_module_section[[:space:]]*= ]]; then
                rp_module_section=$(echo "$line" | sed -E 's/.*rp_module_section[[:space:]]*=[[:space:]]*//; s/^["'\'']*//; s/["'\'']*[[:space:]]*$//')
            elif [[ -z "$rp_module_flags" && "$line" =~ rp_module_flags[[:space:]]*= ]]; then
                rp_module_flags=$(echo "$line" | sed -E 's/.*rp_module_flags[[:space:]]*=[[:space:]]*//; s/^["'\''(]*//; s/["'\'')]*[[:space:]]*$//')
            fi
        done < "$script_path"

        [[ -z "$rp_module_id" ]] && continue

        # í”Œë«í¼ ì²´í¬
        if ! rp_checkModulePlatform "$rp_module_flags"; then
            continue
        fi

        # ì„¹ì…˜ ê²°ì •
        local section="$rp_module_section"
        local final_section=$(echo "$section" | awk '{print $1}')

        for part in $section; do
            if [[ "$part" == *"="* ]]; then
                local platform_req=$(echo "$part" | cut -d'=' -f1)
                local new_section=$(echo "$part" | cut -d'=' -f2)
                for p_flag in "${__platform_flags[@]}"; do
                    if [[ "$platform_req" == "$p_flag" ]]; then
                        final_section="$new_section"
                        break 2
                    fi
                done
            fi
        done

        # ì„¤ì¹˜ ì—¬ë¶€ í™•ì¸
        local status="OFF"
        if is_module_installed "$rp_module_id" "$module_type"; then
            status="ON"
        fi

        # ì„¤ëª… ìë¥´ê¸°
        local truncated_desc="$rp_module_desc"
        if [[ ${#truncated_desc} -gt "$desc_max_width" ]]; then
            truncated_desc="${truncated_desc:0:$((desc_max_width - 3))}..."
        fi

        # null êµ¬ë¶„ìë¡œ ì¶œë ¥
        printf "%s\0%s\0%s\0%s\0%s\0" "$rp_module_id" "$truncated_desc" "$final_section" "$module_type" "$status"
    done
}
```

**6) es_systems.xml ìƒì„± í•¨ìˆ˜**

```bash
generate_es_systems_xml_multi_core() {
    local src_csv="$1"
    local dest_xml="$2"

    echo '<?xml version="1.0"?>' | sudo tee "$dest_xml" > /dev/null
    echo "<systemList>" | sudo tee -a "$dest_xml" > /dev/null

    # systemlist.csv íŒŒì‹±
    # (ì‹¤ì œ êµ¬í˜„ì€ ë” ë³µì¡í•¨)

    echo "</systemList>" | sudo tee -a "$dest_xml" > /dev/null
}
```

### helpers.sh - ë¡œê·¸ ë° ë³´ì¡° í•¨ìˆ˜

#### ì—­í• 

ë¡œê·¸ ê¸°ëŠ¥ê³¼ ê¸°íƒ€ ë³´ì¡° í•¨ìˆ˜ë“¤ì„ ì œê³µí•©ë‹ˆë‹¤.

#### ì£¼ìš” í•¨ìˆ˜

**1) ë¡œê·¸ ë””ë ‰í† ë¦¬ ìƒì„±**

```bash
ensure_log_dir() {
    if [[ ! -d "$LOG_DIR" ]]; then
        mkdir -p "$LOG_DIR"
        chmod 755 "$LOG_DIR"
    fi
}
```

**2) ë¡œê·¸ ë©”ì‹œì§€ ì¶œë ¥**

```bash
log_msg() {
    local level="$1"
    local message="$2"
    local timestamp=$(date "+%Y-%m-%d %H:%M:%S")

    case "$level" in
        ERROR)
            echo "[$timestamp] [ERROR] $message" | tee -a "$LOG_FILE" >&2
            ;;
        WARN)
            echo "[$timestamp] [WARN] $message" | tee -a "$LOG_FILE"
            ;;
        INFO)
            echo "[$timestamp] [INFO] $message" | tee -a "$LOG_FILE"
            ;;
        SUCCESS)
            echo "[$timestamp] [SUCCESS] $message" | tee -a "$LOG_FILE"
            ;;
        STEP)
            echo "[$timestamp] [STEP] ========== $message ==========" | tee -a "$LOG_FILE"
            ;;
        DEBUG)
            echo "[$timestamp] [DEBUG] $message" | tee -a "$LOG_FILE"
            ;;
        *)
            echo "[$timestamp] $message" | tee -a "$LOG_FILE"
            ;;
    esac
}
```

### ui.sh - WhipTail TUI

#### ì—­í• 

WhipTail ê¸°ë°˜ì˜ í…ìŠ¤íŠ¸ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

#### ì£¼ìš” í•¨ìˆ˜

**1) ì´ˆê¸°í™” í•¨ìˆ˜**

```bash
install_core_dependencies() {
    local CORE_DEPS=("whiptail" "dialog" "git" "wget" "curl" "unzip")
    local MISSING_DEPS=()

    for dep in "${CORE_DEPS[@]}"; do
        if ! command_exists "$dep"; then
            MISSING_DEPS+=("$dep")
        fi
    done

    if [ ${#MISSING_DEPS[@]} -gt 0 ]; then
        log_msg WARN "ë‹¤ìŒ í•„ìˆ˜ ìœ í‹¸ë¦¬í‹°ê°€ ëˆ„ë½: ${MISSING_DEPS[*]}"
        sudo apt-get update && sudo apt-get upgrade -y
        sudo apt-get install -y "${MISSING_DEPS[@]}"
    fi

    # RetroPie ìŠ¤í¬ë¦½íŠ¸ ëª¨ë“ˆ ë‹¤ìš´ë¡œë“œ
    local RETROPIE_SETUP_DIR="$MODULES_DIR/retropie_setup"
    local EXT_FOLDER="$(get_Git_Project_Dir_Name "$RETROPIE_SETUP_GIT_URL")"

    git_Pull_Or_Clone "$RETROPIE_SETUP_GIT_URL" "$TEMP_DIR_BASE/$EXT_FOLDER" --depth=1

    mkdir -p "$RETROPIE_SETUP_DIR"
    rsync -avzr "$TEMP_DIR_BASE/$EXT_FOLDER/scriptmodules" "$RETROPIE_SETUP_DIR"
    rsync -avzr "$TEMP_DIR_BASE/$EXT_FOLDER/retropie_packages.sh" "$RETROPIE_SETUP_DIR"
    rsync -avzr "$TEMP_DIR_BASE/$EXT_FOLDER/retropie_setup.sh" "$RETROPIE_SETUP_DIR"
}
```

**2) Base System ì„¤ì¹˜**

```bash
run_base_system_install() {
    if (whiptail --title "Base System ì„¤ì¹˜" \
        --yesno "RetroArch/EmulationStation ì„¤ì¹˜ë¥¼ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?" 12 60); then

        log_msg INFO "Base System ì„¤ì¹˜ ì‹œì‘..."
        source "$MODULES_DIR/system_install.sh"
        local INSTALL_STATUS=$?

        if [ $INSTALL_STATUS -eq 0 ]; then
            whiptail --title "âœ… ì„¤ì¹˜ ì„±ê³µ" \
                --msgbox "Base System ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤." 10 60
        else
            whiptail --title "âŒ ì„¤ì¹˜ ì‹¤íŒ¨" \
                --msgbox "ì„¤ì¹˜ ì¤‘ ì˜¤ë¥˜ ë°œìƒ. ë¡œê·¸ í™•ì¸: $LOG_FILE" 10 60
        fi
    fi
}
```

**3) íŒ¨í‚¤ì§€ ê´€ë¦¬ ë©”ë‰´**

```bash
manage_packages_by_section() {
    local section_title="$1"
    local section_id="$2"

    # í„°ë¯¸ë„ í¬ê¸° ë™ì  ê°ì§€
    local term_height=$(tput lines 2>/dev/null || echo 24)
    local term_width=$(tput cols 2>/dev/null || echo 80)

    local options=()
    declare -A module_info

    # get_all_packages í•¨ìˆ˜ë¡œ íŒ¨í‚¤ì§€ ìŠ¤ìº”
    while IFS= read -r -d '' id && IFS= read -r -d '' desc && \
          IFS= read -r -d '' section && IFS= read -r -d '' type && \
          IFS= read -r -d '' status; do
        if [[ "$section" == "$section_id" ]]; then
            options+=("$id" "$desc" "$status")
            module_info["$id,type"]="$type"
            module_info["$id,status"]="$status"
        fi
    done < <(get_all_packages)

    if [ ${#options[@]} -eq 0 ]; then
        whiptail --title "ì •ë³´" \
            --msgbox "ì´ ì„¹ì…˜ì—ëŠ” ì„¤ì¹˜ ê°€ëŠ¥í•œ íŒ¨í‚¤ì§€ê°€ ì—†ìŠµë‹ˆë‹¤." 8 70
        return
    fi

    # WhipTail checklist í‘œì‹œ
    local CHOICES
    CHOICES=$(whiptail --title "$section_title" \
        --checklist "ì„¤ì¹˜í•  íŒ¨í‚¤ì§€ë¥¼ ìŠ¤í˜ì´ìŠ¤ë°”ë¡œ ì„ íƒí•˜ì„¸ìš”." \
        "$box_height" "$box_width" "$list_height" "${options[@]}" 3>&1 1>&2 2>&3)

    if [ $? -eq 0 ]; then
        for CHOICE in $CHOICES; do
            local module_id=$(echo "$CHOICE" | tr -d '"')
            local module_type=${module_info["$module_id,type"]}

            echo "INSTALLING: $module_id ($module_type)"
            install_module "$module_id" "$module_type"
        done

        read -p "ì™„ë£Œ. [Enter]ë¥¼ ëˆ„ë¥´ì„¸ìš”."
    fi
}
```

**4) ë©”ì¸ UI**

```bash
main_ui() {
    install_core_dependencies

    while true; do
        CHOICE=$(whiptail --title "Retro Pangui Configuration Manager (v$__version)" \
            --menu "ë©”ë‰´ë¥¼ ì„ íƒí•˜ì„¸ìš”." $HEIGHT $WIDTH $CHOICE_HEIGHT \
            "1" "Base System ì„¤ì¹˜" \
            "2" "Base System ì—…ë°ì´íŠ¸" \
            "3" "íŒ¨í‚¤ì§€ ê´€ë¦¬ (Core/Main/Driver)" \
            "4" "ì„¤ì • / ê¸°íƒ€ ë„êµ¬" \
            "5" "ìŠ¤í¬ë¦½íŠ¸ ì—…ë°ì´íŠ¸" \
            "6" "ì „ë¶€ ì„¤ì¹˜ ì œê±° (Share í´ë” ì œì™¸)" \
            "7" "ì‹œìŠ¤í…œ ì¬ë¶€íŒ…" \
            "8" "ì¢…ë£Œ" 3>&1 1>&2 2>&3)

        case $CHOICE in
            1) run_base_system_install ;;
            2) run_base_system_update ;;
            3) package_management_menu ;;
            4) config_tools_menu ;;
            5) update_script ;;
            6) uninstall_all ;;
            7) reboot_system ;;
            8) break ;;
        esac
    done
}
```

### packages.sh - íŒ¨í‚¤ì§€ ì„¤ì¹˜ í•¨ìˆ˜

#### ì—­í• 

ê°œë³„ ëª¨ë“ˆ(ì½”ì–´, ì—ë®¬ë ˆì´í„°, Ports)ì„ ì†ŒìŠ¤ì—ì„œ ë¹Œë“œí•˜ê³  ì„¤ì¹˜í•˜ëŠ” ë²”ìš© í•¨ìˆ˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

#### install_module í•¨ìˆ˜

```bash
install_module() {
    local module_id="$1"
    local module_type="$2"

    if [[ -z "$module_id" || -z "$module_type" ]]; then
        log_msg ERROR "Module ID ë˜ëŠ” Typeì´ ì œê³µë˜ì§€ ì•ŠìŒ"
        return 1
    fi

    source "$MODULES_DIR/ext_retropie_core.sh"
    setup_env

    export md_id="$module_id"
    export md_build="$INSTALL_BUILD_DIR/$module_id"

    case "$module_type" in
        libretrocores)
            export md_inst="$LIBRETRO_CORE_PATH/$module_id"
            ;;
        emulators|ports)
            export md_inst="$INSTALL_ROOT_DIR/$module_type/$module_id"
            ;;
        *)
            log_msg ERROR "ì•Œ ìˆ˜ ì—†ëŠ” ëª¨ë“ˆ íƒ€ì…: $module_type"
            return 1
            ;;
    esac

    log_msg STEP "$module_id ($module_type) ëª¨ë“ˆ ì„¤ì¹˜ ì‹œì‘..."

    local script_path="$MODULES_DIR/retropie_setup/scriptmodules/$module_type/$module_id.sh"
    if [[ ! -f "$script_path" ]]; then
        log_msg ERROR "ëª¨ë“ˆ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ: $script_path"
        return 1
    fi

    export md_ret_files=()
    source "$script_path"

    # 5ë‹¨ê³„ ì‹¤í–‰: depends â†’ sources â†’ build â†’ install â†’ configure
    local funcs=("depends" "sources" "build" "install" "configure")
    for func_name in "${funcs[@]}"; do
        log_msg INFO "[$module_id] '$func_name' ë‹¨ê³„ ì‹¤í–‰..."
        local status=0

        case "$func_name" in
            depends)
                # dependsëŠ” ë¬´ì¡°ê±´ ì„±ê³µ ì²˜ë¦¬
                if declare -f "${func_name}_$module_id" > /dev/null; then
                    "${func_name}_$module_id" || true
                fi
                ;;
            sources)
                if [[ -d "$md_build" ]]; then
                    log_msg INFO "[$module_id] ë¹Œë“œ ë””ë ‰í† ë¦¬ ì •ë¦¬: $md_build"
                    sudo rm -rf "$md_build" || { log_msg ERROR "ë¹Œë“œ ë””ë ‰í† ë¦¬ ì •ë¦¬ ì‹¤íŒ¨"; status=1; }
                fi
                if [[ $status -eq 0 ]]; then
                    if declare -f "sources_$module_id" > /dev/null; then
                        sources_"$module_id" || status=$?
                    elif [[ -n "$rp_module_repo" ]]; then
                        git_Pull_Or_Clone "$rp_module_repo" "$md_build" || status=$?
                    else
                        log_msg WARN "[$module_id] 'sources' í•¨ìˆ˜ ë˜ëŠ” 'rp_module_repo'ê°€ ì •ì˜ë˜ì§€ ì•ŠìŒ"
                    fi
                fi
                ;;
            build|install)
                if [[ -d "$md_build" ]]; then
                    pushd "$md_build" >/dev/null || { log_msg ERROR "ë””ë ‰í† ë¦¬ ì´ë™ ì‹¤íŒ¨: $md_build"; status=1; }
                    if [[ $status -eq 0 ]]; then
                        "${func_name}_$module_id" || status=$?
                        popd >/dev/null
                    fi
                else
                    log_msg ERROR "[$module_id] ì†ŒìŠ¤ ë””ë ‰í† ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ: $md_build"
                    status=1
                fi
                ;;
            *)
                if declare -f "${func_name}_$module_id" > /dev/null; then
                    "${func_name}_$module_id" || status=$?
                fi
                ;;
        esac

        if [[ $status -ne 0 ]]; then
            log_msg ERROR "[$module_id] '$func_name' ë‹¨ê³„ ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ (Exit Code: $status)"
            return 1
        fi
    done

    # libretrocoresì˜ ê²½ìš° ìµœì¢… ì½”ì–´ íŒŒì¼ ë³µì‚¬
    if [[ "$module_type" == "libretrocores" ]]; then
        log_msg INFO "[$module_id] ìµœì¢… ì½”ì–´ íŒŒì¼ ë³µì‚¬..."
        if [[ ${#md_ret_files[@]} -eq 0 ]]; then
            log_msg ERROR "[$module_id] 'md_ret_files'ê°€ ì„¤ì •ë˜ì§€ ì•ŠìŒ"
            return 1
        fi
        installLibretroCore "$md_build" "$module_id" "$md_inst" || return 1
    fi

    log_msg SUCCESS "[$module_id] ì„¤ì¹˜ ì™„ë£Œ"
    return 0
}
```

### ext_retropie_*.sh - RetroPie í˜¸í™˜ í•¨ìˆ˜

#### ê°œìš”

RetroPie-Setupì˜ í•µì‹¬ í•¨ìˆ˜ë“¤ì„ RetroPangui í™˜ê²½ì— ë§ê²Œ ì¬êµ¬í˜„í•œ íŒŒì¼ë“¤ì…ë‹ˆë‹¤.

#### ext_retropie_core.sh

RetroPieì˜ í•µì‹¬ í•¨ìˆ˜ë“¤:

```bash
# í™˜ê²½ ì„¤ì •
setup_env() {
    # RetroPie í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
    export __nodialog=1
    export __platform
    export __platform_flags
}

# í”Œë«í¼ ì²´í¬
rp_checkModulePlatform() {
    local flags="$1"
    [[ -z "$flags" ]] && return 0

    for flag in $flags; do
        for p_flag in "${__platform_flags[@]}"; do
            [[ "$flag" == "$p_flag" ]] && return 0
        done
    done
    return 1
}

# ì½”ì–´ ì„¤ì¹˜
installLibretroCore() {
    local src_dir="$1"
    local core_name="$2"
    local dest_dir="$3"

    mkdir -p "$dest_dir"

    for file in "${md_ret_files[@]}"; do
        if [[ -f "$src_dir/$file" ]]; then
            sudo cp "$src_dir/$file" "$dest_dir/"
            log_msg SUCCESS "ì½”ì–´ íŒŒì¼ ë³µì‚¬: $file â†’ $dest_dir/"
        else
            log_msg ERROR "ì½”ì–´ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ: $src_dir/$file"
            return 1
        fi
    done

    return 0
}
```

#### ext_retropie_func.sh

RetroPieì˜ ë³´ì¡° í•¨ìˆ˜ë“¤:

```bash
# ë””ë ‰í† ë¦¬ ê¶Œí•œ ì„¤ì •
chown_$(get_effective_user)() {
    local path="$1"
    sudo chown -R "$__user:$__user" "$path"
}

# ROM ë””ë ‰í† ë¦¬ ìƒì„±
mkRomDir() {
    local system="$1"
    local dir="$USER_ROMS_PATH/$system"
    mkdir -p "$dir"
    chown_$(get_effective_user) "$dir"
}

# ì—ë®¬ë ˆì´í„° ë“±ë¡
addEmulator() {
    local default="$1"
    local id="$2"
    local system="$3"
    local so_path="$4"

    log_msg INFO "ì—ë®¬ë ˆì´í„° ë“±ë¡: $id for $system ($so_path)"
    # ì‹¤ì œ êµ¬í˜„ì€ emulators.cfg íŒŒì¼ì— ê¸°ë¡
}
```

---

## EmulationStation ì»¤ìŠ¤í„°ë§ˆì´ì§•

(ì´ì „ì— ì‘ì„±í•œ ë‚´ìš© í¬í•¨, ì—¬ê¸°ì„œëŠ” ìš”ì•½)

### ë…¼ë¦¬ ë²„íŠ¼ ë§¤í•‘ ì‹œìŠ¤í…œ

- InputConfig í´ë˜ìŠ¤ í™•ì¥
- Nintendo/Sony/Xbox ë ˆì´ì•„ì›ƒ
- 24ê°œ UI ì»´í¬ë„ŒíŠ¸ ë¦¬íŒ©í† ë§
- ì‹¤ì‹œê°„ ì „í™˜ ì§€ì›

### ShowFolders ê¸°ëŠ¥

- always/never/having multiple games
- ë©€í‹°ë””ìŠ¤í¬ ê²Œì„ ê´€ë¦¬
- ë™ì  í•„í„°ë§ ë¡œì§

### ë‹¤êµ­ì–´ ì§€ì›

- LocaleES ì‹œìŠ¤í…œ
- ì˜ì–´/í•œêµ­ì–´
- 80ê°œ ì´ìƒ ë©”ë‰´ ë²ˆì—­

---

## ë©€í‹°ì½”ì–´ ì‹œìŠ¤í…œ

(ì´ì „ì— ì‘ì„±í•œ ë‚´ìš© í¬í•¨, ì—¬ê¸°ì„œëŠ” ìš”ì•½)

### CoreInfo êµ¬ì¡°ì²´

```cpp
struct CoreInfo {
    std::string name;
    int priority;
    std::vector<std::string> extensions;
};
```

### es_systems.xml í˜•ì‹

```xml
<cores>
  <core name="pcsx_rearmed" priority="2" extensions=".bin .cue"/>
  <core name="beetle_psx" priority="3" extensions=".chd"/>
</cores>
```

### ë™ì  ëª…ë ¹ ìƒì„±

Settings API ê¸°ë°˜ ê²½ë¡œ ê´€ë¦¬ë¡œ RetroArch ëª…ë ¹ ë™ì  ì¡°ë¦½

---

## 5ë‹¨ê³„ ìë™ ì„¤ì¹˜

### 1ë‹¨ê³„: ì˜ì¡´ì„± ì„¤ì¹˜

#### ìŠ¤í¬ë¦½íŠ¸: install_base_1_in_5_deps.sh

```bash
#!/usr/bin/env bash

source "$(dirname "${BASH_SOURCE[0]}")/config.sh"
source "$MODULES_DIR/helpers.sh"

install_dependencies() {
    log_msg STEP "1ë‹¨ê³„: ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹œì‘"

    log_msg INFO "íŒ¨í‚¤ì§€ ëª©ë¡ ì—…ë°ì´íŠ¸ ì¤‘..."
    sudo apt-get update || { log_msg ERROR "apt-get update ì‹¤íŒ¨"; return 1; }

    log_msg INFO "ì‹œìŠ¤í…œ ì—…ê·¸ë ˆì´ë“œ ì¤‘..."
    sudo apt-get upgrade -y || { log_msg WARN "apt-get upgrade ì‹¤íŒ¨ (ê³„ì† ì§„í–‰)"; }

    log_msg INFO "ë¹Œë“œ ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì¤‘..."
    for pkg in "${BUILD_DEPS[@]}"; do
        if dpkg -s "$pkg" &> /dev/null; then
            log_msg INFO "ì´ë¯¸ ì„¤ì¹˜ë¨: $pkg"
        else
            log_msg INFO "ì„¤ì¹˜ ì¤‘: $pkg"
            sudo apt-get install -y "$pkg" || {
                log_msg ERROR "íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹¤íŒ¨: $pkg"
                return 1
            }
        fi
    done

    log_msg SUCCESS "1ë‹¨ê³„: ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì™„ë£Œ"
    return 0
}

install_dependencies
```

#### ì„¤ì¹˜ë˜ëŠ” íŒ¨í‚¤ì§€

**ë¹Œë“œ ë„êµ¬:**
- build-essential: gcc, g++, make ë“±
- cmake: CMake ë¹Œë“œ ì‹œìŠ¤í…œ
- pkg-config: íŒ¨í‚¤ì§€ ì„¤ì • ê´€ë¦¬
- git: ì†ŒìŠ¤ ì½”ë“œ ë‹¤ìš´ë¡œë“œ

**RetroArch/Libretro ì˜ì¡´ì„±:**
- libssl-dev: SSL/TLS ì§€ì›
- libx11-dev: X11 ìœˆë„ìš° ì‹œìŠ¤í…œ
- libgl1-mesa-dev, libegl1-mesa-dev: OpenGL ì§€ì›
- libsdl2-dev: SDL2 ë¼ì´ë¸ŒëŸ¬ë¦¬
- libasound2-dev: ALSA ì˜¤ë””ì˜¤
- libudev-dev: udev ì¥ì¹˜ ê´€ë¦¬
- libxkbcommon-dev: í‚¤ë³´ë“œ ì…ë ¥
- libgbm-dev: Generic Buffer Management
- libavcodec-dev, libavformat-dev, libavutil-dev, libswscale-dev: FFmpeg ë¼ì´ë¸ŒëŸ¬ë¦¬

**EmulationStation ì˜ì¡´ì„±:**
- libboost-all-dev: Boost C++ ë¼ì´ë¸ŒëŸ¬ë¦¬
- libfreeimage-dev: ì´ë¯¸ì§€ ì²˜ë¦¬
- libcurl4-openssl-dev: HTTP í´ë¼ì´ì–¸íŠ¸
- libxml2-dev: XML íŒŒì‹±
- libfontconfig1-dev: í°íŠ¸ ì„¤ì •
- libsdl2-image-dev, libsdl2-ttf-dev: SDL2 í™•ì¥
- libexpat1-dev: XML íŒŒì„œ
- libvlc-dev: VLC ë¯¸ë””ì–´ í”Œë ˆì´ì–´
- rapidjson-dev: JSON íŒŒì„œ
- libpugixml-dev: XML íŒŒì„œ

**ê¸°íƒ€:**
- gamemode: ê²Œì„ ëª¨ë“œ ìµœì í™”
- samba: ë„¤íŠ¸ì›Œí¬ ê³µìœ 

### 2ë‹¨ê³„: RetroArch ì„¤ì¹˜

#### ìŠ¤í¬ë¦½íŠ¸: install_base_2_in_5_ra.sh

```bash
#!/usr/bin/env bash

source "$(dirname "${BASH_SOURCE[0]}")/config.sh"
source "$MODULES_DIR/helpers.sh"

install_retroarch() {
    log_msg STEP "2ë‹¨ê³„: RetroArch ì„¤ì¹˜ ì‹œì‘"

    local RA_BUILD_DIR="$INSTALL_BUILD_DIR/RetroArch"

    # Git clone ë˜ëŠ” pull
    log_msg INFO "RetroArch ì†ŒìŠ¤ ë‹¤ìš´ë¡œë“œ..."
    git_Pull_Or_Clone "$RA_GIT_URL" "$RA_BUILD_DIR"

    cd "$RA_BUILD_DIR" || { log_msg ERROR "ë””ë ‰í† ë¦¬ ì´ë™ ì‹¤íŒ¨"; return 1; }

    # Configure
    log_msg INFO "RetroArch configure ì‹¤í–‰..."
    ./configure --prefix="$INSTALL_ROOT_DIR" \
                --enable-dbus \
                --enable-sdl2 \
                --enable-opengl \
                --enable-ffmpeg || {
        log_msg ERROR "configure ì‹¤íŒ¨"
        return 1
    }

    # Build
    log_msg INFO "RetroArch ë¹Œë“œ ì¤‘... ($(nproc)ê°œ ì½”ì–´ ì‚¬ìš©)"
    make -j$(nproc) || { log_msg ERROR "ë¹Œë“œ ì‹¤íŒ¨"; return 1; }

    # Install
    log_msg INFO "RetroArch ì„¤ì¹˜ ì¤‘..."
    sudo make install || { log_msg ERROR "ì„¤ì¹˜ ì‹¤íŒ¨"; return 1; }

    # Assets ì„¤ì¹˜
    install_ra_assets

    # Joypad Autoconfig ì„¤ì¹˜
    install_ra_joypad_autoconfig

    # Core Info ì„¤ì¹˜
    install_ra_core_info

    # Database ì„¤ì¹˜
    install_ra_database

    # Overlays ì„¤ì¹˜
    install_ra_overlays

    # Shaders ì„¤ì¹˜
    install_ra_shaders

    # ì´ˆê¸° ì„¤ì • íŒŒì¼ ë³µì‚¬
    log_msg INFO "RetroArch ì´ˆê¸° ì„¤ì • íŒŒì¼ ë³µì‚¬..."
    mkdir -p "$RA_CONFIG_DIR"
    if [[ -f "$MODULES_DIR/retroarch.init.cfg" ]]; then
        cp "$MODULES_DIR/retroarch.init.cfg" "$RA_CONFIG_DIR/retroarch.cfg"
        chown_$(get_effective_user) "$RA_CONFIG_DIR/retroarch.cfg"
    fi

    log_msg SUCCESS "2ë‹¨ê³„: RetroArch ì„¤ì¹˜ ì™„ë£Œ"
    return 0
}

install_ra_assets() {
    log_msg INFO "RetroArch Assets ì„¤ì¹˜ ì¤‘..."
    local ASSETS_DIR="$INSTALL_BUILD_DIR/retroarch-assets"

    git_Pull_Or_Clone "$RA_ASSETS_GIT_URL" "$ASSETS_DIR"
    sudo mkdir -p "$INSTALL_ROOT_DIR/share/retroarch/assets"
    sudo cp -r "$ASSETS_DIR"/* "$INSTALL_ROOT_DIR/share/retroarch/assets/"

    log_msg SUCCESS "Assets ì„¤ì¹˜ ì™„ë£Œ"
}

install_ra_joypad_autoconfig() {
    log_msg INFO "Joypad Autoconfig ì„¤ì¹˜ ì¤‘..."
    local AUTOCONFIG_DIR="$INSTALL_BUILD_DIR/retroarch-joypad-autoconfig"

    git_Pull_Or_Clone "$RA_JOYPAD_AUTOCONFIG_GIT_URL" "$AUTOCONFIG_DIR"
    sudo mkdir -p "$INSTALL_ROOT_DIR/share/retroarch/autoconfig"
    sudo cp -r "$AUTOCONFIG_DIR"/* "$INSTALL_ROOT_DIR/share/retroarch/autoconfig/"

    log_msg SUCCESS "Joypad Autoconfig ì„¤ì¹˜ ì™„ë£Œ"
}

install_ra_core_info() {
    log_msg INFO "Core Info ì„¤ì¹˜ ì¤‘..."
    local CORE_INFO_DIR="$INSTALL_BUILD_DIR/libretro-core-info"

    git_Pull_Or_Clone "$RA_CORE_INFO_GIT_URL" "$CORE_INFO_DIR"
    sudo mkdir -p "$INSTALL_ROOT_DIR/share/retroarch/info"
    sudo cp "$CORE_INFO_DIR"/*.info "$INSTALL_ROOT_DIR/share/retroarch/info/"

    log_msg SUCCESS "Core Info ì„¤ì¹˜ ì™„ë£Œ"
}

install_ra_database() {
    log_msg INFO "Database ì„¤ì¹˜ ì¤‘..."
    local DATABASE_DIR="$INSTALL_BUILD_DIR/libretro-database"

    git_Pull_Or_Clone "$RA_DATABASE_GIT_URL" "$DATABASE_DIR"
    sudo mkdir -p "$INSTALL_ROOT_DIR/share/retroarch/database"
    sudo cp -r "$DATABASE_DIR/rdb"/* "$INSTALL_ROOT_DIR/share/retroarch/database/"

    log_msg SUCCESS "Database ì„¤ì¹˜ ì™„ë£Œ"
}

install_ra_overlays() {
    log_msg INFO "Overlays ì„¤ì¹˜ ì¤‘..."
    local OVERLAYS_DIR="$INSTALL_BUILD_DIR/common-overlays"

    git_Pull_Or_Clone "$RA_OVERLAYS_GIT_URL" "$OVERLAYS_DIR"
    sudo mkdir -p "$INSTALL_ROOT_DIR/share/retroarch/overlays"
    sudo cp -r "$OVERLAYS_DIR"/* "$INSTALL_ROOT_DIR/share/retroarch/overlays/"

    log_msg SUCCESS "Overlays ì„¤ì¹˜ ì™„ë£Œ"
}

install_ra_shaders() {
    log_msg INFO "Shaders ì„¤ì¹˜ ì¤‘..."
    local SHADERS_DIR="$INSTALL_BUILD_DIR/glsl-shaders"

    git_Pull_Or_Clone "$RA_SHADERS_GIT_URL" "$SHADERS_DIR"
    sudo mkdir -p "$INSTALL_ROOT_DIR/share/retroarch/shaders"
    sudo cp -r "$SHADERS_DIR"/* "$INSTALL_ROOT_DIR/share/retroarch/shaders/"

    log_msg SUCCESS "Shaders ì„¤ì¹˜ ì™„ë£Œ"
}

install_retroarch
```

### 3ë‹¨ê³„: EmulationStation ì„¤ì¹˜

#### ìŠ¤í¬ë¦½íŠ¸: install_base_3_in_5_es.sh

```bash
#!/usr/bin/env bash

source "$(dirname "${BASH_SOURCE[0]}")/config.sh"
source "$MODULES_DIR/helpers.sh"
source "$MODULES_DIR/es_systems_generator.sh"

install_emulationstation() {
    log_msg STEP "3ë‹¨ê³„: EmulationStation ì„¤ì¹˜ ì‹œì‘"

    local ES_BUILD_DIR="$INSTALL_BUILD_DIR/EmulationStation"

    # Git clone (RetroPangui í¬í¬)
    log_msg INFO "EmulationStation ì†ŒìŠ¤ ë‹¤ìš´ë¡œë“œ..."
    git_Pull_Or_Clone "$ES_GIT_URL" "$ES_BUILD_DIR"

    cd "$ES_BUILD_DIR" || { log_msg ERROR "ë””ë ‰í† ë¦¬ ì´ë™ ì‹¤íŒ¨"; return 1; }

    # ë¹Œë“œ ë””ë ‰í† ë¦¬ ì™„ì „íˆ ì¬ìƒì„±
    log_msg INFO "ë¹Œë“œ ë””ë ‰í† ë¦¬ ì¬ìƒì„±..."
    rm -rf "$ES_BUILD_DIR/build"
    mkdir -p "$ES_BUILD_DIR/build"
    cd "$ES_BUILD_DIR/build" || { log_msg ERROR "build ë””ë ‰í† ë¦¬ ì´ë™ ì‹¤íŒ¨"; return 1; }

    # CMake
    log_msg INFO "CMake ì‹¤í–‰..."
    cmake .. || { log_msg ERROR "CMake ì‹¤íŒ¨"; return 1; }

    # Build
    log_msg INFO "EmulationStation ë¹Œë“œ ì¤‘... ($(nproc)ê°œ ì½”ì–´ ì‚¬ìš©)"
    make -j$(nproc) || { log_msg ERROR "ë¹Œë“œ ì‹¤íŒ¨"; return 1; }

    # Install
    log_msg INFO "EmulationStation ì„¤ì¹˜ ì¤‘..."
    sudo make install || { log_msg ERROR "ì„¤ì¹˜ ì‹¤íŒ¨"; return 1; }

    # es_systems.xml ìƒì„±
    log_msg INFO "es_systems.xml ìƒì„± ì¤‘..."
    local ES_SYSTEMS_PATH="$ES_CONFIG_DIR/es_systems.xml"
    mkdir -p "$ES_CONFIG_DIR"
    generate_es_systems_xml_multi_core "$SYSTEMLIST_CSV_PATH" "$ES_SYSTEMS_PATH"
    chown_$(get_effective_user) "$ES_CONFIG_DIR"
    chown_$(get_effective_user) "$ES_SYSTEMS_PATH"

    # locale íŒŒì¼ ì„¤ì¹˜
    log_msg INFO "Locale íŒŒì¼ ì„¤ì¹˜ ì¤‘..."
    if [[ -d "$ES_BUILD_DIR/locale" ]]; then
        sudo cp -r "$ES_BUILD_DIR/locale" "$INSTALL_ROOT_DIR/share/"
    fi

    log_msg SUCCESS "3ë‹¨ê³„: EmulationStation ì„¤ì¹˜ ì™„ë£Œ"
    return 0
}

install_emulationstation
```

### 4ë‹¨ê³„: ì½”ì–´ ì„¤ì¹˜

#### ìŠ¤í¬ë¦½íŠ¸: install_base_4_in_5_cores.sh

```bash
#!/usr/bin/env bash

source "$(dirname "${BASH_SOURCE[0]}")/config.sh"
source "$MODULES_DIR/helpers.sh"
source "$MODULES_DIR/packages.sh"

install_cores() {
    log_msg STEP "4ë‹¨ê³„: Libretro ì½”ì–´ ì„¤ì¹˜ ì‹œì‘"

    # BASE ì½”ì–´ ëª©ë¡ (systemlist.csvì—ì„œ ì¶”ì¶œ ê°€ëŠ¥)
    local CORE_LIST=(
        "snes9x"
        "mgba"
        "pcsx_rearmed"
        "mupen64plus_next"
        "nestopia"
        "fceumm"
        "genesisplusgx"
        "gambatte"
    )

    local total=${#CORE_LIST[@]}
    local current=0

    for core in "${CORE_LIST[@]}"; do
        current=$((current + 1))
        log_msg INFO "[$current/$total] ì½”ì–´ ì„¤ì¹˜: $core"

        install_module "$core" "libretrocores" || {
            log_msg WARN "ì½”ì–´ ì„¤ì¹˜ ì‹¤íŒ¨: $core (ê³„ì† ì§„í–‰)"
        }
    done

    log_msg SUCCESS "4ë‹¨ê³„: Libretro ì½”ì–´ ì„¤ì¹˜ ì™„ë£Œ"
    return 0
}

install_cores
```

### 5ë‹¨ê³„: í™˜ê²½ ì„¤ì •

#### ìŠ¤í¬ë¦½íŠ¸: install_base_5_in_5_setup_env.sh

```bash
#!/usr/bin/env bash

source "$(dirname "${BASH_SOURCE[0]}")/config.sh"
source "$MODULES_DIR/helpers.sh"

setup_environment() {
    log_msg STEP "5ë‹¨ê³„: í™˜ê²½ ì„¤ì • ì‹œì‘"

    # ì‚¬ìš©ì ë””ë ‰í† ë¦¬ ìƒì„±
    log_msg INFO "ì‚¬ìš©ì ë””ë ‰í† ë¦¬ ìƒì„± ì¤‘..."
    mkdir -p "$USER_SHARE_PATH"
    mkdir -p "$USER_ROMS_PATH"
    mkdir -p "$USER_BIOS_PATH"
    mkdir -p "$USER_SAVES_PATH"
    mkdir -p "$USER_SCREENS_PATH"
    mkdir -p "$USER_MUSIC_PATH"
    mkdir -p "$USER_THEMES_PATH"
    mkdir -p "$USER_OVERLAYS_PATH"
    mkdir -p "$USER_CHEATS_PATH"
    mkdir -p "$USER_SYSTEM_PATH"
    mkdir -p "$USER_CONFIG_PATH"
    mkdir -p "$USER_LOGS_PATH"
    mkdir -p "$USER_SCRIPTS_PATH"
    mkdir -p "$CORE_CONFIG_PATH"
    mkdir -p "$RA_CONFIG_PATH"

    # ì‹œìŠ¤í…œë³„ ROM ë””ë ‰í† ë¦¬ ìƒì„± (ì£¼ìš” ì‹œìŠ¤í…œë§Œ)
    local SYSTEMS=("nes" "snes" "psx" "gba" "n64" "dreamcast" "arcade")
    for sys in "${SYSTEMS[@]}"; do
        mkdir -p "$USER_ROMS_PATH/$sys"
    done

    # ì‹œìŠ¤í…œë³„ ì½”ì–´ ì„¤ì • ë””ë ‰í† ë¦¬ ìƒì„±
    for sys in "${SYSTEMS[@]}"; do
        mkdir -p "$CORE_CONFIG_PATH/$sys"
        # ê¸°ë³¸ retroarch.cfg ë³µì‚¬
        if [[ ! -f "$CORE_CONFIG_PATH/$sys/retroarch.cfg" ]]; then
            cp "$RA_CONFIG_DIR/retroarch.cfg" "$CORE_CONFIG_PATH/$sys/retroarch.cfg" 2>/dev/null || true
        fi
    done

    # ê¶Œí•œ ë° ì†Œìœ ê¶Œ ì„¤ì •
    log_msg INFO "ê¶Œí•œ ë° ì†Œìœ ê¶Œ ì„¤ì • ì¤‘..."
    chown_$(get_effective_user) "$USER_SHARE_PATH"
    chown_$(get_effective_user) "$USER_HOME/.emulationstation"
    chown_$(get_effective_user) "$USER_HOME/.config/retroarch"

    # README íŒŒì¼ ìƒì„±
    cat > "$USER_ROMS_PATH/README.txt" << 'EOF'
RetroPangui ROM ë””ë ‰í† ë¦¬

ì´ ë””ë ‰í† ë¦¬ì— ê²Œì„ ROM íŒŒì¼ì„ ì‹œìŠ¤í…œë³„ë¡œ ì •ë¦¬í•˜ì„¸ìš”.

ì˜ˆì‹œ:
- nes/: íŒ¨ë¯¸ì»´/NES ROM (.nes)
- snes/: ìŠˆí¼íŒ¨ë¯¸ì»´/SNES ROM (.sfc, .smc)
- psx/: í”Œë ˆì´ìŠ¤í…Œì´ì…˜ ROM (.bin, .cue, .chd)
- gba/: ê²Œì„ë³´ì´ ì–´ë“œë°´ìŠ¤ ROM (.gba)

BIOS íŒŒì¼ì€ ~/share/bios/ ë””ë ‰í† ë¦¬ì— ë„£ìœ¼ì„¸ìš”.
EOF

    chown_$(get_effective_user) "$USER_ROMS_PATH/README.txt"

    log_msg SUCCESS "5ë‹¨ê³„: í™˜ê²½ ì„¤ì • ì™„ë£Œ"
    return 0
}

setup_environment
```

---

## íŒ¨í‚¤ì§€ ê´€ë¦¬ ì‹œìŠ¤í…œ

(ì´ì „ì— ì‘ì„±í•œ ë‚´ìš© í¬í•¨)

### ê°œìš”

RetroPanguiëŠ” ê°œë³„ ì½”ì–´, ì—ë®¬ë ˆì´í„°, Portsë¥¼ ì„ íƒì ìœ¼ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ” íŒ¨í‚¤ì§€ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ì œê³µí•©ë‹ˆë‹¤.

### ìë™ ìŠ¤ìº” ì‹œìŠ¤í…œ

`get_all_packages` í•¨ìˆ˜ê°€ `scriptmodules/retropie_setup/scriptmodules/`ë¥¼ ìë™ìœ¼ë¡œ ìŠ¤ìº”í•˜ì—¬:
- libretrocores/*.sh
- emulators/*.sh
- ports/*.sh
- ë“±ì˜ ëª¨ë“  ëª¨ë“ˆì„ ê°ì§€

### install_module í•¨ìˆ˜

5ë‹¨ê³„ ì‹¤í–‰: depends â†’ sources â†’ build â†’ install â†’ configure

### ì§ì ‘ í˜¸ì¶œ ë°©ì‹

```bash
sudo ./retropangui_setup.sh install_module "snes9x" "libretrocores"
```

---

## ì§€ì› ì‹œìŠ¤í…œ

### ì£¼ìš” ì½˜ì†”

| ì‹œìŠ¤í…œ | ì œì¡°ì‚¬ | ì¶”ì²œ ì½”ì–´ | ì¶œì‹œë…„ë„ |
|--------|--------|-----------|----------|
| NES | Nintendo | nestopia, fceumm, mesen | 1983 |
| SNES | Nintendo | snes9x, bsnes, mesen_s | 1990 |
| Mega Drive | Sega | genesisplusgx, picodrive | 1988 |
| PlayStation | Sony | pcsx_rearmed, beetle_psx, swanstation | 1994 |
| Nintendo 64 | Nintendo | mupen64plus_next, parallel_n64 | 1996 |
| Dreamcast | Sega | flycast, flycast-next | 1998 |

(ì „ì²´ ëª©ë¡ì€ systemlist.csv ì°¸ì¡°)

---

## ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

### í•˜ë“œì›¨ì–´

| í•­ëª© | ìµœì†Œ | ê¶Œì¥ |
|------|------|------|
| CPU | x86_64 / aarch64 | 4ì½”ì–´ ì´ìƒ |
| RAM | 2GB | 4GB ì´ìƒ |
| ì €ì¥ê³µê°„ | 10GB | 50GB ì´ìƒ |
| GPU | OpenGL ì§€ì› | OpenGL 3.0+ |

### ì†Œí”„íŠ¸ì›¨ì–´

| í•­ëª© | ìš”êµ¬ì‚¬í•­ |
|------|----------|
| OS | Debian 12, Ubuntu 22.04+ |
| Kernel | Linux 4.x ì´ìƒ |
| GCC | 7.x ì´ìƒ |
| CMake | 3.10 ì´ìƒ |

---

## ì„¤ì¹˜ ê°€ì´ë“œ

### ì „ì²´ ì„¤ì¹˜ (ê¶Œì¥)

```bash
cd ~/scripts
git clone https://github.com/LeonardWard/retropangui.git
cd retropangui
chmod +x retropangui_setup.sh
sudo ./retropangui_setup.sh
# "1. Base System ì„¤ì¹˜" ì„ íƒ
```

### ê°œë³„ ì„¤ì¹˜

```bash
# RetroArchë§Œ
source scriptmodules/config.sh
source scriptmodules/install_base_2_in_5_ra.sh

# EmulationStationë§Œ
source scriptmodules/install_base_3_in_5_es.sh

# íŠ¹ì • ì½”ì–´ë§Œ
sudo ./retropangui_setup.sh install_module "snes9x" "libretrocores"
```

---

## ì‚¬ìš© ê°€ì´ë“œ

### ROM ì¶”ê°€

```bash
cp game.sfc ~/share/roms/snes/
```

### BIOS ì¶”ê°€

```bash
cp scph5501.bin ~/share/bios/
```

### ì„¤ì • ë³€ê²½

```
Start â†’ UI SETTINGS
```

---

## ë””ë ‰í† ë¦¬ êµ¬ì¡°

### í”„ë¡œì íŠ¸

```
/home/pangui/scripts/retropangui/
â”œâ”€â”€ retropangui_setup.sh
â”œâ”€â”€ handover_retropangui.md
â”œâ”€â”€ README.md
â”œâ”€â”€ log/
â”œâ”€â”€ resources/
â”œâ”€â”€ docs/
â””â”€â”€ scriptmodules/
    â”œâ”€â”€ config.sh
    â”œâ”€â”€ func.sh
    â”œâ”€â”€ helpers.sh
    â”œâ”€â”€ ui.sh
    â”œâ”€â”€ packages.sh
    â”œâ”€â”€ inifuncs.sh
    â”œâ”€â”€ systemlist.csv
    â”œâ”€â”€ es_systems_generator.sh
    â”œâ”€â”€ install_base_*.sh
    â”œâ”€â”€ system_install.sh
    â”œâ”€â”€ ext_retropie_*.sh
    â””â”€â”€ retropie_setup/
```

### ëŸ°íƒ€ì„

```
/opt/retropangui/
â”œâ”€â”€ bin/
â””â”€â”€ libretro/cores/

~/share/
â”œâ”€â”€ roms/
â”œâ”€â”€ bios/
â””â”€â”€ system/configs/cores/

~/.emulationstation/
~/.config/retroarch/
```

---

## ê°œë°œ í˜„í™©

### v0.9.2

**ì™„ì„±:**
- ë…¼ë¦¬ ë²„íŠ¼ ë§¤í•‘
- ShowFolders
- ë‹¤êµ­ì–´
- ë©€í‹°ì½”ì–´ ì‹œìŠ¤í…œ
- 5ë‹¨ê³„ ìë™ ì„¤ì¹˜
- íŒ¨í‚¤ì§€ ê´€ë¦¬

**ë¯¸ì™„ì„±:**
- ì½”ì–´ ì„ íƒ UI
- ë©”ë‰´ ì¬í¸
- ì¼ë¶€ ì½”ì–´ ë¹Œë“œ

---

## ë¡œë“œë§µ

**v1.0**: ì½”ì–´ ì„ íƒ UI, ì „ì²´ ì½”ì–´ ê²€ì¦
**v1.5**: ìŠ¤í¬ë¦°ìƒ·, Scraper, Netplay
**v2.0**: ì›¹ ë„êµ¬, í´ë¼ìš°ë“œ

---

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¹Œë“œ ì‹¤íŒ¨

```bash
# ë¡œê·¸ í™•ì¸
tail -f ~/scripts/retropangui/log/retropangui_*.log

# ì˜ì¡´ì„± ì¬ì„¤ì¹˜
sudo ./retropangui_setup.sh
# "1. Base System ì„¤ì¹˜" â†’ 1ë‹¨ê³„ë§Œ ì¬ì‹¤í–‰
```

### ES ì‹¤í–‰ ì•ˆë¨

```bash
# es_systems.xml í™•ì¸
cat ~/.emulationstation/es_systems.xml

# ì¬ìƒì„±
rm ~/.emulationstation/es_systems.xml
emulationstation  # ìë™ ì¬ìƒì„±
```

---

## ê¸°ì—¬í•˜ê¸°

### ê°œë°œ ê·œì¹™

- `scriptmodules/retropie_setup/`ì€ ì½ê¸° ì „ìš©
- ìŠ¤í¬ë¦½íŠ¸ 200ì¤„ ì´ˆê³¼ ì‹œ ë¶„ë¦¬
- `log_msg` í™œìš©
- ì£¼ì„ ìˆ˜ì • ê¸ˆì§€

---

## ë¼ì´ì„ ìŠ¤

GPL-3.0 - Copyright (C) 2025 LeonardWard

---

## í¬ë ˆë”§

**ê°œë°œì**: LeonardWard
**ì°¸ê³ **: RetroPie, Recalbox, Batocera, Libretro

**GitHub**: https://github.com/LeonardWard/retropangui

[â¬†ï¸ ë§¨ ìœ„ë¡œ](#retropangui)

---

# Part 3: ìµœì‹  ê°œë°œ ì´ë ¥ (2025-10-26 ~ 2025-11-08)

> ì¶œì²˜: ê¸°ì¡´ `HANDOVER_ARCHIVE.md` (ìµœì¢… ì—…ë°ì´íŠ¸: 2025-11-08)

---

---

## ìˆ˜ì • ì´ë ¥

| ë‚ ì§œ        | ì£¼ìš” ë³€ê²½ ë‚´ìš©                                | ë‹´ë‹¹ì         |
|-------------|-----------------------------------------------|----------------|
| 2025-10-23  | ES ë…¼ë¦¬ ë²„íŠ¼ ë§¤í•‘ ë° UI ì˜µì…˜ êµ¬ì¡° ì™„ì„±         | LeonardWard    |
| 2025-10-24  | ë©€í‹°ì½”ì–´/ShowFolders ì§€ì›, ìë™í™” êµ¬ì¡° ê¸°ì´ˆ êµ¬í˜„| LeonardWard    |
| 2025-10-25  | ì»¤ë°‹/í…ŒìŠ¤íŠ¸ ê²€ì¦ ë° ë‹¤êµ­ì–´ ì‹œìŠ¤í…œ ì´ˆì•ˆ ì ìš©    | LeonardWard    |
| 2025-10-28  | ì½”ì–´ ìë™ë“±ë¡/ì„¤ì • ìë™í™”, íŒ¨ì¹˜ë°©ì‹ ì™„ì „ íê¸°  | LeonardWard    |
| 2025-10-30  | systemlist.csv/êµ¬ì¡° ì™„ì „ ìë™í™”, ê¶Œí•œë³µêµ¬ ì¶”ê°€ | LeonardWard    |
| 2025-10-31  | ë‹¤êµ­ì–´ ì§€ì› ìµœì¢… ì ìš©, ì¸ìˆ˜ì¸ê³„ ì»¤ë°‹/ë°°í¬ ê°€ì´ë“œ ì¶”ê°€ | LeonardWard    |
| 2025-11-01  | EDIT METADATA ì½”ì–´ ì„ íƒ ê¸°ëŠ¥ ì™„ì „ êµ¬í˜„ ë° ìˆ˜ì • | LeonardWard    |
| 2025-11-02  | RetroPie í˜¸í™˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹œìŠ¤í…œ êµ¬ì¶• (libretrocores) | LeonardWard    |
| 2025-11-04  | ìŠ¤í¬ë¦½íŠ¸ ë¦¬íŒ©í† ë§ ê³„íš ìˆ˜ë¦½ (ì¤‘ë³µ ì œê±°, ë³µì¡ë„ ê´€ë¦¬, ë…ë¦½í™”) | Claude (AI)    |
| 2025-11-08  | ë¦¬íŒ©í† ë§ êµ¬ì¡° í™•ì • (resources, compat, lib, pkg, ui) | Claude (AI)    |
| 2025-11-08  | Phase 1 ì™„ë£Œ: í´ë” êµ¬ì¡° ìƒì„± ë° íŒŒì¼ ì´ë™ | Claude (AI)    |
| 2025-11-08  | Phase 2 ì™„ë£Œ: func.sh, packages.sh ì™„ì „ ë¶„í•  | Claude (AI)    |
| 2025-11-08  | ES ì„¤ì¹˜ ì‹œ ê¸°ë³¸ í…Œë§ˆ(nostalgia-pure-lite-ko) ìë™ ì„¤ì¹˜ ê¸°ëŠ¥ ì¶”ê°€ | Claude (AI)    |
| 2025-11-08  | ê³µìš© í•¨ìˆ˜ ì‚¬ìš© ì›ì¹™ í™•ë¦½ ë° ë¬¸ì„œí™” | Claude (AI)    |

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

- í”„ë¡œì íŠ¸ëª…: **RetroPangui**
- ê°œë°œ ëª©í‘œ: RetroPie EmulationStation ê¸°ë°˜ì˜ ë…ìì  ë ˆíŠ¸ë¡œê²Œì„ í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¶•
- ì°¸ê³  ì•„í‚¤í…ì²˜: RetroArch, Emulationstation, Recalbox, Batocera, ES-DE, Retropie ë“±

---

## 2. ì¸ìˆ˜ì¸ê³„ ì²´í¬ë¦¬ìŠ¤íŠ¸

```
- [x] ì „ì²´ ì•„í‚¤í…ì²˜ì™€ í´ë”/íŒŒì¼ êµ¬ì¡° ì´í•´
- [x] ìµœì‹  ì»¤ë°‹ ë¡œê·¸ ë° í•µì‹¬ ë³€ê²½ì‚¬í•­ í™•ì¸
- [x] ë©€í‹°ì½”ì–´/ë…¼ë¦¬ë²„íŠ¼ ë“± í•µì‹¬ êµ¬í˜„ë¶€ ì†ŒìŠ¤ ë¦¬ë·°
- [x] ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ë™ì‘ ë° ì„¤ì •íŒŒì¼ ìƒì„± ë¡œì§ ì ê²€
- [x] ë‹¤êµ­ì–´(locale) ë²ˆì—­ ë° í°íŠ¸ fallback ì •ìƒ ë™ì‘ ê²€ì¦
- [x] ì‹ ê·œ locale ì¶”ê°€ ë° ë¹Œë“œ/í…ŒìŠ¤íŠ¸ í™•ì¸
- [x] ê¸°ëŠ¥(ê²Œì„ ì‹¤í–‰, ì„¤ì •, í´ë” í‘œì‹œ ë“±) í…ŒìŠ¤íŠ¸ ìˆ˜í–‰
- [x] í™˜ê²½ë³€ìˆ˜ ë° ìë™í™” ê²½ë¡œ êµ¬ì¡° ì ìš© í™•ì¸
- [x] ë¬¸ì„œ ë° ê°œë°œì ê°€ì´ë“œ ì°¸ê³ 
```

---


## 3. í´ë” ë° íŒŒì¼ êµ¬ì¡°

### 3.1 ë©”ì¸ í”„ë¡œì íŠ¸ ê²½ë¡œ ìƒì„¸ ì„¤ëª…

`/home/pangui/scripts/retropangui/`  
RetroPangui í”„ë¡œì íŠ¸ì˜ ì „ì²´ ê´€ë¦¬, ìë™í™” ë° ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ê°€ ìœ„ì¹˜í•©ë‹ˆë‹¤.

```
/home/pangui/scripts/retropangui/
â”œâ”€â”€ .git/                              # ì „ì²´ í”„ë¡œì íŠ¸ì˜ ë²„ì „ ê´€ë¦¬(ë¡œì»¬ ì»¤ë°‹, í‘¸ì‹œ)
â”œâ”€â”€ .gitignore                         # ë¹Œë“œ ì‚°ì¶œë¬¼/ì„ì‹œíŒŒì¼ ë“± ë¬´ì‹œ ì„¤ì •
â”œâ”€â”€ deburg_init_script.sh               # ë””ë²„ê¹… ì´ˆê¸°í™” ì „ìš© ìŠ¤í¬ë¦½íŠ¸(ì‹¤í–‰í™˜ê²½ ì ê²€)
â”œâ”€â”€ handover_retropangui.md             # í”„ë¡œì íŠ¸ í•¸ë“œì˜¤ë²„ ë° ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œ(ë³¸ ë¬¸ì„œ)
â”œâ”€â”€ log/                               # ì‹¤í–‰ ë° ì„¤ì¹˜ ì¤‘ ë¡œê·¸ ê¸°ë¡ ë””ë ‰í† ë¦¬
â”œâ”€â”€ resources/                         # ì—ë®¬ë ˆì´ì…˜, UI, ì„¤ì •ì— í•„ìš”í•œ ì´ë¯¸ì§€/ì•„ì´ì½˜/íŒ¨ì¹˜/í°íŠ¸/locale ë“± ë¦¬ì†ŒìŠ¤ ê´€ë¦¬
â”‚   â”œâ”€â”€ patches/                       # ES ë° ê´€ë ¨ í”Œì ì„ ìœ„í•œ ë ˆê±°ì‹œ íŒ¨ì¹˜íŒŒì¼(legacy)
â”‚   â”œâ”€â”€ locale/                        # ë‹¤êµ­ì–´ ë²ˆì—­, í°íŠ¸ ê´€ë¦¬
â”‚   â””â”€â”€ fonts/                         # í•œê¸€ ë“± í°íŠ¸ fallback íŒŒì¼
â”œâ”€â”€ retropangui_setup.sh                # ë©”ì¸ ì§„ì…/ì„¤ì¹˜/ëŸ°ì²˜ ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ scriptmodules/                     # í•µì‹¬ ê¸°ëŠ¥ë³„ bash/shell ìë™í™” ëª¨ë“ˆ ë””ë ‰í† ë¦¬
    â”œâ”€â”€ config.sh                      # ì „ì—­ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •, ê²½ë¡œ ì •ì˜
    â”œâ”€â”€ resources/                     # ë¦¬ì†ŒìŠ¤ íŒŒì¼
    â”‚   â”œâ”€â”€ priorities.conf            # ì—ë®¬ë ˆì´í„° ìš°ì„ ìˆœìœ„ ì„¤ì •
    â”‚   â””â”€â”€ themes/                    # ES í…Œë§ˆ
    â”‚       â””â”€â”€ nostalgia-pure-lite-ko/ # ê¸°ë³¸ í…Œë§ˆ
    â”œâ”€â”€ compat/                        # RetroPie í˜¸í™˜ ë ˆì´ì–´ (ë¯¸ë˜ ì œê±° ì˜ˆì •)
    â”‚   â”œâ”€â”€ loader.sh                  # í˜¸í™˜ ë ˆì´ì–´ í†µí•© ë¡œë”
    â”‚   â”œâ”€â”€ env.sh                     # í™˜ê²½ ì„¤ì •
    â”‚   â”œâ”€â”€ build.sh                   # ë¹Œë“œ í•¨ìˆ˜
    â”‚   â”œâ”€â”€ registry.sh                # ì—ë®¬ë ˆì´í„° ë“±ë¡
    â”‚   â””â”€â”€ utils.sh                   # ìœ í‹¸ë¦¬í‹°
    â”œâ”€â”€ lib/                           # ì‘ë™ í•¨ìˆ˜ë“¤ (RetroPangui ë„¤ì´í‹°ë¸Œ)
    â”‚   â”œâ”€â”€ log.sh                     # ë¡œê¹…
    â”‚   â”œâ”€â”€ git.sh                     # Git ì‘ì—…
    â”‚   â”œâ”€â”€ user.sh                    # ì‚¬ìš©ì/ê¶Œí•œ (set_dir_ownership_and_permissions)
    â”‚   â”œâ”€â”€ config_utils.sh            # ì„¤ì • íŒŒì¼ ìœ í‹¸ë¦¬í‹°
    â”‚   â”œâ”€â”€ retroarch_utils.sh         # RetroArch ìœ í‹¸ë¦¬í‹°
    â”‚   â”œâ”€â”€ func.sh                    # í†µí•© ë¡œë”
    â”‚   â”œâ”€â”€ ini.sh                     # INI íŒŒì‹±
    â”‚   â”œâ”€â”€ xml.sh                     # XML ì¡°ì‘
    â”‚   â”œâ”€â”€ version.sh                 # ë²„ì „ ê´€ë¦¬
    â”‚   â”œâ”€â”€ packages.sh                # íŒ¨í‚¤ì§€ ê´€ë¦¬ í†µí•© ë¡œë”
    â”‚   â”œâ”€â”€ install.sh                 # ì„¤ì¹˜ ë¡œì§
    â”‚   â”œâ”€â”€ remove.sh                  # ì œê±° ë¡œì§
    â”‚   â”œâ”€â”€ special.sh                 # íŠ¹ìˆ˜ ì¼€ì´ìŠ¤
    â”‚   â”œâ”€â”€ deps.sh                    # ì˜ì¡´ì„± ì„¤ì¹˜
    â”‚   â””â”€â”€ setup.sh                   # í™˜ê²½ ì„¤ì •
    â”œâ”€â”€ pkg/                           # ì„¤ì¹˜í•  íŒ¨í‚¤ì§€ë“¤
    â”‚   â”œâ”€â”€ system_install.sh          # Base System í†µí•© ì„¤ì¹˜
    â”‚   â”œâ”€â”€ retroarch.sh               # RetroArch íŒ¨í‚¤ì§€
    â”‚   â”œâ”€â”€ emulationstation.sh        # EmulationStation íŒ¨í‚¤ì§€ (í…Œë§ˆ ìë™ ì„¤ì¹˜ í¬í•¨)
    â”‚   â””â”€â”€ base_cores.sh              # ê¸°ì´ˆ ì½”ì–´ ë¬¶ìŒ
    â””â”€â”€ ui/                            # ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
        â””â”€â”€ menu.sh                    # ë©”ë‰´ ë¡œì§
```

#### ì£¼ìš” ëª©ì Â·ê´€ë¦¬ í¬ì¸íŠ¸

- **í•µì‹¬ ì§„ì…/ì„¤ì¹˜ìë™í™”:** `retropangui_setup.sh` ë‹¨ì¼ ìŠ¤í¬ë¦½íŠ¸ë¡œ ì „ì²´ í™˜ê²½ êµ¬ì¶• ë° ë°°í¬ ê´€ë¦¬  
- **ëª¨ë“ˆë³„ ìë™í™” ì„¤ê³„:** ëª¨ë“  install_base_*.sh, packages.shê°€ ë‹¨ê³„ë³„ë¡œ ì‘ì—…ì„ ë…ë¦½, ì—°ë™í•˜ëŠ” ëª¨ë“ˆ êµ¬ì¡°  
- **ì½”ì–´ ì—…ë°ì´íŠ¸ ë° ì‹œìŠ¤í…œ ë“±ë¡:** install_base_4_in_5_cores.sh, es_systems_updater.shê°€ ì½”ì–´ ë° ì‹œìŠ¤í…œ ìë™ ì¶”ê°€ ê°±ì‹   
- **ë¦¬ì†ŒìŠ¤/ì„¤ì • í†µí•©ê´€ë¦¬:** resources/ í´ë”(ì´ë¯¸ì§€, locale, í°íŠ¸, íŒ¨ì¹˜)ì—ì„œ ëª¨ë“  UI/ë‹¤êµ­ì–´/ë¹Œë“œ ì˜µì…˜ì„ í†µí•© ê´€ë¦¬  
- **í™˜ê²½ë³€ìˆ˜/ê²½ë¡œ ì¼ì›ê´€ë¦¬:** config.shì™€ ê° install_base_*.shì—ì„œ ëª¨ë“  ê²½ë¡œ/ë³€ìˆ˜ ê´€ë¦¬ ë° ì—ëŸ¬ ë°©ì§€
- **ê³µì‹ ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œ:** handover_retropangui.mdì— ëª¨ë“  ì‘ì—…, ë³€ê²½, ì»¤ë°‹ ê¸°ë¡ê³¼ í•¨ê»˜ ìµœì‹  ê°€ì´ë“œÂ·ì²´í¬ë¦¬ìŠ¤íŠ¸ ëª…ì‹œ  

#### ì‹ ê·œ ê´€ë¦¬ìê°€ ë°˜ë“œì‹œ ìˆ˜í–‰í•´ì•¼ í•  ê²ƒ

- ëª¨ë“  ì£¼ìš” ìŠ¤í¬ë¦½íŠ¸/ëª¨ë“ˆì˜ ì£¼ì„ ë° ì‚¬ìš©ë²• íŒŒì•…  
- `config.sh` í™˜ê²½ ë§¤ê°œë³€ìˆ˜ ë° ì¤‘ìš” ê²½ë¡œ ì¬í™•ì¸ í›„ ë³¸ì¸ì˜ ì‹œìŠ¤í…œì— ì ìš©  
- ë³€ê²½/ìˆ˜ì • ì‘ì—… ë°œìƒ ì‹œ ë°˜ë“œì‹œ ì»¤ë°‹Â·ì¶”ê°€ ë°˜ì˜ ë° í•¸ë“œì˜¤ë²„ ë¬¸ì„œì— ê¸°ë¡  
- ë¦¬ì†ŒìŠ¤(`resources/`), ì‹œìŠ¤í…œ(ì½”ì–´, XML ë“±), ì„¤ì •íŒŒì¼ ê´€ë ¨ ê²½ë¡œ/ì ìš©ì—¬ë¶€ ì ê²€ í•„ìˆ˜

---

### 3.2 ES(EmulationStation) í¬í¬ ì†ŒìŠ¤ ê²½ë¡œ

```
/home/pangui/scripts/retropangui-emulationstation/
â”œâ”€â”€ .git/
â”œâ”€â”€ .gitignore
â”œâ”€â”€ CMakeLists.txt
â”œâ”€â”€ es-app/
â”œâ”€â”€ es-core/
â”œâ”€â”€ resources/
â”‚   â””â”€â”€ locale/    # ë‹¤êµ­ì–´ ë²ˆì—­ íŒŒì¼(.po, .mo)
â”‚   â””â”€â”€ fonts/     # ê°êµ­ì–´ í°íŠ¸/í´ë°±
â”œâ”€â”€ tools/
â””â”€â”€ ê¸°íƒ€ ì†ŒìŠ¤ í´ë”
```

---

## 4. ë¹Œë“œ ë° ì„¤ì •íŒŒì¼ ìë™í™” êµ¬ì¡°

- ì½”ì–´ ë° ì‹œìŠ¤í…œ ìë™ë“±ë¡: es_systems.xml, es_settings.cfg  
- ìë™í™” ì˜ˆì‹œ
  ```
  cat > ~/.emulationstation/es_settings.cfg <<'EOF'
  <?xml version="1.0"?>
  <string name="RetroArchPath" value="/opt/retropangui/bin/retroarch" />
  <string name="LibretroCoresPath" value="/opt/retropangui/libretrocores" />
  <string name="CoreConfigPath" value="/home/pangui/share/system/configs/cores" />
  EOF
  ```

  ```
  <systemList>
    <system>
      <name>psx</name>
      ommandnd>/opt/retropangui/bin/retroarch -L %CORE% --config %CONFIG% %ROM%</command>
      oreses>
        ore name="pcsx_rearmed" module_id="lr-pcsx-rearmed" priority="2" extensions=".bin .cue .imgmg"/>
        <re name="beetle_psx" module_id="lr-beetle-psx" priority="3" extensionsns=".chd"/>
      </cores>
      <platform>psx</platform>
      <theme>psx</theme>
    </system>
    ...
  </systemList>
  ```

---

## 5. ë‹¤êµ­ì–´(locale) ì§€ì› í˜„í™©

- **ì§€ì› ì–¸ì–´**: í•œê¸€, ì˜ì–´, ì¼ë³¸ì–´, ì¤‘êµ­ì–´ ë“± 4ê°œ ì–¸ì–´
- **êµ¬í˜„ ë°©ì‹**:
  - `resources/locale` ë‚´ .po/.mo ë²ˆì—­ íŒŒì¼ ê´€ë¦¬
  - UI ì „ì²´ ë²ˆì—­(_() ë§¤í¬ë¡œ ì ìš©)
  - Settings UIì—ì„œ ì‹¤ì‹œê°„ ì–¸ì–´ ë³€ê²½ ê°€ëŠ¥
  - ëª¨ë“  ë²ˆì—­/í°íŠ¸ fallback ê²€ì¦ ì™„ë£Œ
  - CMake ë¹Œë“œÂ·locale íŒŒì¼ ìë™ ë°°í¬(2025-10-31 ìµœì¢…ë°˜ì˜)

---

## 6. í•µì‹¬ êµ¬í˜„ ë° ê°œì„  ë‚´ì—­

- ES ë©€í‹°ì½”ì–´ ì§€ì›: command í…œí”Œë¦¿ ë³€ìˆ˜ ì¹˜í™˜, module_id ê¸°ë°˜ ë™ì  ì½”ì–´ ì²˜ë¦¬
- ë…¼ë¦¬ ë²„íŠ¼ ë§¤í•‘ ë° UI ë ˆì´ì•„ì›ƒ ì˜µì…˜ ì¶”ê°€: (Nintendo/Sony/Xbox)
- ShowFolders 3ì˜µì…˜, UI-ì„¤ì • ì¦‰ì‹œ ë°˜ì˜
- ìë™í™” ìŠ¤í¬ë¦½íŠ¸(ì½”ì–´, ì‹œìŠ¤í…œ ë™ì ë“±ë¡) ë° ê¶Œí•œë³µêµ¬
- ë‹¤êµ­ì–´ ë²ˆì—­ ë° í°íŠ¸ fallback
- **ES ê¸°ë³¸ í…Œë§ˆ ìë™ ì„¤ì¹˜** (2025-11-08): EmulationStation ì„¤ì¹˜ ì‹œ nostalgia-pure-lite-ko í…Œë§ˆ ìë™ ì„¤ì¹˜
  - ìœ„ì¹˜: `scriptmodules/pkg/emulationstation.sh`
  - í…Œë§ˆ ì†ŒìŠ¤: `resources/themes/nostalgia-pure-lite-ko`
  - ì„¤ì¹˜ ê²½ë¡œ: `~/.emulationstation/themes/nostalgia-pure-lite-ko`

---

## 7. í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

```
- [x] ES ì „ì²´ ë¹Œë“œ ì„±ê³µ ë° ì‹¤í–‰ í™•ì¸
- [x] ë‹¤êµ­ì–´ ë²ˆì—­, í°íŠ¸ fallback, ì‹ ê·œ locale íŒŒì¼ ë™ì‘ í…ŒìŠ¤íŠ¸
- [x] ì½”ì–´ ì„¤ì¹˜ì‹œ es_systems.xml ìë™ ê°±ì‹  í™•ì¸
- [x] es_settings.cfg ê°’ ì ìš©(ê²½ë¡œ, í™˜ê²½ë³€ìˆ˜) ì •ìƒ í™•ì¸
- [x] UI/í´ë”/ë…¼ë¦¬ë²„íŠ¼/ë‹¤êµ­ì–´ ë“± ëª¨ë“  ê¸°ëŠ¥ ì •ìƒ ë™ì‘
- [x] íŒ¨ì¹˜ íê¸° ë° Git/Upstream ë™ê¸°í™” ê°€ëŠ¥ í™•ì¸
- [x] íŒŒì¼ ê¶Œí•œ ìë™ë³µêµ¬ ë¡œì§ ì •ìƒ í™•ì¸
```

---

## 8. ì»¤ë°‹ ë° ë³€ê²½ ì´ë ¥ (ì£¼ìš” ì»¤ë°‹ë§Œ ë°œì·Œ)

```
retropangui-emulationstation:
- fdab176  ES ë©€í‹°ì½”ì–´ module_id ë„ì…
- 910b89d  ì½”ì–´ ê²½ë¡œ ë™ì  íƒìƒ‰
- d1d68d9  command í…œí”Œë¦¿-ë³€ìˆ˜ ì¹˜í™˜
- [ë‹¤êµ­ì–´ ì¶”ê°€] localeES, ì‹ ê·œ í°íŠ¸/ë²ˆì—­ ì ìš©

retropangui:
- 75b6a8d  ì½”ì–´ì„¤ì¹˜ì‹œ es_systems.xml ìë™ê°±ì‹ 
- 514ac19  XML íŒŒì¼ ê¶Œí•œìë™ë³µêµ¬
- [ë‹¤êµ­ì–´] locale íŒŒì¼, ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ê°œì„ 
```

---

## 9. ê°œë°œ ë° í•¸ë“œì˜¤ë²„ ì»¤ë°‹/ë°°í¬ ê°€ì´ë“œ

> **â—ï¸ ì»¤ë°‹/ë¹Œë“œ/ë°°í¬ ì‹¤ë¬´ ì ˆì°¨**

1. **ëª¨ë“  ì½”ë“œ/ì„¤ì •/ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì • ë‚´ì—­ì€ ê° ì»¤ë°‹ ë©”ì‹œì§€ì— ë³€ê²½ì‚¬í•­ ìš”ì•½ì„ í•„ìˆ˜ë¡œ ë‚¨ê¹ë‹ˆë‹¤.**
2. **ë¡œì»¬ ë¸Œëœì¹˜ ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸ë¡œ ì •ìƒ ë™ì‘ í™•ì¸**
3. **ëª¨ë“  ë³€ê²½ì„ ì›ê²©(GitHub origin)ì— ì§ì ‘ pushí•˜ì—¬ ì»¤ë°‹/ë°°í¬ë¥¼ ì™„ë£Œí•©ë‹ˆë‹¤.(HANDOVER.mdëŠ” ì œì™¸)**
   ```
   git add <ìˆ˜ì •_íŒŒì¼>
   git commit -m "ë³€ê²½ ë‚´ì—­ ìš”ì•½"
   git push origin main
   ```
4. **ìµœì¢… ë¹Œë“œëŠ” ì‚¬ìš©ì ì±…ì„(ê´€ë¦¬ì)ì…ë‹ˆë‹¤. ê°œë°œìëŠ” ì»¤ë°‹ê³¼ ì›ê²© ë°˜ì˜ê¹Œì§€ ì§„í–‰í•©ë‹ˆë‹¤.**
5. **ì¸ìˆ˜ì¸ê³„ í›„ ìµœì‹  ì»¤ë°‹ ë¡œê·¸ì™€ ë³€ê²½ì‚¬í•­ì€ ë³¸ ë¬¸ì„œì— ê¸°ë¡í•˜ì„¸ìš”.**
6. ****

---

## 10. ë‹¤ìŒ ì„¸ì…˜ ì‹œì‘ ê°€ì´ë“œ

```
cd /home/pangui/scripts/retropangui
git log --oneline -10
cd /home/pangui/scripts/retropangui-emulationstation
git log --oneline -5
# ê²Œì„ ì‹¤í–‰, ë‹¤êµ­ì–´(locale) ì„¤ì •/í…ŒìŠ¤íŠ¸
# í–¥í›„ ê°œì„  ê³¼ì œ(ì½”ì–´ì„ íƒUI ë“±) ì°¸ì¡°
```

---

## 11. í–¥í›„ ê°œì„  ë° ì¶”ê°€ ë¬¸ì„œí™”

- **ê²Œì„ë³„ ì½”ì–´ ì„ íƒ ê¸°ëŠ¥ (EDIT METADATA)**
  **âœ… êµ¬í˜„ ì™„ë£Œ (2025-11-01)**

  **êµ¬í˜„ ë‚´ìš©:**
  - EDIT THIS GAME'S METADATA ë©”ë‰´ì—ì„œ EMULATOR í•„ë“œë¥¼ í†µí•´ ê²Œì„ë³„ë¡œ íŠ¹ì • ì½”ì–´ ì„ íƒ ê°€ëŠ¥
  - OptionListComponentë¥¼ ì‚¬ìš©í•œ ë“œë¡­ë‹¤ìš´ UI êµ¬í˜„
  - Auto (Default) + ì‹œìŠ¤í…œì˜ ëª¨ë“  ì‚¬ìš© ê°€ëŠ¥í•œ ì½”ì–´ ëª©ë¡ í‘œì‹œ
  - ì¢Œìš° ë°©í–¥í‚¤ ë˜ëŠ” Accept ë²„íŠ¼ìœ¼ë¡œ ì½”ì–´ ì„ íƒ
  - ì„ íƒí•œ ì½”ì–´ê°€ gamelist.xmlì— `<core>` íƒœê·¸ë¡œ ì €ì¥ë¨
  - ê²Œì„ ì‹¤í–‰ ì‹œ gamelist.xmlì˜ ì½”ì–´ ì •ë³´ë¥¼ ìš°ì„  ì‚¬ìš©

  **ì£¼ìš” ìˆ˜ì • íŒŒì¼:**
  - `es-app/src/guis/GuiMetaDataEd.cpp`: core í•„ë“œ OptionListComponent ì²˜ë¦¬ ë° save/hasChanges ë¡œì§
  - `es-core/src/components/OptionListComponent.h`: getValue()/setValue() í…œí”Œë¦¿ ë©”ì„œë“œ ì¶”ê°€
  - `es-app/src/guis/GuiGamelistOptions.cpp`: ë¶ˆí•„ìš”í•œ SELECT EMULATOR ë©”ë‰´ ì œê±°

  **ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­:**
  - OptionListComponent<std::string> ì‚¬ìš©
  - dynamic_castë¥¼ í†µí•œ íƒ€ì… ì•ˆì „ì„± í™•ë³´ (save ë° hasChanges í•¨ìˆ˜)
  - input_handlerë¥¼ í†µí•œ ì…ë ¥ ì „ë‹¬ (ì¢Œìš° ë°©í–¥í‚¤, Accept ë²„íŠ¼)
  - metadata ë³€ê²½ ê°ì§€ ë° ì €ì¥ í™•ì¸ í”„ë¡¬í”„íŠ¸ ì •ìƒ ì‘ë™

  **ì»¤ë°‹ ì´ë ¥:**
  ```
  retropangui-emulationstation:
  - f71ed65  Fix: hasChanges() now properly detects core field changes
  - cc2c809  Clean up: Remove debug logging
  - 76dd78f  Fix: Use dynamic_cast to get OptionListComponent value for core field
  - 3daa5be  Debug: Add logging and restore third parameter for row.addElement
  - 777b2f4  Fix: Change row.addElement to use 2 params for core field
  - ef23071  Fix EMULATOR field in EDIT METADATA: Add OptionListComponent support
  ```

- **HelpPrompt ë™ì  ë²„íŠ¼ í‘œê¸°**  
  í˜„ì¬ ë¯¸êµ¬í˜„(ë¬¼ë¦¬ ë²„íŠ¼ í‘œê¸° ìœ ì§€), í–¥í›„ ButtonLayout(ë…¼ë¦¬ ë°°ì¹˜) ë³€ê²½ì— ë”°ë¼ í•˜ë‹¨ ë„ì›€ë§ë„ ë…¼ë¦¬/ë ˆì´ì•„ì›ƒë³„ ë™ì ìœ¼ë¡œ í‘œê¸°ë  ìˆ˜ ìˆë„ë¡ êµ¬ì¡° ê°œì„  í•„ìš”.
  - ì‚¬ìš©ì ì…ì¥ì—ì„œ í˜¼ë™ì„ ì—†ì• ê¸° ìœ„í•´, HelpPromptê°€ ì‹¤ì œ ButtonLayoutì— ë”°ë¼ B=í™•ì¸, A=ì·¨ì†Œ ë“±ìœ¼ë¡œ ì •í™•íˆ ì•ˆë‚´ë˜ë„ë¡ ë³€ê²½ ì˜ˆì •.
  - ì†ŒìŠ¤ ìˆ˜ì • ìœ„ì¹˜ ë° ê°œì„  ë°©ì•ˆì€ ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œì— ì œì•ˆìœ¼ë¡œ ê¸°ë¡.

- **ë‹¤êµ­ì–´ ì •ì±…**  
  - í˜„ì¬ í”„ë¡œì íŠ¸ëŠ” í•œê¸€ê³¼ ì˜ë¬¸ë§Œ ê³µì‹ì ìœ¼ë¡œ ì§€ì›í•©ë‹ˆë‹¤.
  - ì¼ë³¸ì–´/ì¤‘êµ­ì–´ ë“± ì¶”ê°€ ì–¸ì–´ ì§€ì› ë° ë²ˆì—­/ë°°í¬ ì •ì±…ì€ ë³„ë„ ê´€ë¦¬ì ë˜ëŠ” íŒ€ ì „í™˜ ì‹œ ë…¼ì˜í•˜ì—¬ í™•ì¥ ê°€ëŠ¥.
  - ë¦¬ì†ŒìŠ¤ ë° locale êµ¬ì¡°ëŠ” í™•ì¥ì„± ìˆê²Œ ì„¤ê³„ë˜ì–´ ìˆìœ¼ë‚˜, ë²ˆì—­/í•´ë‹¹ ë¬¸ì„œ ì‘ì„±ì€ í•œê¸€ ë° ì˜ë¬¸ì— í•œí•¨.

- **README/ì„¤ì¹˜/ê°œë°œì ê°€ì´ë“œ**  
  - ê³µì‹ ë¬¸ì„œ(README.md, ì„¤ì¹˜ ê°€ì´ë“œ, ê°œë°œì ê°€ì´ë“œ ë“±)ëŠ” í•œê¸€Â·ì˜ë¬¸ ë²„ì „ë§Œ ê´€ë¦¬ ë° ë°°í¬í•©ë‹ˆë‹¤.
  - ê¸°ì¡´ ë¬¸ì„œëŠ” handover_retropangui.mdì— í†µí•© ì•ˆë‚´í•˜ë©°, ì‹ ê·œ ë¬¸ì„œ ì¶”ê°€ ì‹œì—ë„ ë°˜ë“œì‹œ í•œê¸€Â·ì˜ë¬¸ ì–‘ì‹ìœ¼ë¡œ ì‘ì„±/ê´€ë¦¬í•©ë‹ˆë‹¤.

---

## 12. ì½”ë“œ/ì„¤ì • ë³€ê²½ ë° ì¸ìˆ˜ì¸ê³„ ì‹œ ìœ ì˜ì‚¬í•­

- **ê¸°ì¡´ ë¡œì§ ì „ìˆ˜ íŒŒì•…(í•„ìˆ˜)**
  - ëª¨ë“  ì½”ë“œ, ìŠ¤í¬ë¦½íŠ¸, ì„¤ì • ë³€ê²½ ë˜ëŠ” ì‹ ê·œ ê¸°ëŠ¥ ì¶”ê°€ ì „ì—ëŠ” ë°˜ë“œì‹œ ê¸°ì¡´ ë¡œì§ ì „ì²´ êµ¬ì¡°ì™€ íë¦„ì„ ê¼¼ê¼¼íˆ ì ê²€í•´ì•¼ í•©ë‹ˆë‹¤.
  - ê¸°ì¡´ í•¨ìˆ˜/ëª¨ë“ˆì˜ ì„¤ê³„, ì‚¬ìš© ë°©ì‹, ì˜ì¡´ì„±, ë™ì‘ íƒ€ì´ë°, ì˜ˆì™¸ì²˜ë¦¬ ë°©ì‹ ë“±ì„ ì¶©ë¶„íˆ ì´í•´í•˜ê³  ë¬¸ì„œ/ì£¼ì„ì„ í™•ì¸í•©ë‹ˆë‹¤.
  - ë¶ˆí•„ìš”í•˜ê²Œ ìƒˆë¡œìš´ êµ¬ì¡°ë‚˜ íŒ¨í„´ì„ ìƒˆë¡œ ë„ì…í•˜ê¸°ë³´ë‹¤, í”„ë¡œì íŠ¸ ì „ì²´ì˜ ì¼ê´€ì„± ë° ìœ ì§€ë³´ìˆ˜ì„±, ê¸°ì¡´ ì •ì±…ì— ë§ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ì—…ì„ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.

- **ê³µìš© í•¨ìˆ˜ ì‚¬ìš© ì›ì¹™ (2025-11-08 í™•ë¦½)**
  - **í•„ìˆ˜**: ë””ë ‰í† ë¦¬ ìƒì„± ë° ê¶Œí•œ ì„¤ì • ì‹œ ë°˜ë“œì‹œ `set_dir_ownership_and_permissions()` ê³µìš© í•¨ìˆ˜ ì‚¬ìš©
  - **ê¸ˆì§€**: `mkdir`, `chown`, `chmod` ë“±ì„ ì§ì ‘ í˜¸ì¶œí•˜ì§€ ì•Šê³  ê³µìš© í•¨ìˆ˜ ì‚¬ìš©
  - **ìœ„ì¹˜**: `scriptmodules/lib/user.sh`ì— ì •ì˜ëœ í•¨ìˆ˜ë“¤ í™œìš©
  - **ì´ìœ **: ì‚¬ìš©ì ê¶Œí•œ ì²˜ë¦¬ì˜ ì¼ê´€ì„± ìœ ì§€, sudo í™˜ê²½ì—ì„œì˜ ì•ˆì „ì„± í™•ë³´
  - **ì˜ˆì‹œ**:
    ```bash
    # ì˜ëª»ëœ ë°©ì‹ (ì‚¬ìš© ê¸ˆì§€)
    mkdir -p /some/path
    chown user:user /some/path

    # ì˜¬ë°”ë¥¸ ë°©ì‹
    local target_user
    target_user="$(set_dir_ownership_and_permissions "/some/path")" || return 1
    # target_user ë³€ìˆ˜ë¡œ ì´í›„ íŒŒì¼ ì†Œìœ ê¶Œ ì„¤ì • ì‹œ ì‚¬ìš©
    ```
  - **ì ìš© ë²”ìœ„**: ëª¨ë“  ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸, ì„¤ì • ìŠ¤í¬ë¦½íŠ¸, ìë™í™” ìŠ¤í¬ë¦½íŠ¸

- **ë³€ê²½Â·ìˆ˜ì • ì ˆì°¨**
  1. **ë³€ê²½ ì´ì „**: ê´€ë ¨ ëª¨ë“ˆ, í•¨ìˆ˜, config íŒŒì¼, ìë™í™” ë¡œì§ì„ ëª¨ë‘ ì •ë… ë° ì´í•´.
  2. **ì„¤ê³„ ë°©ì•ˆ ê²€í† **: ë³¸ë˜ ë°©ì‹Â·ë¡œì§ì— ìµœëŒ€í•œ ë¶€í•©í•˜ëŠ” í˜•íƒœë¡œ ê°œì„ /í™•ì¥ ë°©ë²• ì„¤ê³„.
  3. **ìˆ˜ì • ë° ì ìš©**: ì¼ê´€ì„±ì„ ìœ ì§€í•˜ë©°, ê¸°ì¡´ íë¦„ì— ë§ê²Œ ì‹ ê·œ ì½”ë“œë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ë³€ê²½. **ê³µìš© í•¨ìˆ˜ ì‚¬ìš© ì›ì¹™ ì¤€ìˆ˜**.
  4. **ì»¤ë°‹ ë° ê¸°ë¡**: ëª¨ë“  ë³€ê²½ ë‚´ìš©ì€ ì»¤ë°‹ ë©”ì‹œì§€ì™€ í•¨ê»˜ ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œì— ëª…í™•íˆ ê¸°ë¡.
  5. **í…ŒìŠ¤íŠ¸ ë° ê²€ì¦**: ìˆ˜ì • í›„ ì „ì²´ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ë¡œ ê¸°ì¡´ ê¸°ëŠ¥, ì—°ë™ ëª¨ë“ˆ, ë¡œê·¸, ìë™í™” ìŠ¤í¬ë¦½íŠ¸ê°€ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸.

- **í•¸ë“œì˜¤ë²„ ë¬¸ì„œ ë°˜ì˜**
  - ëª¨ë“  ì£¼ìš” ë³€ê²½ì‚¬í•­(í•¨ìˆ˜, ëª¨ë“ˆ, í”„ë¡œì„¸ìŠ¤, ì„¤ì •íŒŒì¼ ë“±)ì€ ë³¸ í•¸ë“œì˜¤ë²„ ë¬¸ì„œì— ë°˜ë“œì‹œ ê¸°ë¡/ì£¼ì„ ì¶”ê°€ ë˜ëŠ” ë³€ê²½ ì´ë ¥ì— ë°˜ì˜
  - ì‹ ê·œ ê´€ë¦¬ìëŠ” ì¶”í›„ ì¸ìˆ˜ì¸ê³„ ì‹œ ìœ„ ì ˆì°¨ì™€ ì •ì±…ì„ ì§€ì¼œì•¼ í•¨

---

---

## 13. RetroPie í˜¸í™˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹œìŠ¤í…œ (2025-11-02 ì¶”ê°€)

### 13.1 ê°œìš”

RetroPie-Setup ìŠ¤í¬ë¦½íŠ¸ì™€ í˜¸í™˜ë˜ëŠ” libretro ì½”ì–´ ìë™ ì„¤ì¹˜ ì‹œìŠ¤í…œì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.
`scriptmodules/retropie_setup/` í•˜ìœ„ì˜ ì›ë³¸ RetroPie ìŠ¤í¬ë¦½íŠ¸ë¥¼ **ìˆ˜ì • ì—†ì´** ì‚¬ìš©í•˜ë©°,
í˜¸í™˜ ë ˆì´ì–´(`ext_retropie_*.sh`)ë¥¼ í†µí•´ ë™ì‘í•©ë‹ˆë‹¤.

### 13.2 í•µì‹¬ ì„¤ê³„ ì›ì¹™

**âš ï¸ ì¤‘ìš”: RetroPie ì›ë³¸ íŒŒì¼ ìˆ˜ì • ê¸ˆì§€**

```
/home/pangui/scripts/retropangui/scriptmodules/retropie_setup/
```

ì´ ë””ë ‰í† ë¦¬ í•˜ìœ„ì˜ ëª¨ë“  íŒŒì¼ì€ **ì ˆëŒ€ ìˆ˜ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤**.
ëŒ€ì‹  `scriptmodules/` ë£¨íŠ¸ì˜ í™•ì¥ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ í˜¸í™˜ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.

### 13.3 íŒŒì¼ êµ¬ì¡° ë° ì—­í• 

#### í•µì‹¬ íŒŒì¼ë“¤

```
scriptmodules/
â”œâ”€â”€ config.sh                    # ì „ì—­ í™˜ê²½ë³€ìˆ˜ (ê²½ë¡œ, í”Œë«í¼ ì„¤ì •)
â”œâ”€â”€ packages.sh                  # ëª¨ë“ˆ ì„¤ì¹˜ ë©”ì¸ ë¡œì§
â”œâ”€â”€ ext_retropie_core.sh         # RetroPie í˜¸í™˜ ë ˆì´ì–´ í†µí•©
â”œâ”€â”€ ext_retropie_env.sh          # RetroPie í˜¸í™˜ í™˜ê²½ ì„¤ì • (í”Œë«í¼, GCC, CFLAGS)
â”œâ”€â”€ ext_retropie_func.sh         # RetroPie í˜¸í™˜ í”Œë«í¼/ë²„ì „ ê°ì§€
â”œâ”€â”€ ext_retropie_util.sh         # RetroPie í˜¸í™˜ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”œâ”€â”€ ext_retropie_op.sh           # RetroPie í˜¸í™˜ ë™ì‘ í•¨ìˆ˜ (addEmulator ë“±)
â”œâ”€â”€ ext_retropie_inst.sh         # RetroPie í˜¸í™˜ ì„¤ì¹˜ ê´€ë ¨ í•¨ìˆ˜ (getDepends, gitPullOrClone ë“±)
â”œâ”€â”€ ext_retropie_ini.sh          # RetroPie í˜¸í™˜ INI íŒŒì¼ ì²˜ë¦¬
â””â”€â”€ retropie_setup/              # RetroPie ì›ë³¸ (ìˆ˜ì • ê¸ˆì§€!)
    â””â”€â”€ scriptmodules/
        â””â”€â”€ libretrocores/
            â”œâ”€â”€ lr-*.sh          # ê° ì½”ì–´ë³„ ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸
            â””â”€â”€ lr-*/            # ì½”ì–´ë³„ íŒ¨ì¹˜ íŒŒì¼
```

#### ê° íŒŒì¼ì˜ ì—­í• 

**config.sh**
- ì „ì—­ ê²½ë¡œ ë° í™˜ê²½ë³€ìˆ˜ ì •ì˜
- í”Œë«í¼ ê°ì§€ (`__platform`, `__platform_flags`)
- CPU í”Œë˜ê·¸ ì„¤ì • (`__default_cpu_flags`, `__default_opt_flags`)
- RetroPie í˜¸í™˜ ë³€ìˆ˜ (`emudir`, `biosdir`)

**packages.sh**
- `install_module()`: ëª¨ë“ˆ ì„¤ì¹˜ ë©”ì¸ í•¨ìˆ˜
- `remove_module()`: ëª¨ë“ˆ ì œê±° í•¨ìˆ˜
- ë‹¨ê³„ë³„ ì‹¤í–‰: depends â†’ sources â†’ build â†’ install â†’ configure
- es_systems.xml ìë™ ì—…ë°ì´íŠ¸
- íŠ¹ìˆ˜ ì¼€ì´ìŠ¤ ì²˜ë¦¬ (`get_special_core_info()`)

**ext_retropie_inst.sh**
- `gitPullOrClone()`: git ì €ì¥ì†Œ í´ë¡  (ì»¤ë°‹ í•´ì‹œ ì§€ì›)
- `getDepends()`: ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ìë™ ì„¤ì¹˜
- `installLibretroCore()`: ë¹Œë“œ ì‚°ì¶œë¬¼ ë³µì‚¬ ë° ì„¤ì¹˜
- `hasPackage()`: dpkg íŒ¨í‚¤ì§€ ì„¤ì¹˜ í™•ì¸ (ê°œì„ ë¨)

**ext_retropie_env.sh**
- `setup_env()`: í™˜ê²½ ì´ˆê¸°í™”
- GCC 14+ í˜¸í™˜ì„±: `-Wno-error=incompatible-pointer-types`, `-Wno-error=int-conversion`
- CFLAGS/CXXFLAGS ì„¤ì •

**ext_retropie_op.sh**
- `applyPatch()`: íŒ¨ì¹˜ íŒŒì¼ ì ìš© (ë¹Œë“œ ë””ë ‰í† ë¦¬ì—ì„œ)
- `addEmulator()`: ì—ë®¬ë ˆì´í„° ë“±ë¡
- `defaultRAConfig()`: RetroArch ì„¤ì • ìƒì„±

**ext_retropie_util.sh**
- `mkRomDir()`: ROM ë””ë ‰í† ë¦¬ ìƒì„±
- `isPlatform()`: í”Œë«í¼ í”Œë˜ê·¸ í™•ì¸
- `runCmd()`: ëª…ë ¹ ì‹¤í–‰ ë° ì˜¤ë¥˜ ë¡œê¹…

### 13.4 ì„¤ì¹˜ í”„ë¡œì„¸ìŠ¤

#### ë‹¨ê³„ë³„ ì‹¤í–‰ íë¦„

1. **depends**: ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜
   - `getDepends`ë¡œ apt íŒ¨í‚¤ì§€ ìë™ ì„¤ì¹˜
   - ì‹¤íŒ¨ ì‹œ ì „ì²´ ì„¤ì¹˜ ì¤‘ë‹¨

2. **sources**: ì†ŒìŠ¤ ì½”ë“œ ë‹¤ìš´ë¡œë“œ
   - `gitPullOrClone`ìœ¼ë¡œ git ì €ì¥ì†Œ í´ë¡ 
   - íŠ¹ì • ì»¤ë°‹/ë¸Œëœì¹˜ ì²´í¬ì•„ì›ƒ ì§€ì›
   - ë¹Œë“œ ë””ë ‰í† ë¦¬: `/tmp/retropangui/<module_id>`

3. **build**: ë¹Œë“œ ì‹¤í–‰
   - ë¹Œë“œ ë””ë ‰í† ë¦¬ë¡œ ì´ë™ í›„ `build_<module_id>` í•¨ìˆ˜ ì‹¤í–‰
   - í”Œë«í¼ë³„ íŒŒë¼ë¯¸í„° ìë™ ì ìš©
   - `md_ret_require` ê²€ì¦

4. **install**: íŒŒì¼ ë³µì‚¬ ì¤€ë¹„
   - `install_<module_id>` í•¨ìˆ˜ë¡œ `md_ret_files` ì„¤ì •
   - **ì¦‰ì‹œ** `installLibretroCore` í˜¸ì¶œí•˜ì—¬ íŒŒì¼ ë³µì‚¬
   - ì„¤ì¹˜ ê²½ë¡œ: `/opt/retropangui/libretrocores/<module_id>`

5. **configure**: ì„¤ì • ë° ë“±ë¡
   - `configure_<module_id>` í•¨ìˆ˜ ì‹¤í–‰
   - RetroArch ì„¤ì • ìƒì„±
   - ì—ë®¬ë ˆì´í„° ë“±ë¡

6. **es_systems.xml ì—…ë°ì´íŠ¸**
   - ì½”ì–´ ì •ë³´ ì¶”ì¶œ (system, extensions)
   - ìš°ì„ ìˆœìœ„ ì„¤ì •
   - XML ìë™ ê°±ì‹ 

### 13.5 ì£¼ìš” ê°œì„  ì‚¬í•­ ë° ë²„ê·¸ ìˆ˜ì •

#### 2025-11-02 ì„¸ì…˜ì—ì„œ í•´ê²°í•œ ë¬¸ì œë“¤

1. **íŒ¨ì¹˜ íŒŒì¼ ê²½ë¡œ ë¬¸ì œ**
   - ë¬¸ì œ: `md_data` ë³€ìˆ˜ ë¯¸ì„¤ì •ìœ¼ë¡œ íŒ¨ì¹˜ íŒŒì¼ì„ ì°¾ì§€ ëª»í•¨
   - í•´ê²°: `packages.sh`ì— `md_data` export ì¶”ê°€
   - í•´ê²°: `applyPatch()` í•¨ìˆ˜ì— ìë™ ê²½ë¡œ ë³´ì • ë¡œì§ ì¶”ê°€

2. **í”Œë«í¼ ì„¤ì • ëˆ„ë½**
   - ë¬¸ì œ: x86_64ì— RetroPie ë°©ì‹ì˜ í”Œë«í¼ í”Œë˜ê·¸ ì—†ìŒ
   - í•´ê²°: `config.sh`ì— `__default_cpu_flags="-march=native"` ì¶”ê°€
   - í•´ê²°: `__platform_flags`ì— `gl`, `vulkan`, `x11` ì¶”ê°€

3. **GCC 14 í˜¸í™˜ì„±**
   - ë¬¸ì œ: `-Wincompatible-pointer-types`, `-Wint-conversion` ì˜¤ë¥˜
   - í•´ê²°: `ext_retropie_env.sh`ì— GCC 14+ ê°ì§€ ë° í”Œë˜ê·¸ ì¶”ê°€

4. **ì»¤ë°‹ í•´ì‹œ ì§€ì›**
   - ë¬¸ì œ: `gitPullOrClone`ì´ ì»¤ë°‹ í•´ì‹œë¥¼ ì²˜ë¦¬í•˜ì§€ ëª»í•¨
   - í•´ê²°: 4ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ ì»¤ë°‹ í•´ì‹œ ì½ê³  ì²´í¬ì•„ì›ƒ

5. **hasPackage ë²„ê·¸**
   - ë¬¸ì œ: `dpkg -l`ì´ ë¯¸ì„¤ì¹˜ íŒ¨í‚¤ì§€ë„ exit 0 ë°˜í™˜
   - í•´ê²°: `grep "^ii"` ì¶”ê°€ë¡œ ì‹¤ì œ ì„¤ì¹˜ ì—¬ë¶€ í™•ì¸

6. **depends ë‹¨ê³„ ë¬´ì‹œ ë¬¸ì œ**
   - ë¬¸ì œ: `|| true`ë¡œ ì¸í•´ ì˜ì¡´ì„± ì„¤ì¹˜ ì‹¤íŒ¨ ë¬´ì‹œ
   - í•´ê²°: `|| status=$?`ë¡œ ë³€ê²½í•˜ì—¬ ì˜¤ë¥˜ ì „íŒŒ

7. **install íƒ€ì´ë° ë¬¸ì œ**
   - ë¬¸ì œ: configure ì‹¤í–‰ í›„ íŒŒì¼ ë³µì‚¬ë¡œ ì¸í•´ íŒŒì¼ ì—†ìŒ ì˜¤ë¥˜
   - í•´ê²°: install ë‹¨ê³„ ì§í›„ ì¦‰ì‹œ `installLibretroCore` í˜¸ì¶œ

8. **ëˆ„ë½ íŒŒì¼ ê°ì§€**
   - ë¬¸ì œ: í•„ìˆ˜ íŒŒì¼ ì—†ì–´ë„ ê²½ê³ ë§Œ í•˜ê³  ê³„ì† ì§„í–‰
   - í•´ê²°: `installLibretroCore`ì—ì„œ ëˆ„ë½ íŒŒì¼ ì¹´ìš´íŠ¸ í›„ ì˜¤ë¥˜ ë°˜í™˜

9. **íŠ¹ìˆ˜ ì¼€ì´ìŠ¤ ì²˜ë¦¬**
   - ë¬¸ì œ: ScummVM ë“± ROM Extensions ì—†ëŠ” ì½”ì–´
   - í•´ê²°: `get_special_core_info()` í•¨ìˆ˜ë¡œ íŠ¹ìˆ˜ ì¼€ì´ìŠ¤ ì¤‘ì•™ ê´€ë¦¬

### 13.6 ì‘ì—… ë°©ì‹ ë° ê·œì¹™

#### RetroPie ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì • ê¸ˆì§€ ì›ì¹™

**ì ˆëŒ€ ìˆ˜ì •í•˜ì§€ ì•ŠëŠ” íŒŒì¼ë“¤:**
```
scriptmodules/retropie_setup/scriptmodules/**/*.sh
scriptmodules/retropie_setup/scriptmodules/**/íŒ¨ì¹˜íŒŒì¼
```

**ëŒ€ì‹  í•´ì•¼ í•  ì¼:**
- í˜¸í™˜ ë ˆì´ì–´ í•¨ìˆ˜ ì¶”ê°€/ìˆ˜ì • (`ext_retropie_*.sh`)
- `packages.sh`ì— ë¡œì§ ì¶”ê°€
- íŠ¹ìˆ˜ ì¼€ì´ìŠ¤ëŠ” `get_special_core_info()` í•¨ìˆ˜ì— ì¶”ê°€

#### ìƒˆë¡œìš´ ì½”ì–´ ì¶”ê°€ ì‹œ

1. RetroPie ì €ì¥ì†Œì—ì„œ ìµœì‹  ìŠ¤í¬ë¦½íŠ¸ í™•ì¸
2. íŠ¹ë³„í•œ ì˜ì¡´ì„±ì´ë‚˜ ë¹Œë“œ ìš”êµ¬ì‚¬í•­ í™•ì¸
3. í…ŒìŠ¤íŠ¸ ë¹Œë“œ ìˆ˜í–‰
4. ì˜¤ë¥˜ ë°œìƒ ì‹œ:
   - í˜¸í™˜ ë ˆì´ì–´ì—ì„œ í•´ê²° ê°€ëŠ¥í•œì§€ í™•ì¸
   - í•„ìš”ì‹œ `get_special_core_info()`ì— ì¶”ê°€
   - GCC ë²„ì „ ê´€ë ¨ ë¬¸ì œëŠ” `ext_retropie_env.sh` ìˆ˜ì •

#### ë””ë²„ê¹… ë°©ë²•

ë¡œê·¸ ë ˆë²¨ ì¡°ì •:
```bash
export LOG_LEVEL=0  # DEBUG ë ˆë²¨
```

ì£¼ìš” ë¡œê·¸ ìœ„ì¹˜:
- `[INFO] (íŒŒì¼ëª…:ë¼ì¸) ë©”ì‹œì§€` í˜•ì‹
- `getDepends`: ì˜ì¡´ì„± ì„¤ì¹˜ ìƒì„¸ ë¡œê·¸
- `installLibretroCore`: íŒŒì¼ ë³µì‚¬ ìƒì„¸ ë¡œê·¸
- `applyPatch`: íŒ¨ì¹˜ ì ìš© ë¡œê·¸

#### ì£¼ì˜ì‚¬í•­

1. **ë¹Œë“œ ë””ë ‰í† ë¦¬ ì •ë¦¬**
   - sources ë‹¨ê³„ì—ì„œ ìë™ ì •ë¦¬ë¨
   - ìˆ˜ë™ ì •ë¦¬: `sudo rm -rf /tmp/retropangui/<module_id>`

2. **ê¶Œí•œ ë¬¸ì œ**
   - ë¹Œë“œëŠ” sudoë¡œ ì‹¤í–‰
   - ì„¤ì¹˜ íŒŒì¼ì€ ìë™ìœ¼ë¡œ ê¶Œí•œ ì¡°ì •
   - ROM/BIOS ë””ë ‰í† ë¦¬ëŠ” ì‚¬ìš©ì ê¶Œí•œ

3. **RetroPie í˜¸í™˜ í™˜ê²½ ë³€ìˆ˜**
   - `md_id`: ëª¨ë“ˆ ID
   - `md_build`: ë¹Œë“œ ë””ë ‰í† ë¦¬
   - `md_inst`: ì„¤ì¹˜ ë””ë ‰í† ë¦¬
   - `md_data`: ë°ì´í„° ë””ë ‰í† ë¦¬ (íŒ¨ì¹˜ ë“±)
   - `md_ret_files`: ì„¤ì¹˜í•  íŒŒì¼ ëª©ë¡
   - `md_ret_require`: ë¹Œë“œ í›„ í•„ìˆ˜ íŒŒì¼

### 13.7 ì„±ê³µì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ëœ ì½”ì–´

- âœ… lr-pcsx-rearmed (PlayStation)
- âœ… lr-mupen64plus (Nintendo 64)
- âœ… lr-np2kai (PC-98)
- âœ… lr-scummvm (ScummVM)

### 13.8 í–¥í›„ í™•ì¥

- ì¶”ê°€ libretro ì½”ì–´ ì„¤ì¹˜ ì§€ì›
- emulators íƒ€ì… ì§€ì› (ë…ë¦½ ì—ë®¬ë ˆì´í„°)
- ports íƒ€ì… ì§€ì› (í¬íŠ¸ ê²Œì„)
- ìë™ ì—…ë°ì´íŠ¸ ì‹œìŠ¤í…œ

---

## 14. ìŠ¤í¬ë¦½íŠ¸ ë¦¬íŒ©í† ë§ ê³„íš (2025-11-04 ì¶”ê°€)

### 14.1 ë¦¬íŒ©í† ë§ ëª©ì 

í˜„ì¬ ìŠ¤í¬ë¦½íŠ¸ êµ¬ì¡°ëŠ” RetroPie ì˜ì¡´ì ì´ë©°, ì¼ë¶€ íŒŒì¼ì´ ë³µì¡ë„ê°€ ë†’ì•„ ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ìš´ ìƒíƒœì…ë‹ˆë‹¤.
í–¥í›„ **RetroPie ë…ë¦½ì ì¸ RetroPangui ë„¤ì´í‹°ë¸Œ ì‹œìŠ¤í…œ**ìœ¼ë¡œ ì „í™˜í•˜ê¸° ìœ„í•œ ë¦¬íŒ©í† ë§ì´ í•„ìš”í•©ë‹ˆë‹¤.

**ì£¼ìš” ëª©í‘œ:**
1. **ì¤‘ë³µ í•¨ìˆ˜ ì œê±°** - ë™ì¼ ê¸°ëŠ¥ì„ í•˜ëŠ” í•¨ìˆ˜ê°€ ì—¬ëŸ¬ íŒŒì¼ì— ë¶„ì‚°ë˜ì–´ ìˆìŒ
2. **ë³µì¡ë„ ê´€ë¦¬** - AI ë° ê°œë°œìê°€ ê´€ë¦¬ ê°€ëŠ¥í•œ íŒŒì¼ í¬ê¸° ë° ì—­í•  ë¶„ë¦¬
3. **RetroPie ì˜ì¡´ì„± ë¶„ë¦¬** - í˜¸í™˜ ë ˆì´ì–´ì™€ ë„¤ì´í‹°ë¸Œ í•¨ìˆ˜ ëª…í™•íˆ êµ¬ë¶„
4. **ëª¨ë“ˆí™” ê°•í™”** - ì½”ì–´/ì—ë®¬/RetroArch/ES ì„¤ì¹˜ë¥¼ ê³µí†µ í•¨ìˆ˜ë¡œ ì²˜ë¦¬

### 14.2 í˜„ì¬ ë¬¸ì œì 

#### ì¤‘ë³µ í•¨ìˆ˜

| ê¸°ëŠ¥ | íŒŒì¼ 1 | íŒŒì¼ 2 | ë¹„ê³  |
|------|--------|--------|------|
| INI ì²˜ë¦¬ | `inifuncs.sh` | `ext_retropie_ini.sh` | ì™„ì „ ì¤‘ë³µ, ë ˆê±°ì‹œ |
| Git í´ë¡  | `func.sh::git_Pull_Or_Clone()` | `ext_retropie_inst.sh::gitPullOrClone()` | ë¹„ìŠ·í•œ ê¸°ëŠ¥ |
| ì½”ì–´ ì„¤ì¹˜ | `ext_retropie_func.sh::installLibretroCore()` | `ext_retropie_inst.sh::installLibretroCore()` | ì§§ì€ ë²„ì „ vs ì™„ì „ ë²„ì „ |
| ROM ë””ë ‰í† ë¦¬ | `packages.sh::mkRomDir()` | `ext_retropie_util.sh::mkRomDir()` | stub vs ì‹¤ì œ êµ¬í˜„ |

#### ë³µì¡í•œ íŒŒì¼

| íŒŒì¼ | ì¤„ ìˆ˜ | ë¬¸ì œì  |
|------|------|--------|
| `ui.sh` | 606ì¤„ | Dialog, íŒ¨í‚¤ì§€ ê´€ë¦¬, ì„¤ì •, ì—…ë°ì´íŠ¸ ë“± ì—­í•  ê³¼ë‹¤ |
| `func.sh` | 493ì¤„ | Git, ì‚¬ìš©ì ê´€ë¦¬, ì„¤ì •, RetroArch ì„¤ì¹˜, ëª¨ë“ˆ ì²´í¬ ë“± í˜¼ì¬ |
| `packages.sh` | 393ì¤„ | ëª¨ë“ˆ ì„¤ì¹˜/ì œê±° + stub í•¨ìˆ˜ í˜¼ì¬ |
| `es_systems_updater.sh` | 329ì¤„ | XML ì¡°ì‘ + ì‹œìŠ¤í…œ ë“±ë¡ í˜¼ì¬ |

#### êµ¬ì¡°ì  ë¬¸ì œ

```
í˜„ì¬: RetroPie í•¨ìˆ˜ì™€ RetroPangui í•¨ìˆ˜ê°€ ëª…í™•íˆ ë¶„ë¦¬ ì•ˆ ë¨
ë¯¸ë˜: retropie_setup/ ì œê±° ì˜ˆì • â†’ ë…ë¦½ì  êµ¬ì¡° í•„ìš”
```

### 14.3 ìƒˆë¡œìš´ ë””ë ‰í† ë¦¬ êµ¬ì¡° (2025-11-08 í™•ì •)

**ì„¤ê³„ ì›ì¹™:**
1. **compat/** - RetroPie í˜¸í™˜ ë ˆì´ì–´ (ë¯¸ë˜ ì œê±° ì˜ˆì •)
2. **lib/** - ì‘ë™ í•¨ìˆ˜ë“¤ (ì„¤ì¹˜/ì œê±°/íŒŒì‹±/ë¡œê¹… ë“± ëª¨ë“  ê¸°ëŠ¥ í•¨ìˆ˜)
3. **pkg/** - ì„¤ì¹˜í•  íŒ¨í‚¤ì§€ë“¤ (RetroArch, EmulationStation, ê¸°ì´ˆ ì½”ì–´ ë“±)
4. **ui/** - ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
5. **resources/** - ì„¤ì • íŒŒì¼ ë° ë¦¬ì†ŒìŠ¤

```
scriptmodules/
â”‚
â”œâ”€â”€ retropangui_setup.sh               # ì§„ì…ì 
â”œâ”€â”€ config.sh                          # í™˜ê²½ ë³€ìˆ˜
â”‚
â”œâ”€â”€ resources/                         # ğŸŸ¢ ë¦¬ì†ŒìŠ¤ íŒŒì¼
â”‚   â””â”€â”€ priorities.conf                # ì—ë®¬ë ˆì´í„° ìš°ì„ ìˆœìœ„ ì„¤ì •
â”‚
â”œâ”€â”€ compat/                            # ğŸ”´ RetroPie í˜¸í™˜ ë ˆì´ì–´ (ë¯¸ë˜ ì œê±° ì˜ˆì •)
â”‚   â”œâ”€â”€ loader.sh                      # í˜¸í™˜ ë ˆì´ì–´ í†µí•© ë¡œë” (ext_retropie_core.sh)
â”‚   â”œâ”€â”€ env.sh                         # í™˜ê²½ ì„¤ì • (ext_retropie_env.sh)
â”‚   â”œâ”€â”€ build.sh                       # ë¹Œë“œ í•¨ìˆ˜ (ext_retropie_inst.sh)
â”‚   â”œâ”€â”€ registry.sh                    # ì—ë®¬ë ˆì´í„° ë“±ë¡ (ext_retropie_op.sh)
â”‚   â”œâ”€â”€ utils.sh                       # ìœ í‹¸ë¦¬í‹° (ext_retropie_util.sh)
â”‚   â””â”€â”€ packages.sh                    # RetroPie íŒ¨í‚¤ì§€ ê´€ë¦¬ í•¨ìˆ˜ (func.sh ë¶„í• )
â”‚
â”œâ”€â”€ lib/                               # ğŸŸ¢ ì‘ë™ í•¨ìˆ˜ë“¤ (RetroPangui ë„¤ì´í‹°ë¸Œ)
â”‚   â”œâ”€â”€ log.sh                         # ë¡œê¹… (helpers.sh)
â”‚   â”œâ”€â”€ git.sh                         # Git ì‘ì—… (func.sh ë¶„í• )
â”‚   â”œâ”€â”€ user.sh                        # ì‚¬ìš©ì/ê¶Œí•œ (func.sh ë¶„í• )
â”‚   â”œâ”€â”€ config_utils.sh                # ì„¤ì • íŒŒì¼ ìœ í‹¸ë¦¬í‹° (func.sh ë¶„í• )
â”‚   â”œâ”€â”€ retroarch_utils.sh             # RetroArch ìœ í‹¸ë¦¬í‹° (func.sh ë¶„í• )
â”‚   â”œâ”€â”€ func.sh                        # í†µí•© ë¡œë” (ë¶„í• ëœ ë„¤ì´í‹°ë¸Œ í•¨ìˆ˜ë“¤ì„ source)
â”‚   â”œâ”€â”€ ini.sh                         # INI íŒŒì‹± (inifuncs.sh)
â”‚   â”œâ”€â”€ xml.sh                         # XML ì¡°ì‘ (es_systems_updater.sh)
â”‚   â”œâ”€â”€ version.sh                     # ë²„ì „ ê´€ë¦¬ (version.sh)
â”‚   â”œâ”€â”€ packages.sh                    # íŒ¨í‚¤ì§€ ê´€ë¦¬ í†µí•© ë¡œë” (install, remove, special ë¡œë“œ)
â”‚   â”œâ”€â”€ install.sh                     # ì„¤ì¹˜ ë¡œì§ (packages.sh install_module ë¶„í• )
â”‚   â”œâ”€â”€ remove.sh                      # ì œê±° ë¡œì§ (packages.sh remove_module ë¶„í• )
â”‚   â”œâ”€â”€ special.sh                     # íŠ¹ìˆ˜ ì¼€ì´ìŠ¤ (packages.sh ë¶„í• )
â”‚   â”œâ”€â”€ deps.sh                        # ì˜ì¡´ì„± ì„¤ì¹˜ (install_base_1_in_5_deps.sh)
â”‚   â””â”€â”€ setup.sh                       # í™˜ê²½ ì„¤ì • (install_base_5_in_5_setup_env.sh)
â”‚
â”œâ”€â”€ pkg/                               # ğŸŸ¢ ì„¤ì¹˜í•  íŒ¨í‚¤ì§€ë“¤
â”‚   â”œâ”€â”€ system_install.sh              # Base System í†µí•© ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ retroarch.sh                   # RetroArch íŒ¨í‚¤ì§€ (install_base_2_in_5_ra.sh)
â”‚   â”œâ”€â”€ emulationstation.sh            # EmulationStation íŒ¨í‚¤ì§€ (install_base_3_in_5_es.sh)
â”‚   â””â”€â”€ base_cores.sh                  # ê¸°ì´ˆ ì½”ì–´ ë¬¶ìŒ (install_base_4_in_5_cores.sh)
â”‚
â””â”€â”€ ui/                                # ğŸŸ¢ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
    â””â”€â”€ menu.sh                        # ë©”ë‰´ ë¡œì§ (ui.sh ì´ë™, í–¥í›„ ë¶„í•  ì˜ˆì •)
```

**í•µì‹¬ ê°œì„ ì :**
- **ì´ 5ê°œ í´ë”** (resources, compat, lib, pkg, ui) - ì—­í• ì´ ëª…í™•í•˜ê²Œ ë¶„ë¦¬
- **lib/ vs pkg/ ëª…í™•í•œ êµ¬ë¶„**: libì€ "ì‘ë™ í•¨ìˆ˜", pkgëŠ” "ì„¤ì¹˜í•  íŒ¨í‚¤ì§€"
- **resources/ ì¶”ê°€**: ì„¤ì • íŒŒì¼ ë° ë¦¬ì†ŒìŠ¤ë¥¼ ë³„ë„ ê´€ë¦¬
- **ì¤‘ë³µ ì œê±° ì™„ë£Œ**:
  - inifuncs.shì™€ ext_retropie_ini.sh í†µí•©
  - func.sh ì™„ì „ ë¶„í•  (493ì¤„ â†’ 5ê°œ ëª¨ë“ˆ + 19ì¤„ ë¡œë”)
    - lib/: ë„¤ì´í‹°ë¸Œ í•¨ìˆ˜ (git, user, config_utils, retroarch_utils)
    - compat/: RetroPie í˜¸í™˜ í•¨ìˆ˜ (packages)
  - packages.sh ì™„ì „ ë¶„í•  (393ì¤„ â†’ 3ê°œ ëª¨ë“ˆ + 53ì¤„ ë¡œë”)
- **config.sh ìµœìƒìœ„ ì´ë™**: í”„ë¡œì íŠ¸ ì „ì²´ ì„¤ì •ì„ ë£¨íŠ¸ì—ì„œ ê´€ë¦¬
- **lib/ vs compat/ ëª…í™•í•œ ë¶„ë¦¬**: RetroPie ì˜ì¡´ í•¨ìˆ˜ëŠ” compat/ì—ë§Œ ìœ„ì¹˜

### 14.4 ì‚¬ìš©ë²• ê°œì„ 

**ê¸°ì¡´ ë°©ì‹:**
```bash
sudo ./retropangui_setup.sh install_module lr-pcsx-rearmed libretrocores
```

**ê°œì„ ëœ ë°©ì‹ (íƒ€ì… ìë™ ê°ì§€):**
```bash
# ë‹¨ì¼ íŒ¨í‚¤ì§€ ì„¤ì¹˜
sudo ./retropangui_setup.sh install_module lr-pcsx-rearmed
sudo ./retropangui_setup.sh install_module retroarch
sudo ./retropangui_setup.sh install_module emulationstation

# ì—¬ëŸ¬ íŒ¨í‚¤ì§€ í•œë²ˆì— ì„¤ì¹˜
sudo ./retropangui_setup.sh install_module lr-pcsx-rearmed retroarch emulationstation
```

**ìë™ íƒ€ì… ê°ì§€ ë¡œì§:**
- `lr-*` íŒŒì¼ëª… â†’ `libretrocores`ì—ì„œ ìë™ íƒìƒ‰
- `retroarch`, `emulationstation` â†’ íŠ¹ë³„ ì¼€ì´ìŠ¤ ì²˜ë¦¬
- íŒŒì¼ëª… ê¸°ë°˜ìœ¼ë¡œ íƒ€ì… ìë™ ê²°ì •

### 14.5 ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ

#### Phase 1: í´ë” êµ¬ì¡° ìƒì„± (ì™„ë£Œ: 2025-11-08)
1. âœ… `resources/` í´ë” ìƒì„± ë° `priorities.conf` ì´ë™
2. âœ… `compat/` í´ë” ìƒì„± ë° `ext_retropie_*.sh` ì´ë™/ì •ë¦¬
3. âœ… `lib/` í´ë” ìƒì„± ë° ì‘ë™ í•¨ìˆ˜ë“¤ ì´ë™
4. âœ… `pkg/` í´ë” ìƒì„± ë° `install_base_*.sh` íŒ¨í‚¤ì§€ íŒŒì¼ë“¤ ì´ë™
5. âœ… `ui/` í´ë” ìƒì„± ë° `ui.sh` â†’ `ui/menu.sh` ì´ë™
6. âœ… `config.sh` ìµœìƒìœ„ í´ë”ë¡œ ì´ë™
7. âœ… `retropangui_setup.sh` ìˆ˜ì • (ìƒˆ êµ¬ì¡° ë°˜ì˜)

#### Phase 2: ì¤‘ë³µ ì œê±° ë° í†µí•© (ì™„ë£Œ: 2025-11-08)
1. âœ… `inifuncs.sh`ì™€ `ext_retropie_ini.sh` í†µí•© â†’ `compat/ini.sh` ë° `lib/ini.sh`
2. âœ… `ext_retropie_func.sh` ì œê±° ì™„ë£Œ (compat/ í´ë”ë¡œ ë¶„ì‚°)
3. âœ… `func.sh` ë¶„í•  ì™„ë£Œ:
   - `lib/git.sh`: Git ê´€ë ¨ í•¨ìˆ˜ (get_Git_Project_Dir_Name, git_Pull_Or_Clone, git_check_update)
   - `lib/user.sh`: ì‚¬ìš©ì ê´€ë ¨ í•¨ìˆ˜ (get_effective_user, set_dir_ownership_and_permissions)
   - `lib/config_utils.sh`: ì„¤ì • íŒŒì¼ ìœ í‹¸ë¦¬í‹° (config_set)
   - `lib/retroarch_utils.sh`: RetroArch ê´€ë ¨ í•¨ìˆ˜ (create_runcommand_script, create_runcommand_config_script, install_ra_component)
   - `compat/packages.sh`: RetroPie íŒ¨í‚¤ì§€ ê´€ë¦¬ í•¨ìˆ˜ (is_module_installed, rp_checkModulePlatform, get_all_packages, get_packages_with_update_status)
   - `lib/func.sh`: í†µí•© ë¡œë” (ë„¤ì´í‹°ë¸Œ í•¨ìˆ˜ë§Œ source)
4. âœ… `packages.sh` ë¶„í•  ì™„ë£Œ â†’ `lib/install.sh`, `lib/remove.sh`, `lib/special.sh`
5. âœ… `es_systems_updater.sh` ë¶„í•  ì™„ë£Œ â†’ `lib/xml.sh`

#### Phase 3: ë…ë¦½í™” (ì¥ê¸°)
1. `compat/` ë ˆì´ì–´ ì‚¬ìš© ìµœì†Œí™”
2. ëª¨ë“  ê¸°ëŠ¥ì„ RetroPangui ë„¤ì´í‹°ë¸Œ í•¨ìˆ˜ë¡œ ì „í™˜
3. `retropie_setup/` í´ë” ì œê±° ë˜ëŠ” ë³„ë„ ì €ì¥ì†Œë¡œ ë¶„ë¦¬

### 14.6 ì‘ì—… ìš°ì„ ìˆœìœ„ (2025-11-08)

```
Phase 1 (ì™„ë£Œ: 2025-11-08):
âœ… 1. [ë†’ìŒ] í´ë” êµ¬ì¡° ìƒì„± (resources, compat, lib, pkg, ui)
âœ… 2. [ë†’ìŒ] ê¸°ì¡´ íŒŒì¼ ì´ë™ ë° ì •ë¦¬
âœ… 3. [ë†’ìŒ] retropangui_setup.sh ìˆ˜ì •
âœ… 4. [ë†’ìŒ] config.sh ìµœìƒìœ„ í´ë”ë¡œ ì´ë™

Phase 2 (ì™„ë£Œ: 2025-11-08):
âœ… 5. [ì¤‘ê°„] ì¤‘ë³µ í•¨ìˆ˜ ì œê±° ë° í†µí•©
âœ… 6. [ì¤‘ê°„] ë³µì¡í•œ íŒŒì¼ ë¶„í•  (func.sh, packages.sh)
   - func.sh â†’ 5ê°œ ëª¨ë“ˆ íŒŒì¼ë¡œ ë¶„í• 
     - lib/: git, user, config_utils, retroarch_utils, func (loader)
     - compat/: packages (RetroPie í˜¸í™˜ í•¨ìˆ˜)
   - packages.sh â†’ 3ê°œ ëª¨ë“ˆ íŒŒì¼ë¡œ ë¶„í•  (install, remove, special)

Phase 3 (ì¥ê¸°):
7. [ë‚®ìŒ] ui/menu.sh ë¶„í•  (dialog.sh, config.sh, menu.sh)
8. [ë‚®ìŒ] RetroPie ì˜ì¡´ì„± ì™„ì „ ì œê±°
```

### 14.7 ì£¼ì˜ì‚¬í•­

**ì ˆëŒ€ ê±´ë“œë¦¬ì§€ ì•ŠìŒ:**
- `scriptmodules/retropie_setup/` í•˜ìœ„ ëª¨ë“  íŒŒì¼
  - ì´ í´ë”ëŠ” ì½”ì–´/ì—ë®¬ë ˆì´í„° ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ë§Œ ì°¸ì¡°ìš©ìœ¼ë¡œ ì‚¬ìš©
  - ë¯¸ë˜ì— ì œê±°í•˜ê±°ë‚˜ ë³„ë„ ì €ì¥ì†Œë¡œ ë¶„ë¦¬ ì˜ˆì •

**í˜¸í™˜ì„± ìœ ì§€:**
- ê¸°ì¡´ `retropangui_setup.sh` ì§„ì…ì  ë³€ê²½ ìµœì†Œí™”
- ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ëŠ” `config.sh`ì—ì„œ ê´€ë¦¬
- ì ì§„ì  ì „í™˜ìœ¼ë¡œ ê¸°ì¡´ ê¸°ëŠ¥ ìœ ì§€

### 14.8 í–¥í›„ ì‘ì—…

1. **í•¨ìˆ˜ ë„¤ì´ë° ì»¨ë²¤ì…˜ í™•ì •**
   - `rpg_*` ì ‘ë‘ì‚¬ ì‚¬ìš© ê·œì¹™ ëª…í™•í™”
   - ì¼ê´€ì„± ìˆëŠ” ë™ì‚¬/ëª…ì‚¬ ì‚¬ìš© (ì˜ˆ: `install`, `create`, `check`, `get` ë“±)

2. **ìƒì„¸ ë¦¬íŒ©í† ë§ ê³„íš ìˆ˜ë¦½**
   - íŒŒì¼ë³„ í•¨ìˆ˜ ëª©ë¡ ë° ì´ë™ ê³„íš
   - ì˜ì¡´ì„± ê·¸ë˜í”„ ì‘ì„±
   - ë‹¨ê³„ë³„ í…ŒìŠ¤íŠ¸ ê³„íš

3. **ë¬¸ì„œí™”**
   - ê° ëª¨ë“ˆì˜ ì—­í•  ë° ì‚¬ìš©ë²•
   - í•¨ìˆ˜ ë ˆí¼ëŸ°ìŠ¤
   - ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

---

## 15. ë ˆê±°ì‹œ íŒŒì¼ëª… ì°¸ì¡° (ê¸°ë¡ìš©)

2025-11-08 ë¦¬íŒ©í† ë§ìœ¼ë¡œ ì¸í•´ ë‹¤ìŒ íŒŒì¼ë“¤ì´ ìƒˆë¡œìš´ êµ¬ì¡°ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤.
ë¬¸ì„œë‚˜ íˆìŠ¤í† ë¦¬ì—ì„œ ì´ì „ íŒŒì¼ëª…ì„ ì°¸ì¡°í•  ê²½ìš° ì•„ë˜ ë§¤í•‘ ì •ë³´ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

### íŒ¨í‚¤ì§€ ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸

| ì´ì „ íŒŒì¼ëª… (ë ˆê±°ì‹œ) | í˜„ì¬ íŒŒì¼ëª… | ë¹„ê³  |
|---------------------|------------|------|
| `install_base_1_in_5_deps.sh` | `lib/deps.sh` | ì˜ì¡´ì„± ì„¤ì¹˜ |
| `install_base_2_in_5_ra.sh` | `pkg/retroarch.sh` | RetroArch ì„¤ì¹˜ |
| `install_base_3_in_5_es.sh` | `pkg/emulationstation.sh` | EmulationStation ì„¤ì¹˜ + **í…Œë§ˆ ìë™ ì„¤ì¹˜ ì¶”ê°€** |
| `install_base_4_in_5_cores.sh` | `pkg/base_cores.sh` | ê¸°ì´ˆ ì½”ì–´ ë¬¶ìŒ |
| `install_base_5_in_5_setup_env.sh` | `lib/setup.sh` | í™˜ê²½ ì„¤ì • |

### ê³µí†µ í•¨ìˆ˜ ë° ìœ í‹¸ë¦¬í‹°

| ì´ì „ íŒŒì¼ëª… (ë ˆê±°ì‹œ) | í˜„ì¬ íŒŒì¼ëª… | ë¹„ê³  |
|---------------------|------------|------|
| `func.sh` (493ì¤„) | **ë¶„í• ë¨** | ì•„ë˜ 5ê°œ íŒŒì¼ë¡œ ë¶„í•  |
| â¤· Git ê´€ë ¨ í•¨ìˆ˜ | `lib/git.sh` | git_Pull_Or_Clone ë“± |
| â¤· ì‚¬ìš©ì/ê¶Œí•œ í•¨ìˆ˜ | `lib/user.sh` | set_dir_ownership_and_permissions ë“± |
| â¤· ì„¤ì • ìœ í‹¸ë¦¬í‹° | `lib/config_utils.sh` | config_set ë“± |
| â¤· RetroArch ìœ í‹¸ë¦¬í‹° | `lib/retroarch_utils.sh` | create_runcommand_script ë“± |
| â¤· RetroPie íŒ¨í‚¤ì§€ ê´€ë¦¬ | `compat/packages.sh` | is_module_installed ë“± |
| `packages.sh` (393ì¤„) | **ë¶„í• ë¨** | ì•„ë˜ 3ê°œ íŒŒì¼ë¡œ ë¶„í•  |
| â¤· ì„¤ì¹˜ ë¡œì§ | `lib/install.sh` | install_module |
| â¤· ì œê±° ë¡œì§ | `lib/remove.sh` | remove_module |
| â¤· íŠ¹ìˆ˜ ì¼€ì´ìŠ¤ | `lib/special.sh` | get_special_core_info |
| `es_systems_updater.sh` | `lib/xml.sh` | XML ì¡°ì‘ í•¨ìˆ˜ |
| `helpers.sh` | `lib/log.sh` | ë¡œê¹… í•¨ìˆ˜ |
| `inifuncs.sh` | `lib/ini.sh` (í†µí•©) | INI íŒŒì‹±, ext_retropie_ini.shì™€ í†µí•© |
| `ui.sh` | `ui/menu.sh` | ë©”ë‰´ ë¡œì§ |

### RetroPie í˜¸í™˜ ë ˆì´ì–´

| ì´ì „ íŒŒì¼ëª… (ë ˆê±°ì‹œ) | í˜„ì¬ íŒŒì¼ëª… | ë¹„ê³  |
|---------------------|------------|------|
| `ext_retropie_core.sh` | `compat/loader.sh` | í˜¸í™˜ ë ˆì´ì–´ í†µí•© ë¡œë” |
| `ext_retropie_env.sh` | `compat/env.sh` | í™˜ê²½ ì„¤ì • |
| `ext_retropie_inst.sh` | `compat/build.sh` | ë¹Œë“œ í•¨ìˆ˜ |
| `ext_retropie_op.sh` | `compat/registry.sh` | ì—ë®¬ë ˆì´í„° ë“±ë¡ |
| `ext_retropie_util.sh` | `compat/utils.sh` | ìœ í‹¸ë¦¬í‹° |
| `ext_retropie_ini.sh` | `lib/ini.sh` (í†µí•©) | INI íŒŒì‹±, inifuncs.shì™€ í†µí•© |
| `ext_retropie_func.sh` | **ì œê±°ë¨** | compat/ í´ë”ë¡œ ë¶„ì‚° í†µí•© |

### ì„¤ì • ë° ë¦¬ì†ŒìŠ¤

| ì´ì „ ìœ„ì¹˜ | í˜„ì¬ ìœ„ì¹˜ | ë¹„ê³  |
|----------|----------|------|
| `scriptmodules/config.sh` | `config.sh` (ë£¨íŠ¸) | ìµœìƒìœ„ë¡œ ì´ë™ |
| `priorities.conf` (ìœ„ì¹˜ ë¯¸ì •) | `resources/priorities.conf` | ì—ë®¬ë ˆì´í„° ìš°ì„ ìˆœìœ„ |
| `resources/themes/` (í”„ë¡œì íŠ¸ ë£¨íŠ¸) | `scriptmodules/resources/themes/` | í…Œë§ˆ ë¦¬ì†ŒìŠ¤ |

---

**ê³µì§€:** ë¬¸ì˜ ë° ì£¼ìš” ë³€ê²½ì‹œì—ëŠ” ë°˜ë“œì‹œ ë³¸ ë¬¸ì„œì— ì£¼ì„ ì¶”ê°€ í›„, ë‹´ë‹¹ì ë˜ëŠ” GitHub Issueë¡œ ê¸°ë¡/ê³µìœ  ë°”ëë‹ˆë‹¤.